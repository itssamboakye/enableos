{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/base64Decode.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.base64Decode = base64Decode;\nfunction base64Decode(str) {\n    if (typeof Buffer === \"function\") {\n        // Node.js environment\n        return Buffer.from(str, \"base64\");\n    }\n    else if (typeof atob === \"function\") {\n        // Browser environment\n        return atob(str);\n    }\n    else {\n        throw new Error(\"Base64 encoding not supported in this environment.\");\n    }\n}\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,YAAY,GAAG;AACvB,SAAS,aAAa,GAAG;IACrB,IAAI,OAAO,WAAW,YAAY;QAC9B,sBAAsB;QACtB,OAAO,OAAO,IAAI,CAAC,KAAK;IAC5B,OACK,IAAI,OAAO,SAAS,YAAY;QACjC,sBAAsB;QACtB,OAAO,KAAK;IAChB,OACK;QACD,MAAM,IAAI,MAAM;IACpB;AACJ"}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/base64Encode.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.base64Encode = base64Encode;\nfunction base64Encode(str) {\n    if (typeof Buffer === \"function\") {\n        // Node.js environment\n        return Buffer.from(str).toString(\"base64\");\n    }\n    else if (typeof btoa === \"function\") {\n        // Browser environment\n        return btoa(str);\n    }\n    else {\n        throw new Error(\"Base64 encoding not supported in this environment.\");\n    }\n}\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,YAAY,GAAG;AACvB,SAAS,aAAa,GAAG;IACrB,IAAI,OAAO,WAAW,YAAY;QAC9B,sBAAsB;QACtB,OAAO,OAAO,IAAI,CAAC,KAAK,QAAQ,CAAC;IACrC,OACK,IAAI,OAAO,SAAS,YAAY;QACjC,sBAAsB;QACtB,OAAO,KAAK;IAChB,OACK;QACD,MAAM,IAAI,MAAM;IACpB;AACJ"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/convertBase64ToBlob.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.convertBase64ToBlob = convertBase64ToBlob;\n/**\n * Converts a base64-encoded string into a `Blob` object with the specified content type.\n *\n * @param {string} base64 - The base64-encoded string representing binary data.\n * @param {string} contentType - The MIME type to assign to the resulting `Blob`.\n * @returns {Blob} A `Blob` object containing the binary data from the base64 string.\n */\nfunction convertBase64ToBlob(base64, contentType) {\n    // Decode base64 string to a binary string\n    const binaryString = window.atob(base64);\n    // Create a Uint8Array with the same length as the binary string\n    const byteArray = new Uint8Array(binaryString.length);\n    // Fill the Uint8Array by converting each character's Unicode value to a byte\n    for (let i = 0; i < binaryString.length; i++) {\n        byteArray[i] = binaryString.charCodeAt(i);\n    }\n    // Create and return a Blob with the specified content type\n    return new Blob([byteArray], { type: contentType });\n}\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,mBAAmB,GAAG;AAC9B;;;;;;CAMC,GACD,SAAS,oBAAoB,MAAM,EAAE,WAAW;IAC5C,0CAA0C;IAC1C,MAAM,eAAe,OAAO,IAAI,CAAC;IACjC,gEAAgE;IAChE,MAAM,YAAY,IAAI,WAAW,aAAa,MAAM;IACpD,6EAA6E;IAC7E,IAAK,IAAI,IAAI,GAAG,IAAI,aAAa,MAAM,EAAE,IAAK;QAC1C,SAAS,CAAC,EAAE,GAAG,aAAa,UAAU,CAAC;IAC3C;IACA,2DAA2D;IAC3D,OAAO,IAAI,KAAK;QAAC;KAAU,EAAE;QAAE,MAAM;IAAY;AACrD"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/convertBlobToBase64.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.convertBlobToBase64 = convertBlobToBase64;\n/**\n * Converts a `Blob` object into a base64-encoded string.\n * The resulting string contains the binary data from the `Blob`.\n *\n * @param {Blob} blob - The `Blob` object to convert to base64.\n * @returns {Promise<string>} A promise that resolves to a base64-encoded string representing the `Blob` data.\n */\nfunction convertBlobToBase64(blob) {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        // Handle the load event which is triggered when readAsDataURL completes\n        reader.onloadend = () => {\n            // Ensure reader.result is not null and is a string\n            if (typeof reader.result === \"string\") {\n                // Extract the Base64 encoded string, skipping the data URL prefix (e.g., \"data:image/png;base64,\")\n                const base64Data = reader.result.split(\",\")[1];\n                if (base64Data) {\n                    resolve(base64Data);\n                }\n                else {\n                    reject(new Error(\"Failed to split the result into Base64 data.\"));\n                }\n            }\n            else {\n                reject(new Error(\"FileReader result is null or not a string.\"));\n            }\n        };\n        // Handle errors during the read process\n        reader.onerror = () => {\n            var _a;\n            reject(new Error(`Error reading blob: ${(_a = reader.error) === null || _a === void 0 ? void 0 : _a.message}`));\n        };\n        // Initiate reading the blob as a data URL\n        reader.readAsDataURL(blob);\n    });\n}\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,mBAAmB,GAAG;AAC9B;;;;;;CAMC,GACD,SAAS,oBAAoB,IAAI;IAC7B,OAAO,IAAI,QAAQ,CAAC,SAAS;QACzB,MAAM,SAAS,IAAI;QACnB,wEAAwE;QACxE,OAAO,SAAS,GAAG;YACf,mDAAmD;YACnD,IAAI,OAAO,OAAO,MAAM,KAAK,UAAU;gBACnC,mGAAmG;gBACnG,MAAM,aAAa,OAAO,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;gBAC9C,IAAI,YAAY;oBACZ,QAAQ;gBACZ,OACK;oBACD,OAAO,IAAI,MAAM;gBACrB;YACJ,OACK;gBACD,OAAO,IAAI,MAAM;YACrB;QACJ;QACA,wCAAwC;QACxC,OAAO,OAAO,GAAG;YACb,IAAI;YACJ,OAAO,IAAI,MAAM,CAAC,oBAAoB,EAAE,CAAC,KAAK,OAAO,KAAK,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,OAAO,EAAE;QACjH;QACA,0CAA0C;QAC1C,OAAO,aAAa,CAAC;IACzB;AACJ"}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/ensureSingleValidAudioTrack.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ensureSingleValidAudioTrack = void 0;\n/**\n * Ensures that the given media stream contains exactly one valid audio track.\n * Throws an error if no audio tracks are found, if there is more than one audio track,\n * or if the sole audio track is falsy.\n *\n * @param {MediaStream} stream - The media stream object containing audio tracks to validate.\n * @throws {Error} \"No audio tracks\" if the stream contains zero audio tracks.\n * @throws {Error} \"Multiple audio tracks\" if the stream contains more than one audio track.\n * @throws {Error} \"No audio track\" if the sole audio track is falsy.\n */\nconst ensureSingleValidAudioTrack = (stream) => {\n    const tracks = stream.getAudioTracks();\n    if (tracks.length === 0) {\n        throw new Error(\"No audio tracks available\");\n    }\n    else if (tracks.length > 1) {\n        throw new Error(\"Multiple audio tracks found\");\n    }\n    else if (!tracks[0]) {\n        throw new Error(\"The audio track is invalid\");\n    }\n};\nexports.ensureSingleValidAudioTrack = ensureSingleValidAudioTrack;\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,2BAA2B,GAAG,KAAK;AAC3C;;;;;;;;;CASC,GACD,MAAM,8BAA8B,CAAC;IACjC,MAAM,SAAS,OAAO,cAAc;IACpC,IAAI,OAAO,MAAM,KAAK,GAAG;QACrB,MAAM,IAAI,MAAM;IACpB,OACK,IAAI,OAAO,MAAM,GAAG,GAAG;QACxB,MAAM,IAAI,MAAM;IACpB,OACK,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE;QACjB,MAAM,IAAI,MAAM;IACpB;AACJ;AACA,QAAQ,2BAA2B,GAAG"}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/checkForAudioTracks.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkForAudioTracks = void 0;\n/**\n * @name checkForAudioTracks\n * @description\n * Check if a MediaStream has audio tracks.\n * @param stream\n * The MediaStream to check\n */\nconst checkForAudioTracks = (stream) => {\n    const tracks = stream.getAudioTracks();\n    if (tracks.length === 0) {\n        throw new Error(\"No audio tracks\");\n    }\n    if (tracks.length > 1) {\n        throw new Error(\"Multiple audio tracks\");\n    }\n    const track = tracks[0];\n    if (!track) {\n        throw new Error(\"No audio track\");\n    }\n};\nexports.checkForAudioTracks = checkForAudioTracks;\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,mBAAmB,GAAG,KAAK;AACnC;;;;;;CAMC,GACD,MAAM,sBAAsB,CAAC;IACzB,MAAM,SAAS,OAAO,cAAc;IACpC,IAAI,OAAO,MAAM,KAAK,GAAG;QACrB,MAAM,IAAI,MAAM;IACpB;IACA,IAAI,OAAO,MAAM,GAAG,GAAG;QACnB,MAAM,IAAI,MAAM;IACpB;IACA,MAAM,QAAQ,MAAM,CAAC,EAAE;IACvB,IAAI,CAAC,OAAO;QACR,MAAM,IAAI,MAAM;IACpB;AACJ;AACA,QAAQ,mBAAmB,GAAG"}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/fetchAccessToken.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fetchAccessToken = void 0;\nconst base64Encode_js_1 = require(\"./base64Encode.js\");\nconst zod_1 = require(\"zod\");\n/**\n * Fetches a new access token from the Hume API using the provided API key and Secret key.\n *\n * @param args - The arguments for the request.\n * @example\n * ```typescript\n * async function getToken() {\n *   const accessToken = await fetchAccessToken({\n *     apiKey: 'test',\n *     secretKey: 'test',\n *   });\n *\n *   console.log(accessToken); // Outputs the access token\n * }\n * ```\n */\nconst fetchAccessToken = (_a) => __awaiter(void 0, [_a], void 0, function* ({ apiKey, secretKey, host = \"api.hume.ai\", }) {\n    const authString = `${apiKey}:${secretKey}`;\n    const encoded = (0, base64Encode_js_1.base64Encode)(authString);\n    const res = yield fetch(`https://${host}/oauth2-cc/token`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n            Authorization: `Basic ${encoded}`,\n        },\n        body: new URLSearchParams({\n            grant_type: \"client_credentials\",\n        }).toString(),\n    });\n    return zod_1.z\n        .object({\n        access_token: zod_1.z.string(),\n    })\n        .transform((data) => {\n        return data.access_token;\n    })\n        .parse(yield res.json());\n});\nexports.fetchAccessToken = fetchAccessToken;\n"],"names":[],"mappings":"AACA,IAAI,YAAY,4DAAS,yDAAK,SAAS,IAAK,SAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS;IACnF,SAAS,MAAM,KAAK;QAAI,OAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,OAAO;YAAI,QAAQ;QAAQ;IAAI;IAC3G,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,OAAO,CAAC,EAAE,SAAU,OAAO,EAAE,MAAM;QACrD,SAAS,UAAU,KAAK;YAAI,IAAI;gBAAE,KAAK,UAAU,IAAI,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC1F,SAAS,SAAS,KAAK;YAAI,IAAI;gBAAE,KAAK,SAAS,CAAC,QAAQ,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC7F,SAAS,KAAK,MAAM;YAAI,OAAO,IAAI,GAAG,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,IAAI,CAAC,WAAW;QAAW;QAC7G,KAAK,CAAC,YAAY,UAAU,KAAK,CAAC,SAAS,cAAc,EAAE,CAAC,EAAE,IAAI;IACtE;AACJ;AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,gBAAgB,GAAG,KAAK;AAChC,MAAM;AACN,MAAM;AACN;;;;;;;;;;;;;;;CAeC,GACD,MAAM,mBAAmB,CAAC,KAAO,UAAU,KAAK,GAAG;QAAC;KAAG,EAAE,KAAK,GAAG,UAAW,EAAE,MAAM,EAAE,SAAS,EAAE,OAAO,aAAa,EAAG;QACpH,MAAM,aAAa,GAAG,OAAO,CAAC,EAAE,WAAW;QAC3C,MAAM,UAAU,CAAC,GAAG,kBAAkB,YAAY,EAAE;QACpD,MAAM,MAAM,MAAM,MAAM,CAAC,QAAQ,EAAE,KAAK,gBAAgB,CAAC,EAAE;YACvD,QAAQ;YACR,SAAS;gBACL,gBAAgB;gBAChB,eAAe,CAAC,MAAM,EAAE,SAAS;YACrC;YACA,MAAM,IAAI,gBAAgB;gBACtB,YAAY;YAChB,GAAG,QAAQ;QACf;QACA,OAAO,MAAM,CAAC,CACT,MAAM,CAAC;YACR,cAAc,MAAM,CAAC,CAAC,MAAM;QAChC,GACK,SAAS,CAAC,CAAC;YACZ,OAAO,KAAK,YAAY;QAC5B,GACK,KAAK,CAAC,CAAA,MAAM,IAAI,IAAI,EAAC;IAC9B;AACA,QAAQ,gBAAgB,GAAG"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/getAudioStream.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getAudioStream = void 0;\n/**\n * Requests an audio stream from the user's device using the `getUserMedia` API.\n * The stream will have echo cancellation, noise suppression, and auto gain control enabled.\n *\n * @returns {Promise<MediaStream>} A promise that resolves to a `MediaStream` containing audio data only.\n * @throws {DOMException} If the user denies access or no audio input devices are found.\n */\nconst getAudioStream = (...args_1) => __awaiter(void 0, [...args_1], void 0, function* (audioStreamOptions = {}) {\n    const { echoCancellation = true, noiseSuppression = true, autoGainControl = true } = audioStreamOptions;\n    return navigator.mediaDevices.getUserMedia({\n        audio: {\n            echoCancellation,\n            noiseSuppression,\n            autoGainControl,\n        },\n        video: false,\n    });\n});\nexports.getAudioStream = getAudioStream;\n"],"names":[],"mappings":"AACA,IAAI,YAAY,4DAAS,yDAAK,SAAS,IAAK,SAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS;IACnF,SAAS,MAAM,KAAK;QAAI,OAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,OAAO;YAAI,QAAQ;QAAQ;IAAI;IAC3G,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,OAAO,CAAC,EAAE,SAAU,OAAO,EAAE,MAAM;QACrD,SAAS,UAAU,KAAK;YAAI,IAAI;gBAAE,KAAK,UAAU,IAAI,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC1F,SAAS,SAAS,KAAK;YAAI,IAAI;gBAAE,KAAK,SAAS,CAAC,QAAQ,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC7F,SAAS,KAAK,MAAM;YAAI,OAAO,IAAI,GAAG,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,IAAI,CAAC,WAAW;QAAW;QAC7G,KAAK,CAAC,YAAY,UAAU,KAAK,CAAC,SAAS,cAAc,EAAE,CAAC,EAAE,IAAI;IACtE;AACJ;AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,cAAc,GAAG,KAAK;AAC9B;;;;;;CAMC,GACD,MAAM,iBAAiB,CAAC,GAAG,SAAW,UAAU,KAAK,GAAG;WAAI;KAAO,EAAE,KAAK,GAAG,UAAW,qBAAqB,CAAC,CAAC;QAC3G,MAAM,EAAE,mBAAmB,IAAI,EAAE,mBAAmB,IAAI,EAAE,kBAAkB,IAAI,EAAE,GAAG;QACrF,OAAO,UAAU,YAAY,CAAC,YAAY,CAAC;YACvC,OAAO;gBACH;gBACA;gBACA;YACJ;YACA,OAAO;QACX;IACJ;AACA,QAAQ,cAAc,GAAG"}},
    {"offset": {"line": 298, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/getBrowserSupportedMimeType.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MimeType = void 0;\nexports.getBrowserSupportedMimeType = getBrowserSupportedMimeType;\n/**\n * Enum representing the supported MIME types for audio recording.\n */\nvar MimeType;\n(function (MimeType) {\n    MimeType[\"WEBM\"] = \"audio/webm\";\n    MimeType[\"MP4\"] = \"audio/mp4\";\n    MimeType[\"WAV\"] = \"audio/wav\";\n})(MimeType || (exports.MimeType = MimeType = {}));\n/**\n * Checks whether the `MediaRecorder` API is supported in the current environment.\n *\n * @returns {boolean} Returns `true` if the `MediaRecorder` API is supported, otherwise `false`.\n */\nfunction isMediaRecorderSupported() {\n    return typeof MediaRecorder !== \"undefined\";\n}\n/**\n * Finds and returns the first MIME type from the given array that is supported by the `MediaRecorder`.\n *\n * @param {MimeType[]} mimeTypes - An array of MIME types to check for compatibility.\n * @returns {MimeType | null} The first supported MIME type or `null` if none are supported.\n */\nfunction getSupportedMimeType(mimeTypes) {\n    return mimeTypes.find((type) => MediaRecorder.isTypeSupported(type)) || null;\n}\n/**\n * Determines if the current browser supports any of the predefined audio MIME types\n * (WEBM, MP4, or WAV) via the `MediaRecorder` API.\n *\n * @returns {MimeTypeResult} An object containing the success status and either a supported MIME type or an error.\n * @throws {Error} If the `MediaRecorder` API is not supported by the browser or no compatible types are found.\n */\nfunction getBrowserSupportedMimeType() {\n    // Check if the MediaRecorder API is supported in the current environment.\n    if (!isMediaRecorderSupported()) {\n        return {\n            success: false,\n            error: new Error(\"MediaRecorder is not supported\"),\n        };\n    }\n    const COMPATIBLE_MIME_TYPES = [MimeType.WEBM, MimeType.MP4, MimeType.WAV];\n    // Find the first compatible MIME type that the browser's MediaRecorder supports.\n    const supportedMimeType = getSupportedMimeType(COMPATIBLE_MIME_TYPES);\n    // If no compatible MIME type is found, return a failure result with an appropriate error message.\n    if (!supportedMimeType) {\n        return {\n            success: false,\n            error: new Error(\"Browser does not support any compatible mime types\"),\n        };\n    }\n    // If a compatible MIME type is found, return a success result with the supported MIME type.\n    return {\n        success: true,\n        mimeType: supportedMimeType,\n    };\n}\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,QAAQ,GAAG,KAAK;AACxB,QAAQ,2BAA2B,GAAG;AACtC;;CAEC,GACD,IAAI;AACJ,CAAC,SAAU,QAAQ;IACf,QAAQ,CAAC,OAAO,GAAG;IACnB,QAAQ,CAAC,MAAM,GAAG;IAClB,QAAQ,CAAC,MAAM,GAAG;AACtB,CAAC,EAAE,YAAY,CAAC,QAAQ,QAAQ,GAAG,WAAW,CAAC,CAAC;AAChD;;;;CAIC,GACD,SAAS;IACL,OAAO,OAAO,kBAAkB;AACpC;AACA;;;;;CAKC,GACD,SAAS,qBAAqB,SAAS;IACnC,OAAO,UAAU,IAAI,CAAC,CAAC,OAAS,cAAc,eAAe,CAAC,UAAU;AAC5E;AACA;;;;;;CAMC,GACD,SAAS;IACL,0EAA0E;IAC1E,IAAI,CAAC,4BAA4B;QAC7B,OAAO;YACH,SAAS;YACT,OAAO,IAAI,MAAM;QACrB;IACJ;IACA,MAAM,wBAAwB;QAAC,SAAS,IAAI;QAAE,SAAS,GAAG;QAAE,SAAS,GAAG;KAAC;IACzE,iFAAiF;IACjF,MAAM,oBAAoB,qBAAqB;IAC/C,kGAAkG;IAClG,IAAI,CAAC,mBAAmB;QACpB,OAAO;YACH,SAAS;YACT,OAAO,IAAI,MAAM;QACrB;IACJ;IACA,4FAA4F;IAC5F,OAAO;QACH,SAAS;QACT,UAAU;IACd;AACJ"}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/expressionMeasurement/batch/Job.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Job = void 0;\nconst errors = __importStar(require(\"../../../errors/index.js\"));\nclass Job {\n    constructor(jobId, client) {\n        this.jobId = jobId;\n        this.client = client;\n    }\n    awaitCompletion() {\n        return __awaiter(this, arguments, void 0, function* (timeoutInSeconds = 300) {\n            return new Promise((resolve, reject) => {\n                const poller = new JobCompletionPoller(this.jobId, this.client);\n                poller.start(resolve);\n                setTimeout(() => {\n                    poller.stop();\n                    reject(new errors.HumeTimeoutError(\"Timeout exceeded when polling for job completion\"));\n                }, timeoutInSeconds * 1000);\n            });\n        });\n    }\n}\nexports.Job = Job;\nclass JobCompletionPoller {\n    constructor(jobId, client) {\n        this.jobId = jobId;\n        this.client = client;\n        this.isPolling = true;\n    }\n    start(onTerminal) {\n        this.isPolling = true;\n        this.poll(onTerminal);\n    }\n    stop() {\n        this.isPolling = false;\n    }\n    poll(onTerminal) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const jobDetails = yield this.client.getJobDetails(this.jobId);\n                if (jobDetails.state.status === \"COMPLETED\" || jobDetails.state.status === \"FAILED\") {\n                    onTerminal();\n                    this.stop();\n                }\n            }\n            catch (_a) {\n                // swallow errors while polling\n            }\n            if (this.isPolling) {\n                setTimeout(() => this.poll(onTerminal), 1000);\n            }\n        });\n    }\n}\n"],"names":[],"mappings":"AACA,IAAI,kBAAkB,4DAAS,yDAAK,eAAe,IAAK,CAAC,OAAO,MAAM,GAAI,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;IAC1F,IAAI,OAAO,WAAW,KAAK;IAC3B,IAAI,OAAO,OAAO,wBAAwB,CAAC,GAAG;IAC9C,IAAI,CAAC,QAAQ,CAAC,SAAS,OAAO,CAAC,EAAE,UAAU,GAAG,KAAK,QAAQ,IAAI,KAAK,YAAY,GAAG;QACjF,OAAO;YAAE,YAAY;YAAM,KAAK;gBAAa,OAAO,CAAC,CAAC,EAAE;YAAE;QAAE;IAC9D;IACA,OAAO,cAAc,CAAC,GAAG,IAAI;AACjC,IAAM,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;IACtB,IAAI,OAAO,WAAW,KAAK;IAC3B,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,EAAE;AAChB,CAAE;AACF,IAAI,qBAAqB,4DAAS,yDAAK,kBAAkB,IAAK,CAAC,OAAO,MAAM,GAAI,SAAS,CAAC,EAAE,CAAC;IACzF,OAAO,cAAc,CAAC,GAAG,WAAW;QAAE,YAAY;QAAM,OAAO;IAAE;AACrE,IAAK,SAAS,CAAC,EAAE,CAAC;IACd,CAAC,CAAC,UAAU,GAAG;AACnB,CAAC;AACD,IAAI,eAAe,4DAAS,yDAAK,YAAY,IAAK,AAAC;IAC/C,IAAI,UAAU,SAAS,CAAC;QACpB,UAAU,OAAO,mBAAmB,IAAI,SAAU,CAAC;YAC/C,IAAI,KAAK,EAAE;YACX,IAAK,IAAI,KAAK,EAAG,IAAI,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,IAAI,EAAE,CAAC,GAAG,MAAM,CAAC,GAAG;YACjF,OAAO;QACX;QACA,OAAO,QAAQ;IACnB;IACA,OAAO,SAAU,GAAG;QAChB,IAAI,OAAO,IAAI,UAAU,EAAE,OAAO;QAClC,IAAI,SAAS,CAAC;QACd,IAAI,OAAO,MAAM;YAAA,IAAK,IAAI,IAAI,QAAQ,MAAM,IAAI,GAAG,IAAI,EAAE,MAAM,EAAE,IAAK,IAAI,CAAC,CAAC,EAAE,KAAK,WAAW,gBAAgB,QAAQ,KAAK,CAAC,CAAC,EAAE;QAAC;QAChI,mBAAmB,QAAQ;QAC3B,OAAO;IACX;AACJ;AACA,IAAI,YAAY,4DAAS,yDAAK,SAAS,IAAK,SAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS;IACnF,SAAS,MAAM,KAAK;QAAI,OAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,OAAO;YAAI,QAAQ;QAAQ;IAAI;IAC3G,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,OAAO,CAAC,EAAE,SAAU,OAAO,EAAE,MAAM;QACrD,SAAS,UAAU,KAAK;YAAI,IAAI;gBAAE,KAAK,UAAU,IAAI,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC1F,SAAS,SAAS,KAAK;YAAI,IAAI;gBAAE,KAAK,SAAS,CAAC,QAAQ,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC7F,SAAS,KAAK,MAAM;YAAI,OAAO,IAAI,GAAG,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,IAAI,CAAC,WAAW;QAAW;QAC7G,KAAK,CAAC,YAAY,UAAU,KAAK,CAAC,SAAS,cAAc,EAAE,CAAC,EAAE,IAAI;IACtE;AACJ;AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,GAAG,GAAG,KAAK;AACnB,MAAM,SAAS;AACf,MAAM;IACF,YAAY,KAAK,EAAE,MAAM,CAAE;QACvB,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,MAAM,GAAG;IAClB;IACA,kBAAkB;QACd,OAAO,UAAU,IAAI,EAAE,WAAW,KAAK,GAAG,UAAW,mBAAmB,GAAG;YACvE,OAAO,IAAI,QAAQ,CAAC,SAAS;gBACzB,MAAM,SAAS,IAAI,oBAAoB,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM;gBAC9D,OAAO,KAAK,CAAC;gBACb,WAAW;oBACP,OAAO,IAAI;oBACX,OAAO,IAAI,OAAO,gBAAgB,CAAC;gBACvC,GAAG,mBAAmB;YAC1B;QACJ;IACJ;AACJ;AACA,QAAQ,GAAG,GAAG;AACd,MAAM;IACF,YAAY,KAAK,EAAE,MAAM,CAAE;QACvB,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,SAAS,GAAG;IACrB;IACA,MAAM,UAAU,EAAE;QACd,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,IAAI,CAAC;IACd;IACA,OAAO;QACH,IAAI,CAAC,SAAS,GAAG;IACrB;IACA,KAAK,UAAU,EAAE;QACb,OAAO,UAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG;YACnC,IAAI;gBACA,MAAM,aAAa,MAAM,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK;gBAC7D,IAAI,WAAW,KAAK,CAAC,MAAM,KAAK,eAAe,WAAW,KAAK,CAAC,MAAM,KAAK,UAAU;oBACjF;oBACA,IAAI,CAAC,IAAI;gBACb;YACJ,EACA,OAAO,IAAI;YACP,+BAA+B;YACnC;YACA,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB,WAAW,IAAM,IAAI,CAAC,IAAI,CAAC,aAAa;YAC5C;QACJ;IACJ;AACJ"}},
    {"offset": {"line": 492, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/expressionMeasurement/batch/BatchClient.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BatchClient = void 0;\nconst Client_js_1 = require(\"../../../api/resources/expressionMeasurement/resources/batch/client/Client.js\");\nconst Job_js_1 = require(\"./Job.js\");\nconst core = __importStar(require(\"../../../core/index.js\"));\nclass BatchClient extends Client_js_1.Batch {\n    // This just wraps the return value of the base class's `startInferenceJob` and `startInferenceJobFromLocalFile` methods\n    // and returns a `Job` instance (has helper functions to await the job's result) instead of a raw job ID.\n    startInferenceJob(request = {}, requestOptions) {\n        return core.HttpResponsePromise.fromPromise(super\n            .startInferenceJob(request, requestOptions)\n            .withRawResponse()\n            .then((result) => {\n            return { data: new Job_js_1.Job(result.data.jobId, this), rawResponse: result.rawResponse };\n        }));\n    }\n    startInferenceJobFromLocalFile(request, requestOptions) {\n        return core.HttpResponsePromise.fromPromise(super\n            .startInferenceJobFromLocalFile(request, requestOptions)\n            .withRawResponse()\n            .then((result) => {\n            return { data: new Job_js_1.Job(result.data.jobId, this), rawResponse: result.rawResponse };\n        }));\n    }\n}\nexports.BatchClient = BatchClient;\n"],"names":[],"mappings":"AACA,IAAI,kBAAkB,4DAAS,yDAAK,eAAe,IAAK,CAAC,OAAO,MAAM,GAAI,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;IAC1F,IAAI,OAAO,WAAW,KAAK;IAC3B,IAAI,OAAO,OAAO,wBAAwB,CAAC,GAAG;IAC9C,IAAI,CAAC,QAAQ,CAAC,SAAS,OAAO,CAAC,EAAE,UAAU,GAAG,KAAK,QAAQ,IAAI,KAAK,YAAY,GAAG;QACjF,OAAO;YAAE,YAAY;YAAM,KAAK;gBAAa,OAAO,CAAC,CAAC,EAAE;YAAE;QAAE;IAC9D;IACA,OAAO,cAAc,CAAC,GAAG,IAAI;AACjC,IAAM,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;IACtB,IAAI,OAAO,WAAW,KAAK;IAC3B,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,EAAE;AAChB,CAAE;AACF,IAAI,qBAAqB,4DAAS,yDAAK,kBAAkB,IAAK,CAAC,OAAO,MAAM,GAAI,SAAS,CAAC,EAAE,CAAC;IACzF,OAAO,cAAc,CAAC,GAAG,WAAW;QAAE,YAAY;QAAM,OAAO;IAAE;AACrE,IAAK,SAAS,CAAC,EAAE,CAAC;IACd,CAAC,CAAC,UAAU,GAAG;AACnB,CAAC;AACD,IAAI,eAAe,4DAAS,yDAAK,YAAY,IAAK,AAAC;IAC/C,IAAI,UAAU,SAAS,CAAC;QACpB,UAAU,OAAO,mBAAmB,IAAI,SAAU,CAAC;YAC/C,IAAI,KAAK,EAAE;YACX,IAAK,IAAI,KAAK,EAAG,IAAI,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,IAAI,EAAE,CAAC,GAAG,MAAM,CAAC,GAAG;YACjF,OAAO;QACX;QACA,OAAO,QAAQ;IACnB;IACA,OAAO,SAAU,GAAG;QAChB,IAAI,OAAO,IAAI,UAAU,EAAE,OAAO;QAClC,IAAI,SAAS,CAAC;QACd,IAAI,OAAO,MAAM;YAAA,IAAK,IAAI,IAAI,QAAQ,MAAM,IAAI,GAAG,IAAI,EAAE,MAAM,EAAE,IAAK,IAAI,CAAC,CAAC,EAAE,KAAK,WAAW,gBAAgB,QAAQ,KAAK,CAAC,CAAC,EAAE;QAAC;QAChI,mBAAmB,QAAQ;QAC3B,OAAO;IACX;AACJ;AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,WAAW,GAAG,KAAK;AAC3B,MAAM;AACN,MAAM;AACN,MAAM,OAAO;AACb,MAAM,oBAAoB,YAAY,KAAK;IACvC,wHAAwH;IACxH,yGAAyG;IACzG,kBAAkB,UAAU,CAAC,CAAC,EAAE,cAAc,EAAE;QAC5C,OAAO,KAAK,mBAAmB,CAAC,WAAW,CAAC,KAAK,CAC5C,kBAAkB,SAAS,gBAC3B,eAAe,GACf,IAAI,CAAC,CAAC;YACP,OAAO;gBAAE,MAAM,IAAI,SAAS,GAAG,CAAC,OAAO,IAAI,CAAC,KAAK,EAAE,IAAI;gBAAG,aAAa,OAAO,WAAW;YAAC;QAC9F;IACJ;IACA,+BAA+B,OAAO,EAAE,cAAc,EAAE;QACpD,OAAO,KAAK,mBAAmB,CAAC,WAAW,CAAC,KAAK,CAC5C,+BAA+B,SAAS,gBACxC,eAAe,GACf,IAAI,CAAC,CAAC;YACP,OAAO;gBAAE,MAAM,IAAI,SAAS,GAAG,CAAC,OAAO,IAAI,CAAC,KAAK,EAAE,IAAI;gBAAG,aAAa,OAAO,WAAW;YAAC;QAC9F;IACJ;AACJ;AACA,QAAQ,WAAW,GAAG"}},
    {"offset": {"line": 567, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/expressionMeasurement/streaming/StreamSocket.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StreamSocket = void 0;\nconst ws_1 = __importDefault(require(\"ws\"));\nconst uuid_1 = require(\"uuid\");\nconst StreamingClient_js_1 = require(\"./StreamingClient.js\");\nconst base64Encode_js_1 = require(\"../../base64Encode.js\");\nconst errors = __importStar(require(\"../../../errors/index.js\"));\nconst serializers = __importStar(require(\"../../../serialization/index.js\"));\nconst fs = __importStar(require(\"fs\"));\nclass StreamSocket {\n    constructor({ websocket, config, streamWindowMs }) {\n        this.websocket = websocket;\n        this.config = config;\n        this.streamWindowMs = streamWindowMs;\n    }\n    /**\n     * Send file on the `StreamSocket`\n     *\n     * @param file A fs.ReadStream | File | Blob\n     * @param config This method is intended for use with a `LanguageConfig`.\n     * When the socket is configured for other modalities this method will fail.\n     */\n    sendFile(_a) {\n        return __awaiter(this, arguments, void 0, function* ({ file, config, }) {\n            var _b, file_1, file_1_1;\n            var _c, e_1, _d, _e;\n            if (config != null) {\n                this.config = config;\n            }\n            let contents = \"\";\n            if (file instanceof fs.ReadStream) {\n                const chunks = [];\n                try {\n                    for (_b = true, file_1 = __asyncValues(file); file_1_1 = yield file_1.next(), _c = file_1_1.done, !_c; _b = true) {\n                        _e = file_1_1.value;\n                        _b = false;\n                        const chunk = _e;\n                        chunks.push(Buffer.from(chunk));\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (!_b && !_c && (_d = file_1.return)) yield _d.call(file_1);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                contents = Buffer.concat(chunks).toString(\"base64\");\n            }\n            else if (file instanceof Blob) {\n                const toBase64 = (file) => new Promise((res) => {\n                    const reader = new FileReader();\n                    reader.readAsDataURL(file);\n                    reader.onload = () => res(reader.result);\n                });\n                contents = yield toBase64(file);\n            }\n            else {\n                throw new errors.HumeError({\n                    message: `file must be one of ReadStream or Blob.`,\n                });\n            }\n            const request = {\n                payloadId: (0, uuid_1.v4)(),\n                data: contents,\n                models: this.config,\n                rawText: false,\n            };\n            if (this.streamWindowMs != null) {\n                request.streamWindowMs = this.streamWindowMs;\n            }\n            const response = yield this.send(request);\n            if (response == null) {\n                throw new errors.HumeError({\n                    message: `Received no response after sending file: ${file}`,\n                });\n            }\n            return response;\n        });\n    }\n    /**\n     * Send text on the `StreamSocket`\n     *\n     * @param text Text to send to the language model.\n     * @param config This method is intended for use with a `LanguageConfig`.\n     * When the socket is configured for other modalities this method will fail.\n     */\n    sendText(_a) {\n        return __awaiter(this, arguments, void 0, function* ({ text, config, }) {\n            if (config != null) {\n                this.config = config;\n            }\n            const request = {\n                payloadId: (0, uuid_1.v4)(),\n                data: text,\n                rawText: true,\n                models: this.config,\n            };\n            if (this.streamWindowMs != null) {\n                request.streamWindowMs = this.streamWindowMs;\n            }\n            const response = yield this.send(request);\n            if (response == null) {\n                throw new errors.HumeError({\n                    message: `Received no response after sending text: ${text}`,\n                });\n            }\n            return response;\n        });\n    }\n    /**\n     * Send facemesh landmarks on the `StreamSocket`\n     *\n     * @param landmarks List of landmark points for multiple faces.\n     * The shape of this 3-dimensional list should be (n, 478, 3) where n is the number\n     * of faces to be processed, 478 is the number of MediaPipe landmarks per face and 3\n     * represents the (x, y, z) coordinates of each landmark.\n     * @param config List of model configurations.\n     * If set these configurations will overwrite existing configurations\n     */\n    sendFacemesh(_a) {\n        return __awaiter(this, arguments, void 0, function* ({ landmarks, config, }) {\n            const response = this.sendText({\n                text: (0, base64Encode_js_1.base64Encode)(JSON.stringify(landmarks)),\n                config,\n            });\n            return response;\n        });\n    }\n    /**\n     *\n     * Reset the streaming sliding window.\n     *\n     * Call this method when some media has been fully processed and you want to continue using the same\n     * streaming connection without leaking context across media samples.\n     */\n    reset() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.send({\n                resetStream: true,\n            });\n        });\n    }\n    /**\n     *\n     * Get details associated with the current streaming connection.\n     *\n     */\n    getJobDetails() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.send({\n                jobDetails: true,\n            });\n        });\n    }\n    /**\n     * Closes the underlying socket.\n     */\n    close() {\n        this.websocket.close();\n    }\n    send(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.tillSocketOpen();\n            const jsonPayload = serializers.expressionMeasurement.stream.StreamModelsEndpointPayload.jsonOrThrow(payload, {\n                unrecognizedObjectKeys: \"strip\",\n            });\n            this.websocket.send(JSON.stringify(jsonPayload));\n            const response = yield new Promise((resolve) => {\n                this.websocket.addEventListener(\"message\", (event) => {\n                    const response = (0, StreamingClient_js_1.parse)(event.data);\n                    resolve(response);\n                });\n            });\n            if (response != null && isError(response)) {\n                throw new errors.HumeError({\n                    message: `CODE ${response.code}: ${response.error}`,\n                });\n            }\n            return response;\n        });\n    }\n    tillSocketOpen() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.websocket.readyState === ws_1.default.OPEN) {\n                return this.websocket;\n            }\n            return new Promise((resolve, reject) => {\n                this.websocket.addEventListener(\"open\", () => {\n                    resolve(this.websocket);\n                });\n                this.websocket.addEventListener(\"error\", (event) => {\n                    reject(event);\n                });\n            });\n        });\n    }\n}\nexports.StreamSocket = StreamSocket;\nfunction isError(response) {\n    return response.error != null;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 869, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/expressionMeasurement/streaming/StreamingClient.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StreamClient = void 0;\nexports.parse = parse;\nconst serializers = __importStar(require(\"../../../serialization/index.js\"));\nconst StreamSocket_js_1 = require(\"./StreamSocket.js\");\nconst ws_1 = __importDefault(require(\"ws\"));\nclass StreamClient {\n    constructor(_options) {\n        this._options = _options;\n    }\n    connect(args) {\n        const websocket = new ws_1.default(`wss://api.hume.ai/v0/stream/models`, {\n            headers: {\n                \"X-Hume-Api-Key\": typeof this._options.apiKey === \"string\" ? this._options.apiKey : \"\",\n            },\n            timeout: 10,\n        });\n        websocket.addEventListener(\"open\", (event) => {\n            var _a;\n            (_a = args.onOpen) === null || _a === void 0 ? void 0 : _a.call(args, event);\n        });\n        websocket.addEventListener(\"error\", (e) => {\n            var _a;\n            (_a = args.onError) === null || _a === void 0 ? void 0 : _a.call(args, {\n                code: e.type,\n                error: e.message,\n            });\n        });\n        websocket.addEventListener(\"message\", (_a) => __awaiter(this, [_a], void 0, function* ({ data }) {\n            parse(data, {\n                onMessage: args.onMessage,\n                onError: args.onError,\n            });\n        }));\n        websocket.addEventListener(\"close\", (event) => {\n            var _a;\n            (_a = args.onClose) === null || _a === void 0 ? void 0 : _a.call(args, event);\n        });\n        return new StreamSocket_js_1.StreamSocket({\n            websocket,\n            streamWindowMs: args.streamWindowMs,\n            config: args.config,\n        });\n    }\n}\nexports.StreamClient = StreamClient;\nfunction parse(data, args = {}) {\n    var _a, _b;\n    const message = JSON.parse(data);\n    const parsedResponse = serializers.expressionMeasurement.stream.Config.parse(message, {\n        unrecognizedObjectKeys: \"passthrough\",\n        allowUnrecognizedUnionMembers: true,\n        allowUnrecognizedEnumValues: true,\n        breadcrumbsPrefix: [\"response\"],\n    });\n    if (parsedResponse.ok) {\n        (_a = args.onMessage) === null || _a === void 0 ? void 0 : _a.call(args, parsedResponse.value);\n        return parsedResponse.value;\n    }\n    const parsedError = serializers.expressionMeasurement.stream.StreamErrorMessage.parse(message, {\n        unrecognizedObjectKeys: \"passthrough\",\n        allowUnrecognizedUnionMembers: true,\n        allowUnrecognizedEnumValues: true,\n        breadcrumbsPrefix: [\"response\"],\n    });\n    if (parsedError.ok) {\n        (_b = args.onError) === null || _b === void 0 ? void 0 : _b.call(args, parsedError.value);\n        return parsedError.value;\n    }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1026, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/expressionMeasurement/ExpressionMeasurementClient.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExpressionMeasurement = void 0;\nconst Client_js_1 = require(\"../../api/resources/expressionMeasurement/client/Client.js\");\nconst BatchClient_js_1 = require(\"./batch/BatchClient.js\");\nconst StreamingClient_js_1 = require(\"./streaming/StreamingClient.js\");\nclass ExpressionMeasurement extends Client_js_1.ExpressionMeasurement {\n    // BatchClient here is overridden from the generated version, we wrap expression measurement jobs in\n    // a helper that makes it easier to await the result of a job.\n    get batch() {\n        var _a;\n        return ((_a = this._batch) !== null && _a !== void 0 ? _a : (this._batch = new BatchClient_js_1.BatchClient(this._options)));\n    }\n    get stream() {\n        var _a;\n        return ((_a = this._stream) !== null && _a !== void 0 ? _a : (this._stream = new StreamingClient_js_1.StreamClient(this._options)));\n    }\n}\nexports.ExpressionMeasurement = ExpressionMeasurement;\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,qBAAqB,GAAG,KAAK;AACrC,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM,8BAA8B,YAAY,qBAAqB;IACjE,oGAAoG;IACpG,8DAA8D;IAC9D,IAAI,QAAQ;QACR,IAAI;QACJ,OAAQ,CAAC,KAAK,IAAI,CAAC,MAAM,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAM,IAAI,CAAC,MAAM,GAAG,IAAI,iBAAiB,WAAW,CAAC,IAAI,CAAC,QAAQ;IAC7H;IACA,IAAI,SAAS;QACT,IAAI;QACJ,OAAQ,CAAC,KAAK,IAAI,CAAC,OAAO,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAM,IAAI,CAAC,OAAO,GAAG,IAAI,qBAAqB,YAAY,CAAC,IAAI,CAAC,QAAQ;IACpI;AACJ;AACA,QAAQ,qBAAqB,GAAG"}},
    {"offset": {"line": 1050, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/HumeClient.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HumeClient = void 0;\nconst Client_js_1 = require(\"../Client.js\");\nconst core = __importStar(require(\"../core/index.js\"));\nconst ExpressionMeasurementClient_js_1 = require(\"./expressionMeasurement/ExpressionMeasurementClient.js\");\nconst version_js_1 = require(\"../version.js\");\nclass HumeClient extends Client_js_1.HumeClient {\n    constructor(_options) {\n        var _a;\n        let options;\n        let oldEnvironment;\n        (_a = _options || {}, { environment: oldEnvironment } = _a, options = __rest(_a, [\"environment\"]));\n        // Check if both accessToken and Authorization header are provided (case-insensitive)\n        if (_options.accessToken && _options.headers) {\n            const hasAuthHeader = Object.keys(_options.headers).some((key) => key.toLowerCase() === \"authorization\");\n            if (hasAuthHeader) {\n                throw new Error(\"Cannot provide both 'accessToken' and 'headers.Authorization'. Please use only one.\");\n            }\n        }\n        if (_options.accessToken) {\n            options.headers = Object.assign(Object.assign({}, options.headers), { Authorization: core.Supplier.map(_options.accessToken, (token) => `Bearer ${token}`) });\n        }\n        // Add telemetry headers\n        options.headers = Object.assign(Object.assign({}, options.headers), { \"X-Hume-Client-Name\": \"typescript_sdk\", \"X-Hume-Client-Version\": version_js_1.SDK_VERSION });\n        // Allow setting a single url http://... or https://... for environment'\n        if (oldEnvironment) {\n            const environment = _options.environment\n                ? core.Supplier.map(_options.environment, (e) => {\n                    if (typeof e === \"string\") {\n                        if (e.startsWith(\"http://\")) {\n                            return {\n                                base: e,\n                                evi: e.replace(\"http://\", \"ws://\") + \"/v0/evi\",\n                                tts: e.replace(\"http://\", \"ws://\") + \"/v0/tts\",\n                                stream: e.replace(\"http://\", \"ws://\") + \"/v0/stream\",\n                            };\n                        }\n                        if (e.startsWith(\"https://\")) {\n                            return {\n                                base: e,\n                                evi: e.replace(\"https://\", \"wss://\") + \"/v0/evi\",\n                                tts: e.replace(\"https://\", \"wss://\") + \"/v0/tts\",\n                                stream: e.replace(\"https://\", \"wss://\") + \"/v0/stream\",\n                            };\n                        }\n                        return {\n                            base: \"https://\" + e,\n                            evi: \"wss://\" + e + \"/v0/evi\",\n                            tts: \"wss://\" + e + \"/v0/tts\",\n                            stream: \"wss://\" + e + \"/v0/stream\",\n                        };\n                    }\n                    else {\n                        return e;\n                    }\n                })\n                : undefined;\n            options.environment = environment;\n        }\n        super(options);\n    }\n    get expressionMeasurement() {\n        var _a;\n        return ((_a = this._expressionMeasurement) !== null && _a !== void 0 ? _a : (this._expressionMeasurement = new ExpressionMeasurementClient_js_1.ExpressionMeasurement(this._options)));\n    }\n}\nexports.HumeClient = HumeClient;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1178, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/convertFrequencyScale.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.convertLinearFrequenciesToBark = convertLinearFrequenciesToBark;\n// This function converts linear-scaled frequency decibels from an AnalyserNode's frequncy data to Bark scale [https://en.wikipedia.org/wiki/Bark_scale]\n// This implementation uses a simple approach of mapping indices in the linear-scaled array to the closest\n// Bark scale center frequency and is not intended to be an accurate representation, but rather \"close-enough\" for visualization purposes\nconst barkCenterFrequencies = [\n    50, 150, 250, 350, 450, 570, 700, 840, 1000, 1170, 1370, 1600, 1850, 2150, 2500, 2900, 3400, 4000, 4800, 5800, 7000,\n    8500, 10500, 13500,\n]; // Center frequency value in Hz\n// Min/max values from https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode/getByteFrequencyData\nconst minValue = 0;\nconst maxValue = 255;\nfunction convertLinearFrequenciesToBark(linearData, sampleRate) {\n    const maxFrequency = sampleRate / 2;\n    const frequencyResolution = maxFrequency / linearData.length;\n    const barkFrequencies = barkCenterFrequencies.map((barkFreq) => {\n        var _a;\n        const linearDataIndex = Math.round(barkFreq / frequencyResolution);\n        if (linearDataIndex >= 0 && linearDataIndex < linearData.length) {\n            return ((((_a = linearData[linearDataIndex]) !== null && _a !== void 0 ? _a : 0) - minValue) / (maxValue - minValue)) * 2;\n        }\n        else {\n            return 0;\n        }\n    });\n    return barkFrequencies;\n}\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,8BAA8B,GAAG;AACzC,wJAAwJ;AACxJ,0GAA0G;AAC1G,yIAAyI;AACzI,MAAM,wBAAwB;IAC1B;IAAI;IAAK;IAAK;IAAK;IAAK;IAAK;IAAK;IAAK;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAC/G;IAAM;IAAO;CAChB,EAAE,+BAA+B;AAClC,yGAAyG;AACzG,MAAM,WAAW;AACjB,MAAM,WAAW;AACjB,SAAS,+BAA+B,UAAU,EAAE,UAAU;IAC1D,MAAM,eAAe,aAAa;IAClC,MAAM,sBAAsB,eAAe,WAAW,MAAM;IAC5D,MAAM,kBAAkB,sBAAsB,GAAG,CAAC,CAAC;QAC/C,IAAI;QACJ,MAAM,kBAAkB,KAAK,KAAK,CAAC,WAAW;QAC9C,IAAI,mBAAmB,KAAK,kBAAkB,WAAW,MAAM,EAAE;YAC7D,OAAO,AAAC,CAAC,CAAC,CAAC,KAAK,UAAU,CAAC,gBAAgB,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,CAAC,IAAI,QAAQ,IAAI,CAAC,WAAW,QAAQ,IAAK;QAC5H,OACK;YACD,OAAO;QACX;IACJ;IACA,OAAO;AACX"}},
    {"offset": {"line": 1232, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/generateEmptyFft.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateEmptyFft = generateEmptyFft;\nfunction generateEmptyFft() {\n    return Array.from({ length: 24 }).map(() => 0);\n}\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,gBAAgB,GAAG;AAC3B,SAAS;IACL,OAAO,MAAM,IAAI,CAAC;QAAE,QAAQ;IAAG,GAAG,GAAG,CAAC,IAAM;AAChD"}},
    {"offset": {"line": 1245, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/EVIWebAudioPlayer.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _EVIWebAudioPlayer_instances, _a, _EVIWebAudioPlayer_DEFAULT_WORKLET_URL, _EVIWebAudioPlayer_DEFAULT_FFT_SIZE, _EVIWebAudioPlayer_DEFAULT_FFT_INTERVAL, _EVIWebAudioPlayer_ctx, _EVIWebAudioPlayer_workletNode, _EVIWebAudioPlayer_analyserNode, _EVIWebAudioPlayer_gainNode, _EVIWebAudioPlayer_initialized, _EVIWebAudioPlayer_playing, _EVIWebAudioPlayer_muted, _EVIWebAudioPlayer_volume, _EVIWebAudioPlayer_disableAudioWorklet, _EVIWebAudioPlayer_fft, _EVIWebAudioPlayer_fftTimer, _EVIWebAudioPlayer_fftOptions, _EVIWebAudioPlayer_clipQueue, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, _EVIWebAudioPlayer_isProcessing, _EVIWebAudioPlayer_lastQueuedChunk, _EVIWebAudioPlayer_chunkBufferQueues, _EVIWebAudioPlayer_startAnalyserPollingIfEnabled, _EVIWebAudioPlayer_emitError, _EVIWebAudioPlayer_convertToAudioBuffer, _EVIWebAudioPlayer_getNextAudioBuffers, _EVIWebAudioPlayer_playNextClip;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EVIWebAudioPlayer = void 0;\nconst convertBase64ToBlob_js_1 = require(\"./convertBase64ToBlob.js\");\nconst convertFrequencyScale_js_1 = require(\"./convertFrequencyScale.js\");\nconst generateEmptyFft_js_1 = require(\"./generateEmptyFft.js\");\n/**\n * A sequential, glitch-free Web-Audio player for **EVI** audio output.\n *\n * - **Decoding & playback**: base-64 PCM chunks feed an `AudioWorkletNode` and play in order, without gaps.\n * - **One-time init**: await {@link init} in a user-gesture to build audio graph and unlock the browsers\n *  `AudioContext`; later calls are no-ops.\n * - **Optional FFT**: `{ fft: { enabled: true } }` adds an `AnalyserNode` and emits `'fft'` events; omit to skip.\n * - **Controls**: {@link setVolume}, {@link mute}, {@link unmute}, {@link stop}, {@link dispose}.\n * - **Events**: listen for `'play'`, `'stop'`, `'fft'`, `'error'`.\n */\nclass EVIWebAudioPlayer extends EventTarget {\n    /**`true` while any clip is currently audible. */\n    get playing() {\n        return __classPrivateFieldGet(this, _EVIWebAudioPlayer_playing, \"f\");\n    }\n    /**`true` if gain is set to0 via {@link mute}. */\n    get muted() {\n        return __classPrivateFieldGet(this, _EVIWebAudioPlayer_muted, \"f\");\n    }\n    /** Current output gain (01). */\n    get volume() {\n        return __classPrivateFieldGet(this, _EVIWebAudioPlayer_volume, \"f\");\n    }\n    /** Most recent FFT frame (empty when analyser disabled). */\n    get fft() {\n        return __classPrivateFieldGet(this, _EVIWebAudioPlayer_fft, \"f\");\n    }\n    constructor(opts = {}) {\n        var _b, _c, _d;\n        super();\n        _EVIWebAudioPlayer_instances.add(this);\n        this.opts = opts;\n        _EVIWebAudioPlayer_ctx.set(this, null);\n        _EVIWebAudioPlayer_workletNode.set(this, null);\n        _EVIWebAudioPlayer_analyserNode.set(this, null);\n        _EVIWebAudioPlayer_gainNode.set(this, null);\n        _EVIWebAudioPlayer_initialized.set(this, false);\n        _EVIWebAudioPlayer_playing.set(this, false);\n        _EVIWebAudioPlayer_muted.set(this, false);\n        _EVIWebAudioPlayer_volume.set(this, void 0);\n        _EVIWebAudioPlayer_disableAudioWorklet.set(this, void 0);\n        _EVIWebAudioPlayer_fft.set(this, (0, generateEmptyFft_js_1.generateEmptyFft)());\n        _EVIWebAudioPlayer_fftTimer.set(this, null);\n        _EVIWebAudioPlayer_fftOptions.set(this, null);\n        _EVIWebAudioPlayer_clipQueue.set(this, []);\n        _EVIWebAudioPlayer_currentlyPlayingAudioBuffer.set(this, null);\n        _EVIWebAudioPlayer_isProcessing.set(this, false);\n        // chunkBufferQueues and #lastQueuedChunk are used to make sure that\n        // we don't play chunks out of order. #chunkBufferQueues is NOT the\n        // audio playback queue.\n        _EVIWebAudioPlayer_lastQueuedChunk.set(this, null);\n        _EVIWebAudioPlayer_chunkBufferQueues.set(this, {});\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_volume, (_b = opts.volume) !== null && _b !== void 0 ? _b : 1.0, \"f\");\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_disableAudioWorklet, (_c = opts.disableAudioWorklet) !== null && _c !== void 0 ? _c : false, \"f\");\n        // Resolve FFT options if enabled\n        if ((_d = opts.fft) === null || _d === void 0 ? void 0 : _d.enabled) {\n            const { size, interval, transform } = opts.fft;\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_fftOptions, {\n                size: size !== null && size !== void 0 ? size : __classPrivateFieldGet(_a, _a, \"f\", _EVIWebAudioPlayer_DEFAULT_FFT_SIZE),\n                interval: interval !== null && interval !== void 0 ? interval : __classPrivateFieldGet(_a, _a, \"f\", _EVIWebAudioPlayer_DEFAULT_FFT_INTERVAL),\n                transform: transform !== null && transform !== void 0 ? transform : ((bins, sampleRate) => (0, convertFrequencyScale_js_1.convertLinearFrequenciesToBark)(bins, sampleRate)),\n            }, \"f\");\n        }\n    }\n    /**\n     * * Subscribes to a player event and returns `this` for chaining.\n     *\n     * @param type One of `'play'`, `'stop'`, `'fft'`, or `'error'`.\n     * @param fn Handler invoked with the events typed `detail` payload.\n     * @param opts Optional `AddEventListenerOptions` (e.g. `{ once: true }`).\n     *\n     * @example\n     *  ```ts\n     *  const player = new EVIWebAudioPlayer();\n     *  player\n     *    .on('play', e => console.log('play',  e.detail.id))\n     *    .on('stop', e => console.log('stop',  e.detail.id))\n     *    .on('fft', e => console.log('stop',  e.detail.fft))\n     *    .on('error', e => console.error('error', e.detail.message));\n     *  ```\n     */\n    on(type, fn, opts) {\n        super.addEventListener(type, fn, opts);\n        return this;\n    }\n    /**\n     * Set up and start the players Web-Audio pipeline.\n     *\n     * - Creates a **suspended** `AudioContext`, loads the worklet processor, wires `AudioWorkletNode  (AnalyserNode?)  GainNode  destination`, then calls `resume()`.\n     * - Must be awaited inside a user-gesture (click/tap/key); later calls are no-ops.\n     * - If `fft.enabled` is `false` (or `fft` is omitted), no `AnalyserNode` or polling timer is created.\n     *\n     * **Safari quirk:** Safari locks an `AudioContext` to the devices current sample rate at creation.\n     * If you open a Bluetooth headset mic afterward, the OS may switch to the 16 kHz HFP profile and down-sample playback, which sounds telephone-y.\n     * To avoid this, call `getUserMedia()` (or otherwise open audio input) **before** `init()`.\n     *\n     * @throws {Error} If the browser lacks `AudioWorklet` support, or if `AudioContext.resume()` is rejected (autoplay policy, device error).\n     */\n    init() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_initialized, \"f\"))\n                return;\n            // Create the AudioContext\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_ctx, new AudioContext(), \"f\");\n            // Fail fast if AudioWorklet isnt supported\n            if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").audioWorklet) {\n                console.warn(\"AudioWorklet is not supported in this browser. Falling back to Regular Buffer Mode.\");\n                __classPrivateFieldSet(this, _EVIWebAudioPlayer_disableAudioWorklet, true, \"f\");\n            }\n            try {\n                // Build GainNode\n                __classPrivateFieldSet(this, _EVIWebAudioPlayer_gainNode, __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").createGain(), \"f\");\n                __classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\").gain.value = __classPrivateFieldGet(this, _EVIWebAudioPlayer_volume, \"f\");\n                // Build AnalyserNode (optional)\n                if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_fftOptions, \"f\")) {\n                    __classPrivateFieldSet(this, _EVIWebAudioPlayer_analyserNode, __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").createAnalyser(), \"f\");\n                    __classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\").fftSize = __classPrivateFieldGet(this, _EVIWebAudioPlayer_fftOptions, \"f\").size;\n                }\n                else {\n                    // Always create AnalyserNode, even if FFT is disabled, to avoid null checks in Buffer Mode\n                    __classPrivateFieldSet(this, _EVIWebAudioPlayer_analyserNode, __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").createAnalyser(), \"f\");\n                    __classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\").fftSize = __classPrivateFieldGet(_a, _a, \"f\", _EVIWebAudioPlayer_DEFAULT_FFT_SIZE);\n                }\n                if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_disableAudioWorklet, \"f\")) {\n                    // Loads the AudioWorklet processor module.\n                    yield __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").audioWorklet.addModule(__classPrivateFieldGet(_a, _a, \"f\", _EVIWebAudioPlayer_DEFAULT_WORKLET_URL));\n                    // Build AudioWorkletNode\n                    __classPrivateFieldSet(this, _EVIWebAudioPlayer_workletNode, new AudioWorkletNode(__classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\"), \"audio-processor\"), \"f\");\n                    // When the worklet posts { type: \"ended\" }, mark playback stopped and emit a `'stop'` event.\n                    __classPrivateFieldGet(this, _EVIWebAudioPlayer_workletNode, \"f\").port.onmessage = (e) => {\n                        if (e.data.type === \"ended\") {\n                            __classPrivateFieldSet(this, _EVIWebAudioPlayer_playing, false, \"f\");\n                            this.dispatchEvent(new CustomEvent(\"stop\", { detail: { id: \"stream\" } }));\n                        }\n                    };\n                    // Audio graph nodes\n                    const workletNode = __classPrivateFieldGet(this, _EVIWebAudioPlayer_workletNode, \"f\"); // AudioWorkletNode (PCM processor)\n                    const analyserNode = __classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\"); // Optional AnalyserNode (FFT)\n                    const gainNode = __classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\"); // GainNode (volume control)\n                    const destination = __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").destination; // AudioDestinationNode (speakers)\n                    // Analyser node is filtered out of audio graph if null (FFT disabled)\n                    const audioGraph = [workletNode, analyserNode, gainNode, destination].filter(Boolean);\n                    // Wire nodes: AudioWorkletNode  (AnalyserNode?)  GainNode  AudioDestinationNode\n                    audioGraph.reduce((prev, next) => (prev.connect(next), next));\n                }\n                else {\n                    // Regular Buffer Mode\n                    const analyserNode = __classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\");\n                    const gainNode = __classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\");\n                    const destination = __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").destination;\n                    // Wire nodes: (AnalyserNode?)  GainNode  AudioDestinationNode\n                    const audioGraph = [analyserNode, gainNode, destination].filter(Boolean);\n                    audioGraph.reduce((prev, next) => (prev.connect(next), next));\n                }\n                // If an analyser is configured, begin polling it at the resolved interval and dispatching `'fft'` events for each frame.\n                __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_startAnalyserPollingIfEnabled).call(this);\n                // Resume the AudioContext now that the audio graph is fully wired.\n                // Browsers allow `resume()` only inside a user-gesture callback.\n                // Any rejection (autoplay policy, hardware issue, etc.) is caught by the outer catch-block below, which emits an 'error' event and re-throws.\n                yield __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").resume();\n                __classPrivateFieldSet(this, _EVIWebAudioPlayer_initialized, true, \"f\");\n            }\n            catch (err) {\n                const suffix = err instanceof Error ? `: ${err.message}` : String(err);\n                __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, `Failed to initialize audio player${suffix}`);\n                throw err;\n            }\n        });\n    }\n    /**\n     * Queue one {@link AudioOutput} message for playback.\n     *\n     * Decodes the base-64 PCM data, sends it to the `AudioWorkletNode` for glitch-free, in-order playback, and emits `'play'` for the first chunk of a new stream.\n     *\n     * @param message The `AudioOutput` message received from EVIs WebSocket.\n     *\n     * @see {@link https://dev.hume.ai/reference/empathic-voice-interface-evi/chat/chat#receive.Audio-Output.type API Reference}\n     */\n    enqueue(message) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_initialized, \"f\") || !__classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\")) {\n                __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, \"Audio player is not initialized\");\n                return;\n            }\n            if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_disableAudioWorklet, \"f\")) {\n                try {\n                    const { data, id } = message;\n                    const blob = (0, convertBase64ToBlob_js_1.convertBase64ToBlob)(data);\n                    const buffer = yield blob.arrayBuffer();\n                    const audio = yield __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").decodeAudioData(buffer);\n                    const pcmData = audio.getChannelData(0);\n                    __classPrivateFieldGet(this, _EVIWebAudioPlayer_workletNode, \"f\").port.postMessage({ type: \"audio\", data: pcmData });\n                    __classPrivateFieldSet(this, _EVIWebAudioPlayer_playing, true, \"f\");\n                    this.dispatchEvent(new CustomEvent(\"play\", { detail: { id } }));\n                }\n                catch (err) {\n                    const msg = err instanceof Error ? err.message : \"Unknown error\";\n                    __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, `Failed to queue clip: ${msg}`);\n                }\n            }\n            else {\n                // Regular Buffer Mode\n                try {\n                    const audioBuffer = yield __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_convertToAudioBuffer).call(this, message);\n                    if (!audioBuffer) {\n                        __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, \"Failed to convert data to audio buffer\");\n                        return;\n                    }\n                    const playableBuffers = __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_getNextAudioBuffers).call(this, message, audioBuffer);\n                    if (playableBuffers.length === 0) {\n                        return;\n                    }\n                    for (const nextAudioBufferToPlay of playableBuffers) {\n                        __classPrivateFieldGet(this, _EVIWebAudioPlayer_clipQueue, \"f\").push({\n                            id: nextAudioBufferToPlay.id,\n                            buffer: nextAudioBufferToPlay.buffer,\n                            index: nextAudioBufferToPlay.index,\n                        });\n                        if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_clipQueue, \"f\").length === 1) {\n                            __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_playNextClip).call(this);\n                        }\n                    }\n                }\n                catch (e) {\n                    const eMessage = e instanceof Error ? e.message : \"Unknown error\";\n                    __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, `Failed to add clip to queue: ${eMessage}`);\n                }\n            }\n        });\n    }\n    /**\n     * Flush the worklet queue and output silence.\n     */\n    stop() {\n        var _b;\n        if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_disableAudioWorklet, \"f\")) {\n            // Clear buffered audio from the worklet queue\n            (_b = __classPrivateFieldGet(this, _EVIWebAudioPlayer_workletNode, \"f\")) === null || _b === void 0 ? void 0 : _b.port.postMessage({ type: \"fadeAndClear\" });\n        }\n        else {\n            // Regular Buffer mode\n            if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, \"f\")) {\n                __classPrivateFieldGet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, \"f\").stop();\n                __classPrivateFieldGet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, \"f\").disconnect();\n                __classPrivateFieldSet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, null, \"f\");\n            }\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_clipQueue, [], \"f\");\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_isProcessing, false, \"f\");\n        }\n        // Restart analyser polling so fft events continue after stopping or clearing the queue\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_startAnalyserPollingIfEnabled).call(this);\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_playing, false, \"f\");\n        this.dispatchEvent(new CustomEvent(\"stop\", { detail: { id: \"manual\" } }));\n    }\n    /**\n     * Set the master gain ({@link volume}) to a value between `0` (_silent_) and `1` (_full volume_).\n     *\n     * - Clamps out-of-range values.\n     * - If called before {@link init}, stores volume for when `AudioContext` is created.\n     * - If currently {@link muted}, updates stored volume but keeps output silent until {@link unmute}.\n     *\n     * @param volume Desired gain; clamped to [0, 1].\n     */\n    setVolume(volume) {\n        const clampedVolume = Math.max(0, Math.min(volume, 1));\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_volume, clampedVolume, \"f\");\n        if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\") && __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\") && !__classPrivateFieldGet(this, _EVIWebAudioPlayer_muted, \"f\")) {\n            __classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\").gain.setValueAtTime(clampedVolume, __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").currentTime);\n        }\n    }\n    /**\n     * Mute output instantly by setting the gain to 0. Retains the last volume internally for later restore.\n     */\n    mute() {\n        if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\") || !__classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\"))\n            return;\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\").gain.setValueAtTime(0, __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").currentTime);\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_muted, true, \"f\");\n    }\n    /**\n     * Restore output gain to the last set volume (via setVolume).\n     */\n    unmute() {\n        if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\") || !__classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\"))\n            return;\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\").gain.setValueAtTime(__classPrivateFieldGet(this, _EVIWebAudioPlayer_volume, \"f\"), __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").currentTime);\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_muted, false, \"f\");\n    }\n    /**\n     * Tear down all Web-Audio resources (worklet, analyser, gain, context) and reset state so {@link init} can be called again.\n     */\n    dispose() {\n        var _b, _c, _d, _e, _f, _g, _h;\n        if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_fftTimer, \"f\") != null) {\n            clearInterval(__classPrivateFieldGet(this, _EVIWebAudioPlayer_fftTimer, \"f\"));\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_fftTimer, null, \"f\");\n        }\n        if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_disableAudioWorklet, \"f\")) {\n            (_b = __classPrivateFieldGet(this, _EVIWebAudioPlayer_workletNode, \"f\")) === null || _b === void 0 ? void 0 : _b.port.postMessage({ type: \"fadeAndClear\" });\n            (_c = __classPrivateFieldGet(this, _EVIWebAudioPlayer_workletNode, \"f\")) === null || _c === void 0 ? void 0 : _c.port.postMessage({ type: \"end\" });\n            (_d = __classPrivateFieldGet(this, _EVIWebAudioPlayer_workletNode, \"f\")) === null || _d === void 0 ? void 0 : _d.port.close();\n            (_e = __classPrivateFieldGet(this, _EVIWebAudioPlayer_workletNode, \"f\")) === null || _e === void 0 ? void 0 : _e.disconnect();\n        }\n        else {\n            // Regular Buffer mode\n            if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, \"f\")) {\n                __classPrivateFieldGet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, \"f\").stop();\n                __classPrivateFieldGet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, \"f\").disconnect();\n                __classPrivateFieldSet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, null, \"f\");\n            }\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_clipQueue, [], \"f\");\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_isProcessing, false, \"f\");\n        }\n        (_f = __classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\")) === null || _f === void 0 ? void 0 : _f.disconnect();\n        (_g = __classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\")) === null || _g === void 0 ? void 0 : _g.disconnect();\n        (_h = __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\")) === null || _h === void 0 ? void 0 : _h.close().catch(() => void 0);\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_initialized, false, \"f\");\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_playing, false, \"f\");\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_fft, (0, generateEmptyFft_js_1.generateEmptyFft)(), \"f\");\n    }\n}\nexports.EVIWebAudioPlayer = EVIWebAudioPlayer;\n_a = EVIWebAudioPlayer, _EVIWebAudioPlayer_ctx = new WeakMap(), _EVIWebAudioPlayer_workletNode = new WeakMap(), _EVIWebAudioPlayer_analyserNode = new WeakMap(), _EVIWebAudioPlayer_gainNode = new WeakMap(), _EVIWebAudioPlayer_initialized = new WeakMap(), _EVIWebAudioPlayer_playing = new WeakMap(), _EVIWebAudioPlayer_muted = new WeakMap(), _EVIWebAudioPlayer_volume = new WeakMap(), _EVIWebAudioPlayer_disableAudioWorklet = new WeakMap(), _EVIWebAudioPlayer_fft = new WeakMap(), _EVIWebAudioPlayer_fftTimer = new WeakMap(), _EVIWebAudioPlayer_fftOptions = new WeakMap(), _EVIWebAudioPlayer_clipQueue = new WeakMap(), _EVIWebAudioPlayer_currentlyPlayingAudioBuffer = new WeakMap(), _EVIWebAudioPlayer_isProcessing = new WeakMap(), _EVIWebAudioPlayer_lastQueuedChunk = new WeakMap(), _EVIWebAudioPlayer_chunkBufferQueues = new WeakMap(), _EVIWebAudioPlayer_instances = new WeakSet(), _EVIWebAudioPlayer_startAnalyserPollingIfEnabled = function _EVIWebAudioPlayer_startAnalyserPollingIfEnabled() {\n    if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_fftOptions, \"f\") || !__classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\"))\n        return;\n    if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_fftTimer, \"f\"))\n        clearInterval(__classPrivateFieldGet(this, _EVIWebAudioPlayer_fftTimer, \"f\"));\n    const { interval, transform } = __classPrivateFieldGet(this, _EVIWebAudioPlayer_fftOptions, \"f\");\n    __classPrivateFieldSet(this, _EVIWebAudioPlayer_fftTimer, window.setInterval(() => {\n        const bins = new Uint8Array(__classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\").frequencyBinCount);\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\").getByteFrequencyData(bins);\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_fft, transform(bins, __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").sampleRate), \"f\");\n        this.dispatchEvent(new CustomEvent(\"fft\", { detail: { fft: __classPrivateFieldGet(this, _EVIWebAudioPlayer_fft, \"f\") } }));\n    }, interval), \"f\");\n}, _EVIWebAudioPlayer_emitError = function _EVIWebAudioPlayer_emitError(message) {\n    this.dispatchEvent(new CustomEvent(\"error\", { detail: { message } }));\n}, _EVIWebAudioPlayer_convertToAudioBuffer = function _EVIWebAudioPlayer_convertToAudioBuffer(message) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_initialized, \"f\") || !__classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\")) {\n            __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, \"Audio player has not been initialized\");\n            return;\n        }\n        const blob = (0, convertBase64ToBlob_js_1.convertBase64ToBlob)(message.data);\n        const arrayBuffer = yield blob.arrayBuffer();\n        const audioBuffer = yield __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").decodeAudioData(arrayBuffer);\n        return audioBuffer;\n    });\n}, _EVIWebAudioPlayer_getNextAudioBuffers = function _EVIWebAudioPlayer_getNextAudioBuffers(message, audioBuffer) {\n    var _b, _c;\n    // Prevent prototype pollution by restricting dangerous property names.\n    if (message.id === \"__proto__\" || message.id === \"constructor\" || message.id === \"prototype\") {\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, `Attempted to use a dangerous property name as message ID: ${message.id}`);\n        return [];\n    }\n    //1. Add the current buffer to the queue\n    if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_chunkBufferQueues, \"f\")[message.id]) {\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_chunkBufferQueues, \"f\")[message.id] = [];\n    }\n    // Ensure message.index is a safe, non-negative integer to prevent prototype pollution.\n    if (!Number.isInteger(message.index) || message.index < 0) {\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, `Attempted to use an invalid index: ${message.index}`);\n        return [];\n    }\n    const queueForCurrMessage = __classPrivateFieldGet(this, _EVIWebAudioPlayer_chunkBufferQueues, \"f\")[message.id] || [];\n    queueForCurrMessage[message.index] = audioBuffer;\n    // 2. Now collect buffers that are ready to be played\n    const lastId = (_b = __classPrivateFieldGet(this, _EVIWebAudioPlayer_lastQueuedChunk, \"f\")) === null || _b === void 0 ? void 0 : _b.id;\n    const buffers = [];\n    // If the current message ID is different from the last one that was added\n    // to the queue, that means that we're playing a new message now, so the first chunk\n    // we play needs to be at index 0.\n    if (message.id !== lastId) {\n        if (queueForCurrMessage[0]) {\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_lastQueuedChunk, { id: message.id, index: 0 }, \"f\");\n            buffers.push({\n                id: message.id,\n                index: 0,\n                buffer: queueForCurrMessage[0],\n            });\n            queueForCurrMessage[0] = undefined;\n        }\n        else {\n            return [];\n        }\n    }\n    // Drain the queue - basically if any chunks were received out of order previously,\n    // and they're now ready to be played because the earlier chunks\n    // have been received, we can add them to the buffers array.\n    let nextIdx = (((_c = __classPrivateFieldGet(this, _EVIWebAudioPlayer_lastQueuedChunk, \"f\")) === null || _c === void 0 ? void 0 : _c.index) || 0) + 1;\n    let nextBuf = queueForCurrMessage[nextIdx];\n    while (nextBuf) {\n        buffers.push({ index: nextIdx, buffer: nextBuf, id: message.id });\n        queueForCurrMessage[nextIdx] = undefined;\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_lastQueuedChunk, { id: message.id, index: nextIdx }, \"f\");\n        nextIdx += 1;\n        nextBuf = queueForCurrMessage[nextIdx];\n    }\n    return buffers;\n}, _EVIWebAudioPlayer_playNextClip = function _EVIWebAudioPlayer_playNextClip() {\n    var _b, _c;\n    if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_clipQueue, \"f\").length === 0 || __classPrivateFieldGet(this, _EVIWebAudioPlayer_isProcessing, \"f\")) {\n        return;\n    }\n    if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\") === null || __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\") === null) {\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, \"Audio player is not initialized\");\n        return;\n    }\n    const nextClip = __classPrivateFieldGet(this, _EVIWebAudioPlayer_clipQueue, \"f\").shift();\n    if (!nextClip) {\n        return;\n    }\n    __classPrivateFieldSet(this, _EVIWebAudioPlayer_isProcessing, true, \"f\");\n    __classPrivateFieldSet(this, _EVIWebAudioPlayer_playing, true, \"f\");\n    const bufferSource = __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").createBufferSource();\n    bufferSource.buffer = nextClip.buffer;\n    if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\")) {\n        bufferSource.connect(__classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\"));\n    }\n    if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\")) {\n        (_b = __classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\")) === null || _b === void 0 ? void 0 : _b.connect(__classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\"));\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\").connect(__classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").destination);\n    }\n    else {\n        (_c = __classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\")) === null || _c === void 0 ? void 0 : _c.connect(__classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").destination);\n    }\n    __classPrivateFieldSet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, bufferSource, \"f\");\n    __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_startAnalyserPollingIfEnabled).call(this);\n    bufferSource.start(0);\n    if (nextClip.index === 0) {\n        this.dispatchEvent(new CustomEvent(\"play\", { detail: { id: nextClip.id } }));\n    }\n    bufferSource.onended = () => {\n        if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_fftTimer, \"f\")) {\n            clearInterval(__classPrivateFieldGet(this, _EVIWebAudioPlayer_fftTimer, \"f\"));\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_fftTimer, null, \"f\");\n        }\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_fft, (0, generateEmptyFft_js_1.generateEmptyFft)(), \"f\");\n        bufferSource.disconnect();\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_isProcessing, false, \"f\");\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_playing, false, \"f\");\n        this.dispatchEvent(new CustomEvent(\"stop\", { detail: { id: nextClip.id } }));\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, null, \"f\");\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_playNextClip).call(this);\n    };\n};\n/** Default URL of the `audio-worklet.js` processor module, fetched from Hume AIs CDN. */\n_EVIWebAudioPlayer_DEFAULT_WORKLET_URL = { value: \"https://storage.googleapis.com/evi-react-sdk-assets/audio-worklet-20250506.js\" };\n/** Default FFT size (power-of-two). */\n_EVIWebAudioPlayer_DEFAULT_FFT_SIZE = { value: 2048 };\n/** Default analyser poll interval (16 ms). */\n_EVIWebAudioPlayer_DEFAULT_FFT_INTERVAL = { value: 16 };\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1777, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/collate.js"],"sourcesContent":["\"use strict\";\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncDelegator = (this && this.__asyncDelegator) || function (o) {\n    var i, p;\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n};\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.collate = collate;\n/**\n * Takes an async iterator that yields interleaved items from different groups\n * and produces an iterator that yields items in group order.\n *\n * Example:\n *   Input:  A1, B1, A2, A3 (final), C1, C2, C3 (final), B2 (final)\n *   Output: A1, A2, A3, B1, B2, C1, C2, C3\n *\n * This is useful when using synthesizeJsonStreaming with num_generations > 1\n *\n * @example\n * ```typescript\n *\n * import { collate } from 'hume';\n *\n * const stream = hume.synthesizeJsonStreaming({\n *   ...\n * })\n *\n * const contiguous = collate(\n *   stream\n *   (chunk) => chunk.generationId,\n *   (chunk) => chunk.isLastChunk\n * );\n *\n * for await (const item of contiguous) {\n *   audioPlayer.write(item.audio)\n * }\n * ```\n *\n * @param source - Async iterable that yields interleaved items.\n * @param groupBy - Function to determine a \"key\" that determines the group identity for each item.\n * @param isFinal - Function to determine if an item is the final item in its group.\n * @returns An async iterable that yields items in group order.\n */\nfunction collate(source, groupBy, isFinal) {\n    return __asyncGenerator(this, arguments, function* collate_1() {\n        var _a, e_1, _b, _c;\n        const buffers = new Map();\n        const order = [];\n        let current;\n        const ensure = (k) => {\n            if (!buffers.has(k)) {\n                buffers.set(k, []);\n                order.push(k);\n            }\n        };\n        const flushGroup = function* (k) {\n            const buf = buffers.get(k);\n            if (!buf)\n                return;\n            for (const item of buf)\n                yield item;\n            buffers.delete(k);\n        };\n        const nextGroup = () => {\n            // pop the next group in first-seen order that still has a buffer\n            while (order.length && !buffers.has(order[0]))\n                order.shift();\n            return order.shift();\n        };\n        try {\n            for (var _d = true, source_1 = __asyncValues(source), source_1_1; source_1_1 = yield __await(source_1.next()), _a = source_1_1.done, !_a; _d = true) {\n                _c = source_1_1.value;\n                _d = false;\n                const item = _c;\n                const k = groupBy(item);\n                if (current === undefined)\n                    current = k;\n                ensure(k);\n                buffers.get(k).push(item);\n                // if we just saw the final item for the current group, flush it and advance\n                if (k === current && isFinal(item)) {\n                    yield __await(yield* __asyncDelegator(__asyncValues(flushGroup(current))));\n                    current = nextGroup();\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (!_d && !_a && (_b = source_1.return)) yield __await(_b.call(source_1));\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        // stream ended; flush remaining groups in first-seen order\n        if (current !== undefined) {\n            if (buffers.has(current))\n                yield __await(yield* __asyncDelegator(__asyncValues(flushGroup(current))));\n            while (true) {\n                const k = nextGroup();\n                if (k === undefined)\n                    break;\n                yield __await(yield* __asyncDelegator(__asyncValues(flushGroup(k))));\n            }\n        }\n    });\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1972, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/SilenceFiller.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UnclockedSilenceFiller = exports.SilenceFiller = void 0;\n/**\n * SilenceFiller is a pipeable stream that intersperses incoming audio data\n * with bytes of silence. This is important in some cases to keep an audio\n * stream \"alive\". Audio players, such as ffmpeg, can interpret inactivity as\n * meaning the stream is ended, or disconnected.\n *\n * This implementation does not depend on Node.js built-ins and can work in\n * any JavaScript environment, while still being pipeable to Node.js streams.\n *\n * @example\n * ```typescript\n * import { SilenceFiller } from 'hume';\n *\n * const BYTES_PER_SAMPLE = 2; // 16-bit samples\n * const SAMPLE_RATE = 48000;\n * const BUFFER_SIZE = Math.floor(SAMPLE_RATE * 0.1 * BYTES_PER_SAMPLE); // 100ms buffer\n * const silenceFiller = new SilenceFiller(BUFFER_SIZE, SAMPLE_RATE, BYTES_PER_SAMPLE, 10);\n *\n * // Pipe silence filler output to audio player stdin\n * silenceFiller.pipe(audioPlayer.stdin);\n *\n * // Handle pipe errors\n * silenceFiller.on('error', (err) => {\n *   console.error(\"SilenceFiller error:\", err);\n * });\n *\n * // Write audio data as it arrives\n * silenceFiller.writeAudio(audioBuffer);\n *\n * // End the stream when done\n * await silenceFiller.endStream();\n * ```\n */\nclass SilenceFiller {\n    /**\n     * Creates a new SilenceFiller instance.\n     *\n     * @param pushIntervalMs - The interval in milliseconds for pushing audio data (default: 5ms).\n     * @param sampleRate - The sample rate of the audio (e.g., 48000).\n     * @param bytesPerSample - The number of bytes per audio sample (e.g., 2 for 16-bit).\n     * @param bufferSize - How much to 'prebuffer'. If you set this too low there\n     * is a chance that playback will stutter, but if you set it too high\n     * playback will take longer to start.\n     */\n    constructor(pushIntervalMs = 5, sampleRate = 48000, bytesPerSample = 2, bufferSize = 9600) {\n        this.isStarted = false;\n        this.pushIntervalId = null;\n        this.destination = null;\n        this.eventListeners = new Map();\n        this.ended = false;\n        this.unclockedSilenceFiller = new UnclockedSilenceFiller(bufferSize, sampleRate, bytesPerSample);\n        this.bytesPerSample = bytesPerSample;\n        this.pushIntervalMs = pushIntervalMs;\n    }\n    /**\n     * Pipes the output of this SilenceFiller to a writable destination.\n     *\n     * @param destination - The destination to pipe to (e.g., a Node.js Writable stream).\n     * @returns The destination, for chaining.\n     */\n    pipe(destination) {\n        this.destination = destination;\n        return destination;\n    }\n    /**\n     * Registers an event listener.\n     *\n     * @param event - The event name ('error', 'end').\n     * @param listener - The listener function.\n     * @returns This instance, for chaining.\n     */\n    on(event, listener) {\n        if (!this.eventListeners.has(event)) {\n            this.eventListeners.set(event, new Set());\n        }\n        this.eventListeners.get(event).add(listener);\n        return this;\n    }\n    /**\n     * Registers a one-time event listener.\n     *\n     * @param event - The event name ('error', 'end').\n     * @param listener - The listener function.\n     * @returns This instance, for chaining.\n     */\n    once(event, listener) {\n        const onceWrapper = (...args) => {\n            this.off(event, onceWrapper);\n            listener(...args);\n        };\n        return this.on(event, onceWrapper);\n    }\n    /**\n     * Removes an event listener.\n     *\n     * @param event - The event name.\n     * @param listener - The listener function to remove.\n     * @returns This instance, for chaining.\n     */\n    off(event, listener) {\n        const listeners = this.eventListeners.get(event);\n        if (listeners) {\n            listeners.delete(listener);\n        }\n        return this;\n    }\n    /**\n     * Emits an event to all registered listeners.\n     *\n     * @param event - The event name.\n     * @param args - Arguments to pass to listeners.\n     */\n    emit(event, ...args) {\n        const listeners = this.eventListeners.get(event);\n        if (listeners) {\n            for (const listener of listeners) {\n                try {\n                    listener(...args);\n                }\n                catch (_a) {\n                    // Ignore errors in listeners\n                }\n            }\n        }\n    }\n    /**\n     * Writes audio data to the silence filler.\n     *\n     * @param audioBuffer - The audio buffer to write (Uint8Array or Buffer).\n     */\n    writeAudio(audioBuffer) {\n        const now = Date.now();\n        try {\n            this.unclockedSilenceFiller.writeAudio(audioBuffer, now);\n            if (!this.isStarted && this.unclockedSilenceFiller.donePrebuffering) {\n                this.isStarted = true;\n                this.startPushInterval();\n            }\n        }\n        catch (error) {\n            console.error(`[SilenceFiller] Error writing audio:`, error);\n            this.emit(\"error\", error);\n        }\n    }\n    startPushInterval() {\n        this.pushIntervalId = setInterval(() => {\n            this.pushData();\n        }, this.pushIntervalMs);\n    }\n    pushData() {\n        if (!this.isStarted || !this.destination)\n            return;\n        try {\n            const now = Date.now();\n            const audioChunk = this.unclockedSilenceFiller.readAudio(now);\n            if (audioChunk && audioChunk.length > 0) {\n                // Ensure chunk size is aligned to bytesPerSample\n                const alignedChunkSize = Math.floor(audioChunk.length / this.bytesPerSample) * this.bytesPerSample;\n                if (alignedChunkSize > 0) {\n                    const chunk = audioChunk.subarray(0, alignedChunkSize);\n                    this.destination.write(chunk);\n                }\n            }\n        }\n        catch (error) {\n            console.error(`[SilenceFiller] Error pushing data:`, error);\n            this.emit(\"error\", error);\n        }\n    }\n    /**\n     * Ends the stream and drains all remaining audio data.\n     *\n     * @returns A promise that resolves when the stream has ended.\n     */\n    endStream() {\n        return new Promise((resolve) => {\n            if (this.ended) {\n                resolve();\n                return;\n            }\n            this.ended = true;\n            // Stop pushing data\n            if (this.pushIntervalId) {\n                clearInterval(this.pushIntervalId);\n                this.pushIntervalId = null;\n            }\n            // Drain all remaining audio from SilenceFiller\n            const now = Date.now();\n            // Keep reading until no more audio is available\n            while (this.destination) {\n                const remainingChunk = this.unclockedSilenceFiller.readAudio(now);\n                if (!remainingChunk || remainingChunk.length === 0) {\n                    break;\n                }\n                const alignedChunkSize = Math.floor(remainingChunk.length / this.bytesPerSample) * this.bytesPerSample;\n                if (alignedChunkSize > 0) {\n                    const chunk = remainingChunk.subarray(0, alignedChunkSize);\n                    this.destination.write(chunk);\n                }\n            }\n            this.emit(\"end\");\n            resolve();\n        });\n    }\n}\nexports.SilenceFiller = SilenceFiller;\n/**\n * Does the actual calculation of how interspersing audio with silence\n * is \"pure\" in the sense that it does not rely on the system clock.\n * It's up to the caller to provide timestamps.\n *\n * @internal\n */\nclass UnclockedSilenceFiller {\n    constructor(bufferSize, sampleRate, bytesPerSample) {\n        this.audioQueue = [];\n        this.totalBufferedBytes = 0;\n        this.startTimestamp = null;\n        this.totalBytesSent = 0;\n        this.donePrebuffering = false;\n        this.bufferSize = bufferSize;\n        this.sampleRate = sampleRate;\n        this.bytesPerSample = bytesPerSample;\n    }\n    writeAudio(audioBuffer, timestamp) {\n        this.audioQueue.push(audioBuffer);\n        this.totalBufferedBytes += audioBuffer.length;\n        if (this.startTimestamp === null) {\n            this.startTimestamp = timestamp;\n        }\n        if (!this.donePrebuffering && this.totalBufferedBytes >= this.bufferSize) {\n            this.donePrebuffering = true;\n        }\n    }\n    readAudio(timestamp) {\n        if (this.startTimestamp === null || !this.donePrebuffering) {\n            return null;\n        }\n        const elapsedMs = timestamp - this.startTimestamp;\n        const targetBytesSent = Math.floor(((this.sampleRate * elapsedMs) / 1000) * this.bytesPerSample);\n        const bytesNeeded = targetBytesSent - this.totalBytesSent;\n        if (bytesNeeded <= 0) {\n            return null;\n        }\n        // Ensure bytesNeeded is a multiple of bytesPerSample\n        const alignedBytesNeeded = Math.floor(bytesNeeded / this.bytesPerSample) * this.bytesPerSample;\n        if (alignedBytesNeeded <= 0) {\n            return null;\n        }\n        let chunk = new Uint8Array(0);\n        // Drain from queue until we have enough bytes\n        while (chunk.length < alignedBytesNeeded && this.audioQueue.length > 0) {\n            const nextBuffer = this.audioQueue.shift();\n            chunk = concatUint8Arrays(chunk, nextBuffer);\n            this.totalBufferedBytes -= nextBuffer.length;\n        }\n        // If we have more than needed, put the excess back\n        if (chunk.length > alignedBytesNeeded) {\n            const excess = chunk.subarray(alignedBytesNeeded);\n            this.audioQueue.unshift(excess);\n            this.totalBufferedBytes += excess.length;\n            chunk = chunk.subarray(0, alignedBytesNeeded);\n        }\n        // Fill remaining with silence if needed\n        if (chunk.length < alignedBytesNeeded) {\n            const silenceNeeded = new Uint8Array(alignedBytesNeeded - chunk.length); // Uint8Array is zero-filled by default\n            chunk = concatUint8Arrays(chunk, silenceNeeded);\n        }\n        // Update total bytes sent\n        this.totalBytesSent += chunk.length;\n        return chunk;\n    }\n}\nexports.UnclockedSilenceFiller = UnclockedSilenceFiller;\n/**\n * Concatenates two Uint8Arrays into a new Uint8Array.\n */\nfunction concatUint8Arrays(a, b) {\n    const result = new Uint8Array(a.length + b.length);\n    result.set(a, 0);\n    result.set(b, a.length);\n    return result;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2248, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/monday/MondayClient.js"],"sourcesContent":["\"use strict\";\n/**\n * Monday.com GraphQL API Client\n *\n * This client provides a simple interface to interact with Monday.com's GraphQL API\n * to update tasks, items, and boards.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MondayClient = void 0;\nclass MondayClient {\n    constructor(options) {\n        this.apiToken = options.apiToken;\n        this.apiVersion = options.apiVersion || \"2023-10\";\n        this.apiUrl = \"https://api.monday.com/v2\";\n    }\n    /**\n     * Execute a GraphQL query or mutation\n     */\n    executeQuery(query, variables) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const response = yield fetch(this.apiUrl, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": this.apiToken,\n                    \"API-Version\": this.apiVersion,\n                },\n                body: JSON.stringify({\n                    query,\n                    variables,\n                }),\n            });\n            if (!response.ok) {\n                throw new Error(`Monday.com API error: ${response.status} ${response.statusText}`);\n            }\n            const result = yield response.json();\n            if (result.errors) {\n                throw new Error(`Monday.com GraphQL error: ${JSON.stringify(result.errors)}`);\n            }\n            return result.data;\n        });\n    }\n    /**\n     * Get an item by ID\n     */\n    getItem(itemId, boardId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const query = `\n            query GetItem($itemId: [ID!], $boardId: [ID!]) {\n                items(ids: $itemId, board_ids: $boardId) {\n                    id\n                    name\n                    column_values {\n                        id\n                        text\n                        value\n                    }\n                    board {\n                        id\n                        name\n                    }\n                }\n            }\n        `;\n            const result = yield this.executeQuery(query, {\n                itemId: [itemId],\n                boardId: [boardId],\n            });\n            return result.items[0] || null;\n        });\n    }\n    /**\n     * Update an item's status column\n     */\n    updateItemStatus(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const mutation = `\n            mutation ChangeColumnValue($boardId: ID!, $itemId: ID!, $columnId: String!, $value: JSON!) {\n                change_column_value(\n                    board_id: $boardId,\n                    item_id: $itemId,\n                    column_id: $columnId,\n                    value: $value\n                ) {\n                    id\n                }\n            }\n        `;\n            // Monday.com status columns expect JSON with index and post_id\n            // Common status values: \"Done\", \"Working on it\", \"Stuck\", etc.\n            const statusValue = JSON.stringify({\n                index: this.getStatusIndex(options.status),\n                post_id: null,\n            });\n            const result = yield this.executeQuery(mutation, {\n                boardId: options.boardId,\n                itemId: options.itemId,\n                columnId: options.statusColumnId,\n                value: statusValue,\n            });\n            return result.change_column_value;\n        });\n    }\n    /**\n     * Update an item to \"Done\" status\n     */\n    markItemAsDone(itemId, boardId, statusColumnId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.updateItemStatus({\n                itemId,\n                boardId,\n                statusColumnId,\n                status: \"Done\",\n            });\n        });\n    }\n    /**\n     * Create a new item in a board\n     */\n    createItem(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const mutation = `\n            mutation CreateItem($boardId: ID!, $groupId: String, $itemName: String!, $columnValues: JSON) {\n                create_item(\n                    board_id: $boardId,\n                    group_id: $groupId,\n                    item_name: $itemName,\n                    column_values: $columnValues\n                ) {\n                    id\n                }\n            }\n        `;\n            const columnValues = options.columnValues ? JSON.stringify(options.columnValues) : undefined;\n            const result = yield this.executeQuery(mutation, {\n                boardId: options.boardId,\n                groupId: options.groupId || null,\n                itemName: options.itemName,\n                columnValues,\n            });\n            return result.create_item;\n        });\n    }\n    /**\n     * Search for items by name\n     */\n    searchItems(boardId, searchTerm) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const query = `\n            query SearchItems($boardId: [ID!], $searchTerm: String!) {\n                items_by_column_values(\n                    board_id: $boardId,\n                    column_id: \"name\",\n                    column_value: $searchTerm\n                ) {\n                    id\n                    name\n                    column_values {\n                        id\n                        text\n                        value\n                    }\n                    board {\n                        id\n                        name\n                    }\n                }\n            }\n        `;\n            const result = yield this.executeQuery(query, {\n                boardId: [boardId],\n                searchTerm,\n            });\n            return result.items_by_column_values || [];\n        });\n    }\n    /**\n     * Get board information\n     */\n    getBoard(boardId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const query = `\n            query GetBoard($boardId: [ID!]) {\n                boards(ids: $boardId) {\n                    id\n                    name\n                    columns {\n                        id\n                        title\n                        type\n                    }\n                }\n            }\n        `;\n            const result = yield this.executeQuery(query, {\n                boardId: [boardId],\n            });\n            return result.boards[0] || null;\n        });\n    }\n    /**\n     * Helper to get status index for common status values\n     */\n    getStatusIndex(status) {\n        var _a;\n        const statusMap = {\n            \"Done\": 0,\n            \"Working on it\": 1,\n            \"Stuck\": 2,\n            \"Not started\": 3,\n        };\n        return (_a = statusMap[status]) !== null && _a !== void 0 ? _a : 0;\n    }\n}\nexports.MondayClient = MondayClient;\n"],"names":[],"mappings":"AACA;;;;;CAKC,GACD,IAAI,YAAY,4DAAS,yDAAK,SAAS,IAAK,SAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS;IACnF,SAAS,MAAM,KAAK;QAAI,OAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,OAAO;YAAI,QAAQ;QAAQ;IAAI;IAC3G,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,OAAO,CAAC,EAAE,SAAU,OAAO,EAAE,MAAM;QACrD,SAAS,UAAU,KAAK;YAAI,IAAI;gBAAE,KAAK,UAAU,IAAI,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC1F,SAAS,SAAS,KAAK;YAAI,IAAI;gBAAE,KAAK,SAAS,CAAC,QAAQ,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC7F,SAAS,KAAK,MAAM;YAAI,OAAO,IAAI,GAAG,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,IAAI,CAAC,WAAW;QAAW;QAC7G,KAAK,CAAC,YAAY,UAAU,KAAK,CAAC,SAAS,cAAc,EAAE,CAAC,EAAE,IAAI;IACtE;AACJ;AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,YAAY,GAAG,KAAK;AAC5B,MAAM;IACF,YAAY,OAAO,CAAE;QACjB,IAAI,CAAC,QAAQ,GAAG,QAAQ,QAAQ;QAChC,IAAI,CAAC,UAAU,GAAG,QAAQ,UAAU,IAAI;QACxC,IAAI,CAAC,MAAM,GAAG;IAClB;IACA;;KAEC,GACD,aAAa,KAAK,EAAE,SAAS,EAAE;QAC3B,OAAO,UAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG;YACnC,MAAM,WAAW,MAAM,MAAM,IAAI,CAAC,MAAM,EAAE;gBACtC,QAAQ;gBACR,SAAS;oBACL,gBAAgB;oBAChB,iBAAiB,IAAI,CAAC,QAAQ;oBAC9B,eAAe,IAAI,CAAC,UAAU;gBAClC;gBACA,MAAM,KAAK,SAAS,CAAC;oBACjB;oBACA;gBACJ;YACJ;YACA,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,IAAI,MAAM,CAAC,sBAAsB,EAAE,SAAS,MAAM,CAAC,CAAC,EAAE,SAAS,UAAU,EAAE;YACrF;YACA,MAAM,SAAS,MAAM,SAAS,IAAI;YAClC,IAAI,OAAO,MAAM,EAAE;gBACf,MAAM,IAAI,MAAM,CAAC,0BAA0B,EAAE,KAAK,SAAS,CAAC,OAAO,MAAM,GAAG;YAChF;YACA,OAAO,OAAO,IAAI;QACtB;IACJ;IACA;;KAEC,GACD,QAAQ,MAAM,EAAE,OAAO,EAAE;QACrB,OAAO,UAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG;YACnC,MAAM,QAAQ,CAAC;;;;;;;;;;;;;;;;QAgBnB,CAAC;YACG,MAAM,SAAS,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO;gBAC1C,QAAQ;oBAAC;iBAAO;gBAChB,SAAS;oBAAC;iBAAQ;YACtB;YACA,OAAO,OAAO,KAAK,CAAC,EAAE,IAAI;QAC9B;IACJ;IACA;;KAEC,GACD,iBAAiB,OAAO,EAAE;QACtB,OAAO,UAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG;YACnC,MAAM,WAAW,CAAC;;;;;;;;;;;QAWtB,CAAC;YACG,+DAA+D;YAC/D,+DAA+D;YAC/D,MAAM,cAAc,KAAK,SAAS,CAAC;gBAC/B,OAAO,IAAI,CAAC,cAAc,CAAC,QAAQ,MAAM;gBACzC,SAAS;YACb;YACA,MAAM,SAAS,MAAM,IAAI,CAAC,YAAY,CAAC,UAAU;gBAC7C,SAAS,QAAQ,OAAO;gBACxB,QAAQ,QAAQ,MAAM;gBACtB,UAAU,QAAQ,cAAc;gBAChC,OAAO;YACX;YACA,OAAO,OAAO,mBAAmB;QACrC;IACJ;IACA;;KAEC,GACD,eAAe,MAAM,EAAE,OAAO,EAAE,cAAc,EAAE;QAC5C,OAAO,UAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG;YACnC,MAAM,IAAI,CAAC,gBAAgB,CAAC;gBACxB;gBACA;gBACA;gBACA,QAAQ;YACZ;QACJ;IACJ;IACA;;KAEC,GACD,WAAW,OAAO,EAAE;QAChB,OAAO,UAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG;YACnC,MAAM,WAAW,CAAC;;;;;;;;;;;QAWtB,CAAC;YACG,MAAM,eAAe,QAAQ,YAAY,GAAG,KAAK,SAAS,CAAC,QAAQ,YAAY,IAAI;YACnF,MAAM,SAAS,MAAM,IAAI,CAAC,YAAY,CAAC,UAAU;gBAC7C,SAAS,QAAQ,OAAO;gBACxB,SAAS,QAAQ,OAAO,IAAI;gBAC5B,UAAU,QAAQ,QAAQ;gBAC1B;YACJ;YACA,OAAO,OAAO,WAAW;QAC7B;IACJ;IACA;;KAEC,GACD,YAAY,OAAO,EAAE,UAAU,EAAE;QAC7B,OAAO,UAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG;YACnC,MAAM,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;QAoBnB,CAAC;YACG,MAAM,SAAS,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO;gBAC1C,SAAS;oBAAC;iBAAQ;gBAClB;YACJ;YACA,OAAO,OAAO,sBAAsB,IAAI,EAAE;QAC9C;IACJ;IACA;;KAEC,GACD,SAAS,OAAO,EAAE;QACd,OAAO,UAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG;YACnC,MAAM,QAAQ,CAAC;;;;;;;;;;;;QAYnB,CAAC;YACG,MAAM,SAAS,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO;gBAC1C,SAAS;oBAAC;iBAAQ;YACtB;YACA,OAAO,OAAO,MAAM,CAAC,EAAE,IAAI;QAC/B;IACJ;IACA;;KAEC,GACD,eAAe,MAAM,EAAE;QACnB,IAAI;QACJ,MAAM,YAAY;YACd,QAAQ;YACR,iBAAiB;YACjB,SAAS;YACT,eAAe;QACnB;QACA,OAAO,CAAC,KAAK,SAAS,CAAC,OAAO,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK;IACrE;AACJ;AACA,QAAQ,YAAY,GAAG"}},
    {"offset": {"line": 2494, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/monday/TaskSync.js"],"sourcesContent":["\"use strict\";\n/**\n * Task Sync Utility\n *\n * Detects completed tasks from git commits and updates Monday.com accordingly.\n * Supports parsing commit messages, branch names, and file changes to identify tasks.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TaskSync = void 0;\nconst MondayClient_js_1 = require(\"./MondayClient.js\");\nconst child_process_1 = require(\"child_process\");\nclass TaskSync {\n    constructor(config) {\n        this.config = Object.assign({ taskIdPattern: /#(\\d+)|(?:TASK|MON|ITEM)[-:](\\d+)/i, completionKeywords: [\"done\", \"complete\", \"finished\", \"completed\", \"fixed\", \"resolved\"] }, config);\n        this.mondayClient = new MondayClient_js_1.MondayClient({\n            apiToken: config.mondayApiToken,\n        });\n    }\n    /**\n     * Parse commit message to extract task information\n     */\n    parseCommitMessage(commitMessage) {\n        const taskIdMatch = commitMessage.match(this.config.taskIdPattern);\n        if (!taskIdMatch) {\n            return null;\n        }\n        const taskId = taskIdMatch[1] || taskIdMatch[2] || taskIdMatch[3];\n        const hasCompletionKeyword = this.config.completionKeywords.some((keyword) => commitMessage.toLowerCase().includes(keyword.toLowerCase()));\n        if (!hasCompletionKeyword) {\n            return null;\n        }\n        // Extract task name from commit message (everything after the task ID)\n        const taskNameMatch = commitMessage.match(new RegExp(`${this.config.taskIdPattern.source}\\\\s*[:-]?\\\\s*(.+)`, \"i\"));\n        const taskName = taskNameMatch ? taskNameMatch[1].trim() : undefined;\n        return {\n            itemId: taskId,\n            taskName,\n            boardId: this.config.boardId,\n        };\n    }\n    /**\n     * Get the current git branch name\n     */\n    getCurrentBranch() {\n        try {\n            return (0, child_process_1.execSync)(\"git rev-parse --abbrev-ref HEAD\", { encoding: \"utf-8\" }).trim();\n        }\n        catch (_a) {\n            return \"\";\n        }\n    }\n    /**\n     * Get the latest commit message\n     */\n    getLatestCommitMessage() {\n        try {\n            return (0, child_process_1.execSync)(\"git log -1 --pretty=%B\", { encoding: \"utf-8\" }).trim();\n        }\n        catch (_a) {\n            return \"\";\n        }\n    }\n    /**\n     * Check if a commit message indicates task completion\n     */\n    checkAndUpdateFromCommit(commitMessage) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const message = commitMessage || this.getLatestCommitMessage();\n            const taskInfo = this.parseCommitMessage(message);\n            if (!taskInfo || !taskInfo.itemId) {\n                return false;\n            }\n            try {\n                yield this.mondayClient.markItemAsDone(taskInfo.itemId, taskInfo.boardId, this.config.statusColumnId);\n                console.log(` Updated Monday.com item ${taskInfo.itemId} to \"Done\"`);\n                return true;\n            }\n            catch (error) {\n                console.error(` Failed to update Monday.com item ${taskInfo.itemId}:`, error);\n                return false;\n            }\n        });\n    }\n    /**\n     * Update task based on branch name (if mapped)\n     */\n    updateFromBranch(branchName) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const branch = branchName || this.getCurrentBranch();\n            const itemId = (_a = this.config.branchToItemMap) === null || _a === void 0 ? void 0 : _a[branch];\n            if (!itemId) {\n                return false;\n            }\n            try {\n                yield this.mondayClient.markItemAsDone(itemId, this.config.boardId, this.config.statusColumnId);\n                console.log(` Updated Monday.com item ${itemId} from branch ${branch}`);\n                return true;\n            }\n            catch (error) {\n                console.error(` Failed to update Monday.com item ${itemId}:`, error);\n                return false;\n            }\n        });\n    }\n    /**\n     * Sync task from current git state (commit message + branch)\n     */\n    syncCurrentState() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const commitUpdated = yield this.checkAndUpdateFromCommit();\n            if (commitUpdated) {\n                return true;\n            }\n            return yield this.updateFromBranch();\n        });\n    }\n    /**\n     * Manually mark a task as done\n     */\n    markTaskDone(itemId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.mondayClient.markItemAsDone(itemId, this.config.boardId, this.config.statusColumnId);\n            console.log(` Manually updated Monday.com item ${itemId} to \"Done\"`);\n        });\n    }\n}\nexports.TaskSync = TaskSync;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2656, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/monday/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TaskSync = exports.MondayClient = void 0;\nvar MondayClient_js_1 = require(\"./MondayClient.js\");\nObject.defineProperty(exports, \"MondayClient\", { enumerable: true, get: function () { return MondayClient_js_1.MondayClient; } });\nvar TaskSync_js_1 = require(\"./TaskSync.js\");\nObject.defineProperty(exports, \"TaskSync\", { enumerable: true, get: function () { return TaskSync_js_1.TaskSync; } });\n"],"names":[],"mappings":"AACA,OAAO,cAAc,CAAC,SAAS,cAAc;IAAE,OAAO;AAAK;AAC3D,QAAQ,QAAQ,GAAG,QAAQ,YAAY,GAAG,KAAK;AAC/C,IAAI;AACJ,OAAO,cAAc,CAAC,SAAS,gBAAgB;IAAE,YAAY;IAAM,KAAK;QAAc,OAAO,kBAAkB,YAAY;IAAE;AAAE;AAC/H,IAAI;AACJ,OAAO,cAAc,CAAC,SAAS,YAAY;IAAE,YAAY;IAAM,KAAK;QAAc,OAAO,cAAc,QAAQ;IAAE;AAAE"}},
    {"offset": {"line": 2678, "column": 0}, "map": {"version":3,"sources":["file:///Users/itssamboakye/Documents/Nson/EnableOS/hume-typescript-sdk/dist/cjs/wrapper/index.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TaskSync = exports.MondayClient = exports.createSilenceFiller = exports.SilenceFiller = exports.collate = exports.EVIWebAudioPlayer = exports.ExpressionMeasurement = exports.HumeClient = exports.getBrowserSupportedMimeType = exports.MimeType = exports.getAudioStream = exports.fetchAccessToken = exports.checkForAudioTracks = exports.ensureSingleValidAudioTrack = exports.convertBlobToBase64 = exports.convertBase64ToBlob = exports.base64Encode = exports.base64Decode = void 0;\nvar base64Decode_js_1 = require(\"./base64Decode.js\");\nObject.defineProperty(exports, \"base64Decode\", { enumerable: true, get: function () { return base64Decode_js_1.base64Decode; } });\nvar base64Encode_js_1 = require(\"./base64Encode.js\");\nObject.defineProperty(exports, \"base64Encode\", { enumerable: true, get: function () { return base64Encode_js_1.base64Encode; } });\nvar convertBase64ToBlob_js_1 = require(\"./convertBase64ToBlob.js\");\nObject.defineProperty(exports, \"convertBase64ToBlob\", { enumerable: true, get: function () { return convertBase64ToBlob_js_1.convertBase64ToBlob; } });\nvar convertBlobToBase64_js_1 = require(\"./convertBlobToBase64.js\");\nObject.defineProperty(exports, \"convertBlobToBase64\", { enumerable: true, get: function () { return convertBlobToBase64_js_1.convertBlobToBase64; } });\nvar ensureSingleValidAudioTrack_js_1 = require(\"./ensureSingleValidAudioTrack.js\");\nObject.defineProperty(exports, \"ensureSingleValidAudioTrack\", { enumerable: true, get: function () { return ensureSingleValidAudioTrack_js_1.ensureSingleValidAudioTrack; } });\nvar checkForAudioTracks_js_1 = require(\"./checkForAudioTracks.js\");\nObject.defineProperty(exports, \"checkForAudioTracks\", { enumerable: true, get: function () { return checkForAudioTracks_js_1.checkForAudioTracks; } });\nvar fetchAccessToken_js_1 = require(\"./fetchAccessToken.js\");\nObject.defineProperty(exports, \"fetchAccessToken\", { enumerable: true, get: function () { return fetchAccessToken_js_1.fetchAccessToken; } });\nvar getAudioStream_js_1 = require(\"./getAudioStream.js\");\nObject.defineProperty(exports, \"getAudioStream\", { enumerable: true, get: function () { return getAudioStream_js_1.getAudioStream; } });\nvar getBrowserSupportedMimeType_js_1 = require(\"./getBrowserSupportedMimeType.js\");\nObject.defineProperty(exports, \"MimeType\", { enumerable: true, get: function () { return getBrowserSupportedMimeType_js_1.MimeType; } });\nObject.defineProperty(exports, \"getBrowserSupportedMimeType\", { enumerable: true, get: function () { return getBrowserSupportedMimeType_js_1.getBrowserSupportedMimeType; } });\nvar HumeClient_js_1 = require(\"./HumeClient.js\");\nObject.defineProperty(exports, \"HumeClient\", { enumerable: true, get: function () { return HumeClient_js_1.HumeClient; } });\nvar ExpressionMeasurementClient_js_1 = require(\"./expressionMeasurement/ExpressionMeasurementClient.js\");\nObject.defineProperty(exports, \"ExpressionMeasurement\", { enumerable: true, get: function () { return ExpressionMeasurementClient_js_1.ExpressionMeasurement; } });\nvar EVIWebAudioPlayer_js_1 = require(\"./EVIWebAudioPlayer.js\");\nObject.defineProperty(exports, \"EVIWebAudioPlayer\", { enumerable: true, get: function () { return EVIWebAudioPlayer_js_1.EVIWebAudioPlayer; } });\nvar collate_js_1 = require(\"./collate.js\");\nObject.defineProperty(exports, \"collate\", { enumerable: true, get: function () { return collate_js_1.collate; } });\nvar SilenceFiller_js_1 = require(\"./SilenceFiller.js\");\nObject.defineProperty(exports, \"SilenceFiller\", { enumerable: true, get: function () { return SilenceFiller_js_1.SilenceFiller; } });\n/**\n * @deprecated SilenceFiller no longer requires dynamic import. Use `import { SilenceFiller } from 'hume'` directly.\n */\nconst createSilenceFiller = () => __awaiter(void 0, void 0, void 0, function* () {\n    const { SilenceFiller } = yield Promise.resolve().then(() => __importStar(require(\"./SilenceFiller.js\")));\n    return SilenceFiller;\n});\nexports.createSilenceFiller = createSilenceFiller;\n// Monday.com integration\nvar index_js_1 = require(\"./monday/index.js\");\nObject.defineProperty(exports, \"MondayClient\", { enumerable: true, get: function () { return index_js_1.MondayClient; } });\nObject.defineProperty(exports, \"TaskSync\", { enumerable: true, get: function () { return index_js_1.TaskSync; } });\n"],"names":[],"mappings":"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"}}]
}