{"version":3,"sources":["../../../../node_modules/.pnpm/ws%408.18.3/node_modules/ws/lib/constants.js","../../../../node_modules/.pnpm/ws%408.18.3/node_modules/ws/lib/buffer-util.js","../../../../node_modules/.pnpm/ws%408.18.3/node_modules/ws/lib/limiter.js","../../../../node_modules/.pnpm/ws%408.18.3/node_modules/ws/lib/permessage-deflate.js","../../../../node_modules/.pnpm/ws%408.18.3/node_modules/ws/lib/validation.js","../../../../node_modules/.pnpm/ws%408.18.3/node_modules/ws/lib/receiver.js","../../../../node_modules/.pnpm/ws%408.18.3/node_modules/ws/lib/sender.js","../../../../node_modules/.pnpm/ws%408.18.3/node_modules/ws/lib/event-target.js","../../../../node_modules/.pnpm/ws%408.18.3/node_modules/ws/lib/extension.js","../../../../node_modules/.pnpm/ws%408.18.3/node_modules/ws/lib/websocket.js","../../../../node_modules/.pnpm/ws%408.18.3/node_modules/ws/lib/stream.js","../../../../node_modules/.pnpm/ws%408.18.3/node_modules/ws/lib/subprotocol.js","../../../../node_modules/.pnpm/ws%408.18.3/node_modules/ws/lib/websocket-server.js","../../../../node_modules/.pnpm/ws%408.18.3/node_modules/ws/wrapper.mjs","../../../../dist/esm/core/runtime/runtime.mjs","../../../../dist/esm/core/url/qs.mjs","../../../../dist/esm/core/websocket/events.mjs","../../../../dist/esm/version.mjs","../../../../dist/esm/core/websocket/ws.mjs","../../../../dist/esm/core/schemas/Schema.mjs","../../../../dist/esm/core/schemas/utils/getErrorMessageForIncorrectType.mjs","../../../../dist/esm/core/schemas/utils/maybeSkipValidation.mjs","../../../../dist/esm/core/schemas/builders/schema-utils/stringifyValidationErrors.mjs","../../../../dist/esm/core/schemas/builders/schema-utils/JsonError.mjs","../../../../dist/esm/core/schemas/builders/schema-utils/ParseError.mjs","../../../../dist/esm/core/schemas/builders/schema-utils/getSchemaUtils.mjs","../../../../dist/esm/core/schemas/builders/bigint/bigint.mjs","../../../../dist/esm/core/schemas/builders/date/date.mjs","../../../../dist/esm/core/schemas/utils/createIdentitySchemaCreator.mjs","../../../../dist/esm/core/schemas/builders/enum/enum.mjs","../../../../dist/esm/core/schemas/builders/lazy/lazy.mjs","../../../../dist/esm/core/schemas/utils/entries.mjs","../../../../dist/esm/core/schemas/utils/filterObject.mjs","../../../../dist/esm/core/schemas/utils/isPlainObject.mjs","../../../../dist/esm/core/schemas/utils/keys.mjs","../../../../dist/esm/core/schemas/utils/partition.mjs","../../../../dist/esm/core/schemas/builders/object-like/getObjectLikeUtils.mjs","../../../../dist/esm/core/schemas/builders/object/property.mjs","../../../../dist/esm/core/schemas/builders/object/object.mjs","../../../../dist/esm/core/schemas/builders/lazy/lazyObject.mjs","../../../../dist/esm/core/schemas/builders/list/list.mjs","../../../../dist/esm/core/schemas/builders/literals/booleanLiteral.mjs","../../../../dist/esm/core/schemas/builders/literals/stringLiteral.mjs","../../../../dist/esm/core/schemas/builders/object/objectWithoutOptionalProperties.mjs","../../../../dist/esm/core/schemas/builders/primitives/any.mjs","../../../../dist/esm/core/schemas/builders/primitives/boolean.mjs","../../../../dist/esm/core/schemas/builders/primitives/number.mjs","../../../../dist/esm/core/schemas/builders/primitives/string.mjs","../../../../dist/esm/core/schemas/builders/primitives/unknown.mjs","../../../../dist/esm/core/schemas/builders/record/record.mjs","../../../../dist/esm/core/schemas/builders/set/set.mjs","../../../../dist/esm/core/schemas/builders/undiscriminated-union/undiscriminatedUnion.mjs","../../../../dist/esm/core/schemas/builders/union/discriminant.mjs","../../../../dist/esm/core/schemas/builders/union/union.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/AssistantInput.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/AudioInput.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/PauseAssistantMessage.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ResumeAssistantMessage.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/Encoding.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/AudioConfiguration.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/BuiltInTool.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/BuiltinToolConfig.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ContextType.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/Context.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/SessionSettingsVariablesValue.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ToolType.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/Tool.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/SessionSettings.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ErrorLevel.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ToolErrorMessage.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ToolResponseMessage.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/UserInput.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/chat/types/PublishEvent.mjs","../../../../dist/esm/core/json.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/AssistantEnd.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ChatMessageToolResult.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/Role.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ToolCallMessage.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ChatMessage.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/EmotionScores.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ProsodyInference.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/Inference.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/AssistantMessage.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/AssistantProsody.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/AudioOutput.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ChatMetadata.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/UserInterruption.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/MillisecondInterval.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/UserMessage.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/WebSocketError.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/SubscribeEvent.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/chat/client/socket/ChatSocketResponse.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/chat/types/SubscribeEvent.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/PostedBuiltinToolName.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/PostedBuiltinTool.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/PostedConfigPromptSpec.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/PostedEllmModel.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/PostedEventMessageSpec.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/PostedEventMessageSpecs.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/LanguageModelType.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ModelProviderEnum.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/PostedLanguageModel.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/PostedNudgeSpec.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/PostedTimeoutSpecsInactivity.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/PostedTimeoutSpecsMaxDuration.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/PostedTimeoutSpecs.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/PostedUserDefinedToolSpec.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/PostedWebhookEventType.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/PostedWebhookSpec.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/VoiceProvider.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/VoiceId.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/VoiceName.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/VoiceRef.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/configs/client/requests/PostedConfig.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/configs/client/requests/PostedConfigName.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/configs/client/requests/PostedConfigVersion.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/configs/client/requests/PostedConfigVersionDescription.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/controlPlane/client/socket/ControlPlaneSocketResponse.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/prompts/client/requests/PostedPrompt.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/prompts/client/requests/PostedPromptName.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/prompts/client/requests/PostedPromptVersion.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/prompts/client/requests/PostedPromptVersionDescription.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnPrompt.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/prompts/client/createPrompt.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/prompts/client/createPromptVersion.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/prompts/client/getPromptVersion.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/prompts/client/updatePromptDescription.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/tools/client/requests/PostedUserDefinedTool.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/tools/client/requests/PostedUserDefinedToolName.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/tools/client/requests/PostedUserDefinedToolVersion.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/tools/client/requests/PostedUserDefinedToolVersionDescription.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnUserDefinedToolToolType.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnUserDefinedToolVersionType.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnUserDefinedTool.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/tools/client/createTool.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/tools/client/createToolVersion.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/tools/client/getToolVersion.mjs","../../../../dist/esm/serialization/resources/empathicVoice/resources/tools/client/updateToolDescription.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ConnectSessionSettingsAudio.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ConnectSessionSettingsContext.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ConnectSessionSettingsVariablesValue.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ConnectSessionSettings.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ControlPlanePublishEvent.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ErrorResponse.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ValidationErrorLocItem.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ValidationError.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/HttpValidationError.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/JsonMessage.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/PostedTimeoutSpec.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnBuiltinToolToolType.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnBuiltinTool.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChatStatus.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnConfigSpec.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChat.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChatAudioReconstructionStatus.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChatAudioReconstruction.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChatEventRole.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChatEventType.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChatEvent.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChatGroup.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChatGroupPagedAudioReconstructionsPaginationDirection.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChatGroupPagedAudioReconstructions.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChatGroupPagedChatsPaginationDirection.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChatGroupPagedChats.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChatGroupPagedEventsPaginationDirection.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChatGroupPagedEvents.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChatPagedEventsPaginationDirection.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChatPagedEventsStatus.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnChatPagedEvents.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnEllmModel.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnEventMessageSpec.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnEventMessageSpecs.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnLanguageModel.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnNudgeSpec.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnTimeoutSpec.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnTimeoutSpecs.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnVoice.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnWebhookEventType.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnWebhookSpec.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnConfig.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnPagedChatGroupsPaginationDirection.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnPagedChatGroups.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnPagedChatsPaginationDirection.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnPagedChats.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnPagedConfigs.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnPagedPrompts.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnPagedUserDefinedTools.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/ReturnPromptVersionType.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/WebhookEventBase.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/WebhookEventChatStatus.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/WebhookEventChatEnded.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/WebhookEventChatStartType.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/WebhookEventChatStarted.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/WebhookEventToolCall.mjs","../../../../dist/esm/serialization/resources/empathicVoice/types/WebhookEvent.mjs","../../../../dist/esm/api/resources/empathicVoice/resources/chat/client/Socket.mjs","../../../../dist/esm/environments.mjs","../../../../dist/esm/core/url/encodePathParam.mjs","../../../../dist/esm/core/url/join.mjs","../../../../dist/esm/core/fetcher/Supplier.mjs","../../../../dist/esm/core/headers.mjs","../../../../dist/esm/api/resources/empathicVoice/resources/chat/client/Client.mjs"],"sourcesContent":["'use strict';\n\nconst BINARY_TYPES = ['nodebuffer', 'arraybuffer', 'fragments'];\nconst hasBlob = typeof Blob !== 'undefined';\n\nif (hasBlob) BINARY_TYPES.push('blob');\n\nmodule.exports = {\n  BINARY_TYPES,\n  EMPTY_BUFFER: Buffer.alloc(0),\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  hasBlob,\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\n  kListener: Symbol('kListener'),\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  NOOP: () => {}\n};\n","'use strict';\n\nconst { EMPTY_BUFFER } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) {\n    return new FastBuffer(target.buffer, target.byteOffset, offset);\n  }\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  for (let i = 0; i < buffer.length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.length === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.length);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = new FastBuffer(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = new FastBuffer(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\nmodule.exports = {\n  concat,\n  mask: _mask,\n  toArrayBuffer,\n  toBuffer,\n  unmask: _unmask\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_BUFFER_UTIL) {\n  try {\n    const bufferUtil = require('bufferutil');\n\n    module.exports.mask = function (source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bufferUtil.mask(source, mask, output, offset, length);\n    };\n\n    module.exports.unmask = function (buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bufferUtil.unmask(buffer, mask);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","'use strict';\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n","'use strict';\n\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst Limiter = require('./limiter');\nconst { kStatusCode } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) {\n        data = new FastBuffer(data.buffer, data.byteOffset, data.length - 4);\n      }\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n\n  //\n  // The choice to employ `zlib.reset()` over `zlib.close()` is dictated by the\n  // fact that in Node.js versions prior to 13.10.0, the callback for\n  // `zlib.flush()` is not called if `zlib.close()` is used. Utilizing\n  // `zlib.reset()` ensures that either the callback is invoked or an error is\n  // emitted.\n  //\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n\n  if (this[kError]) {\n    this[kCallback](this[kError]);\n    return;\n  }\n\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n","'use strict';\n\nconst { isUtf8 } = require('buffer');\n\nconst { hasBlob } = require('./constants');\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Determines whether a value is a `Blob`.\n *\n * @param {*} value The value to be tested\n * @return {Boolean} `true` if `value` is a `Blob`, else `false`\n * @private\n */\nfunction isBlob(value) {\n  return (\n    hasBlob &&\n    typeof value === 'object' &&\n    typeof value.arrayBuffer === 'function' &&\n    typeof value.type === 'string' &&\n    typeof value.stream === 'function' &&\n    (value[Symbol.toStringTag] === 'Blob' ||\n      value[Symbol.toStringTag] === 'File')\n  );\n}\n\nmodule.exports = {\n  isBlob,\n  isValidStatusCode,\n  isValidUTF8: _isValidUTF8,\n  tokenChars\n};\n\nif (isUtf8) {\n  module.exports.isValidUTF8 = function (buf) {\n    return buf.length < 24 ? _isValidUTF8(buf) : isUtf8(buf);\n  };\n} /* istanbul ignore else  */ else if (!process.env.WS_NO_UTF_8_VALIDATE) {\n  try {\n    const isValidUTF8 = require('utf-8-validate');\n\n    module.exports.isValidUTF8 = function (buf) {\n      return buf.length < 32 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","'use strict';\n\nconst { Writable } = require('stream');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = require('./constants');\nconst { concat, toArrayBuffer, unmask } = require('./buffer-util');\nconst { isValidStatusCode, isValidUTF8 } = require('./validation');\n\nconst FastBuffer = Buffer[Symbol.species];\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\nconst DEFER_EVENT = 6;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n   * @param {Object} [options.extensions] An object containing the negotiated\n   *     extensions\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n   *     client or server mode\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   */\n  constructor(options = {}) {\n    super();\n\n    this._allowSynchronousEvents =\n      options.allowSynchronousEvents !== undefined\n        ? options.allowSynchronousEvents\n        : true;\n    this._binaryType = options.binaryType || BINARY_TYPES[0];\n    this._extensions = options.extensions || {};\n    this._isServer = !!options.isServer;\n    this._maxPayload = options.maxPayload | 0;\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\n    this[kWebSocket] = undefined;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._errored = false;\n    this._loop = false;\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = new FastBuffer(\n        buf.buffer,\n        buf.byteOffset + n,\n        buf.length - n\n      );\n\n      return new FastBuffer(buf.buffer, buf.byteOffset, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = new FastBuffer(\n          buf.buffer,\n          buf.byteOffset + n,\n          buf.length - n\n        );\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          this.getInfo(cb);\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          this.getPayloadLength16(cb);\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          this.getPayloadLength64(cb);\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          this.getData(cb);\n          break;\n        case INFLATING:\n        case DEFER_EVENT:\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    if (!this._errored) cb();\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getInfo(cb) {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      const error = this.createError(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n\n      cb(error);\n      return;\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      const error = this.createError(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n\n      cb(error);\n      return;\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        const error = this.createError(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (!this._fragmented) {\n        const error = this.createError(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n\n        cb(error);\n        return;\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        const error = this.createError(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n\n        cb(error);\n        return;\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        const error = this.createError(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (compressed) {\n        const error = this.createError(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (\n        this._payloadLength > 0x7d ||\n        (this._opcode === 0x08 && this._payloadLength === 1)\n      ) {\n        const error = this.createError(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n\n        cb(error);\n        return;\n      }\n    } else {\n      const error = this.createError(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n\n      cb(error);\n      return;\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        const error = this.createError(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n\n        cb(error);\n        return;\n      }\n    } else if (this._masked) {\n      const error = this.createError(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n\n      cb(error);\n      return;\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else this.haveLength(cb);\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getPayloadLength16(cb) {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    this.haveLength(cb);\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getPayloadLength64(cb) {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      const error = this.createError(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n\n      cb(error);\n      return;\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    this.haveLength(cb);\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  haveLength(cb) {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        const error = this.createError(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n\n        cb(error);\n        return;\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n\n      if (\n        this._masked &&\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\n      ) {\n        unmask(data, this._mask);\n      }\n    }\n\n    if (this._opcode > 0x07) {\n      this.controlMessage(data, cb);\n      return;\n    }\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its length is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    this.dataMessage(cb);\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          const error = this.createError(\n            RangeError,\n            'Max payload size exceeded',\n            false,\n            1009,\n            'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n          );\n\n          cb(error);\n          return;\n        }\n\n        this._fragments.push(buf);\n      }\n\n      this.dataMessage(cb);\n      if (this._state === GET_INFO) this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  dataMessage(cb) {\n    if (!this._fin) {\n      this._state = GET_INFO;\n      return;\n    }\n\n    const messageLength = this._messageLength;\n    const fragments = this._fragments;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragmented = 0;\n    this._fragments = [];\n\n    if (this._opcode === 2) {\n      let data;\n\n      if (this._binaryType === 'nodebuffer') {\n        data = concat(fragments, messageLength);\n      } else if (this._binaryType === 'arraybuffer') {\n        data = toArrayBuffer(concat(fragments, messageLength));\n      } else if (this._binaryType === 'blob') {\n        data = new Blob(fragments);\n      } else {\n        data = fragments;\n      }\n\n      if (this._allowSynchronousEvents) {\n        this.emit('message', data, true);\n        this._state = GET_INFO;\n      } else {\n        this._state = DEFER_EVENT;\n        setImmediate(() => {\n          this.emit('message', data, true);\n          this._state = GET_INFO;\n          this.startLoop(cb);\n        });\n      }\n    } else {\n      const buf = concat(fragments, messageLength);\n\n      if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n        const error = this.createError(\n          Error,\n          'invalid UTF-8 sequence',\n          true,\n          1007,\n          'WS_ERR_INVALID_UTF8'\n        );\n\n        cb(error);\n        return;\n      }\n\n      if (this._state === INFLATING || this._allowSynchronousEvents) {\n        this.emit('message', buf, false);\n        this._state = GET_INFO;\n      } else {\n        this._state = DEFER_EVENT;\n        setImmediate(() => {\n          this.emit('message', buf, false);\n          this._state = GET_INFO;\n          this.startLoop(cb);\n        });\n      }\n    }\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data, cb) {\n    if (this._opcode === 0x08) {\n      if (data.length === 0) {\n        this._loop = false;\n        this.emit('conclude', 1005, EMPTY_BUFFER);\n        this.end();\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          const error = this.createError(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n\n          cb(error);\n          return;\n        }\n\n        const buf = new FastBuffer(\n          data.buffer,\n          data.byteOffset + 2,\n          data.length - 2\n        );\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          const error = this.createError(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n\n          cb(error);\n          return;\n        }\n\n        this._loop = false;\n        this.emit('conclude', code, buf);\n        this.end();\n      }\n\n      this._state = GET_INFO;\n      return;\n    }\n\n    if (this._allowSynchronousEvents) {\n      this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\n      this._state = GET_INFO;\n    } else {\n      this._state = DEFER_EVENT;\n      setImmediate(() => {\n        this.emit(this._opcode === 0x09 ? 'ping' : 'pong', data);\n        this._state = GET_INFO;\n        this.startLoop(cb);\n      });\n    }\n  }\n\n  /**\n   * Builds an error object.\n   *\n   * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n   * @param {String} message The error message\n   * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n   *     `message`\n   * @param {Number} statusCode The status code\n   * @param {String} errorCode The exposed error code\n   * @return {(Error|RangeError)} The error\n   * @private\n   */\n  createError(ErrorCtor, message, prefix, statusCode, errorCode) {\n    this._loop = false;\n    this._errored = true;\n\n    const err = new ErrorCtor(\n      prefix ? `Invalid WebSocket frame: ${message}` : message\n    );\n\n    Error.captureStackTrace(err, this.createError);\n    err.code = errorCode;\n    err[kStatusCode] = statusCode;\n    return err;\n  }\n}\n\nmodule.exports = Receiver;\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex\" }] */\n\n'use strict';\n\nconst { Duplex } = require('stream');\nconst { randomFillSync } = require('crypto');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst { EMPTY_BUFFER, kWebSocket, NOOP } = require('./constants');\nconst { isBlob, isValidStatusCode } = require('./validation');\nconst { mask: applyMask, toBuffer } = require('./buffer-util');\n\nconst kByteLength = Symbol('kByteLength');\nconst maskBuffer = Buffer.alloc(4);\nconst RANDOM_POOL_SIZE = 8 * 1024;\nlet randomPool;\nlet randomPoolPointer = RANDOM_POOL_SIZE;\n\nconst DEFAULT = 0;\nconst DEFLATING = 1;\nconst GET_BLOB_DATA = 2;\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {Duplex} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Function} [generateMask] The function used to generate the masking\n   *     key\n   */\n  constructor(socket, extensions, generateMask) {\n    this._extensions = extensions || {};\n\n    if (generateMask) {\n      this._generateMask = generateMask;\n      this._maskBuffer = Buffer.alloc(4);\n    }\n\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._queue = [];\n    this._state = DEFAULT;\n    this.onerror = NOOP;\n    this[kWebSocket] = undefined;\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {(Buffer|String)} data The data to frame\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {(Buffer|String)[]} The framed data\n   * @public\n   */\n  static frame(data, options) {\n    let mask;\n    let merge = false;\n    let offset = 2;\n    let skipMasking = false;\n\n    if (options.mask) {\n      mask = options.maskBuffer || maskBuffer;\n\n      if (options.generateMask) {\n        options.generateMask(mask);\n      } else {\n        if (randomPoolPointer === RANDOM_POOL_SIZE) {\n          /* istanbul ignore else  */\n          if (randomPool === undefined) {\n            //\n            // This is lazily initialized because server-sent frames must not\n            // be masked so it may never be used.\n            //\n            randomPool = Buffer.alloc(RANDOM_POOL_SIZE);\n          }\n\n          randomFillSync(randomPool, 0, RANDOM_POOL_SIZE);\n          randomPoolPointer = 0;\n        }\n\n        mask[0] = randomPool[randomPoolPointer++];\n        mask[1] = randomPool[randomPoolPointer++];\n        mask[2] = randomPool[randomPoolPointer++];\n        mask[3] = randomPool[randomPoolPointer++];\n      }\n\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\n      offset = 6;\n    }\n\n    let dataLength;\n\n    if (typeof data === 'string') {\n      if (\n        (!options.mask || skipMasking) &&\n        options[kByteLength] !== undefined\n      ) {\n        dataLength = options[kByteLength];\n      } else {\n        data = Buffer.from(data);\n        dataLength = data.length;\n      }\n    } else {\n      dataLength = data.length;\n      merge = options.mask && options.readOnly && !skipMasking;\n    }\n\n    let payloadLength = dataLength;\n\n    if (dataLength >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (dataLength > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(dataLength, 2);\n    } else if (payloadLength === 127) {\n      target[2] = target[3] = 0;\n      target.writeUIntBE(dataLength, 4, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (skipMasking) return [target, data];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, dataLength);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, dataLength);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {(String|Buffer)} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || !data.length) {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n\n      if (typeof data === 'string') {\n        buf.write(data, 2);\n      } else {\n        buf.set(data, 2);\n      }\n    }\n\n    const options = {\n      [kByteLength]: buf.length,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x08,\n      readOnly: false,\n      rsv1: false\n    };\n\n    if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, buf, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(buf, options), cb);\n    }\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x09,\n      readOnly,\n      rsv1: false\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, false, options, cb]);\n      } else {\n        this.getBlobData(data, false, options, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x0a,\n      readOnly,\n      rsv1: false\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, false, options, cb]);\n      } else {\n        this.getBlobData(data, false, options, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else if (isBlob(data)) {\n      byteLength = data.size;\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (\n        rsv1 &&\n        perMessageDeflate &&\n        perMessageDeflate.params[\n          perMessageDeflate._isServer\n            ? 'server_no_context_takeover'\n            : 'client_no_context_takeover'\n        ]\n      ) {\n        rsv1 = byteLength >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    const opts = {\n      [kByteLength]: byteLength,\n      fin: options.fin,\n      generateMask: this._generateMask,\n      mask: options.mask,\n      maskBuffer: this._maskBuffer,\n      opcode,\n      readOnly,\n      rsv1\n    };\n\n    if (isBlob(data)) {\n      if (this._state !== DEFAULT) {\n        this.enqueue([this.getBlobData, data, this._compress, opts, cb]);\n      } else {\n        this.getBlobData(data, this._compress, opts, cb);\n      }\n    } else if (this._state !== DEFAULT) {\n      this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n    } else {\n      this.dispatch(data, this._compress, opts, cb);\n    }\n  }\n\n  /**\n   * Gets the contents of a blob as binary data.\n   *\n   * @param {Blob} blob The blob\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     the data\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  getBlobData(blob, compress, options, cb) {\n    this._bufferedBytes += options[kByteLength];\n    this._state = GET_BLOB_DATA;\n\n    blob\n      .arrayBuffer()\n      .then((arrayBuffer) => {\n        if (this._socket.destroyed) {\n          const err = new Error(\n            'The socket was closed while the blob was being read'\n          );\n\n          //\n          // `callCallbacks` is called in the next tick to ensure that errors\n          // that might be thrown in the callbacks behave like errors thrown\n          // outside the promise chain.\n          //\n          process.nextTick(callCallbacks, this, err, cb);\n          return;\n        }\n\n        this._bufferedBytes -= options[kByteLength];\n        const data = toBuffer(arrayBuffer);\n\n        if (!compress) {\n          this._state = DEFAULT;\n          this.sendFrame(Sender.frame(data, options), cb);\n          this.dequeue();\n        } else {\n          this.dispatch(data, compress, options, cb);\n        }\n      })\n      .catch((err) => {\n        //\n        // `onError` is called in the next tick for the same reason that\n        // `callCallbacks` above is.\n        //\n        process.nextTick(onError, this, err, cb);\n      });\n  }\n\n  /**\n   * Dispatches a message.\n   *\n   * @param {(Buffer|String)} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += options[kByteLength];\n    this._state = DEFLATING;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        callCallbacks(this, err, cb);\n        return;\n      }\n\n      this._bufferedBytes -= options[kByteLength];\n      this._state = DEFAULT;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (this._state === DEFAULT && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[3][kByteLength];\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[3][kByteLength];\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {(Buffer | String)[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n\n/**\n * Calls queued callbacks with an error.\n *\n * @param {Sender} sender The `Sender` instance\n * @param {Error} err The error to call the callbacks with\n * @param {Function} [cb] The first callback\n * @private\n */\nfunction callCallbacks(sender, err, cb) {\n  if (typeof cb === 'function') cb(err);\n\n  for (let i = 0; i < sender._queue.length; i++) {\n    const params = sender._queue[i];\n    const callback = params[params.length - 1];\n\n    if (typeof callback === 'function') callback(err);\n  }\n}\n\n/**\n * Handles a `Sender` error.\n *\n * @param {Sender} sender The `Sender` instance\n * @param {Error} err The error\n * @param {Function} [cb] The first pending callback\n * @private\n */\nfunction onError(sender, err, cb) {\n  callCallbacks(sender, err, cb);\n  sender.onerror(err);\n}\n","'use strict';\n\nconst { kForOnEventAttribute, kListener } = require('./constants');\n\nconst kCode = Symbol('kCode');\nconst kData = Symbol('kData');\nconst kError = Symbol('kError');\nconst kMessage = Symbol('kMessage');\nconst kReason = Symbol('kReason');\nconst kTarget = Symbol('kTarget');\nconst kType = Symbol('kType');\nconst kWasClean = Symbol('kWasClean');\n\n/**\n * Class representing an event.\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @throws {TypeError} If the `type` argument is not specified\n   */\n  constructor(type) {\n    this[kTarget] = null;\n    this[kType] = type;\n  }\n\n  /**\n   * @type {*}\n   */\n  get target() {\n    return this[kTarget];\n  }\n\n  /**\n   * @type {String}\n   */\n  get type() {\n    return this[kType];\n  }\n}\n\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {Number} [options.code=0] The status code explaining why the\n   *     connection was closed\n   * @param {String} [options.reason=''] A human-readable string explaining why\n   *     the connection was closed\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n   *     connection was cleanly closed\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kCode] = options.code === undefined ? 0 : options.code;\n    this[kReason] = options.reason === undefined ? '' : options.reason;\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get code() {\n    return this[kCode];\n  }\n\n  /**\n   * @type {String}\n   */\n  get reason() {\n    return this[kReason];\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get wasClean() {\n    return this[kWasClean];\n  }\n}\n\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.error=null] The error that generated this event\n   * @param {String} [options.message=''] The error message\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kError] = options.error === undefined ? null : options.error;\n    this[kMessage] = options.message === undefined ? '' : options.message;\n  }\n\n  /**\n   * @type {*}\n   */\n  get error() {\n    return this[kError];\n  }\n\n  /**\n   * @type {String}\n   */\n  get message() {\n    return this[kMessage];\n  }\n}\n\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.data=null] The message content\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kData] = options.data === undefined ? null : options.data;\n  }\n\n  /**\n   * @type {*}\n   */\n  get data() {\n    return this[kData];\n  }\n}\n\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {(Function|Object)} handler The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, handler, options = {}) {\n    for (const listener of this.listeners(type)) {\n      if (\n        !options[kForOnEventAttribute] &&\n        listener[kListener] === handler &&\n        !listener[kForOnEventAttribute]\n      ) {\n        return;\n      }\n    }\n\n    let wrapper;\n\n    if (type === 'message') {\n      wrapper = function onMessage(data, isBinary) {\n        const event = new MessageEvent('message', {\n          data: isBinary ? data : data.toString()\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'close') {\n      wrapper = function onClose(code, message) {\n        const event = new CloseEvent('close', {\n          code,\n          reason: message.toString(),\n          wasClean: this._closeFrameReceived && this._closeFrameSent\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'error') {\n      wrapper = function onError(error) {\n        const event = new ErrorEvent('error', {\n          error,\n          message: error.message\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'open') {\n      wrapper = function onOpen() {\n        const event = new Event('open');\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else {\n      return;\n    }\n\n    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\n    wrapper[kListener] = handler;\n\n    if (options.once) {\n      this.once(type, wrapper);\n    } else {\n      this.on(type, wrapper);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {(Function|Object)} handler The listener to remove\n   * @public\n   */\n  removeEventListener(type, handler) {\n    for (const listener of this.listeners(type)) {\n      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\n        this.removeListener(type, listener);\n        break;\n      }\n    }\n  }\n};\n\nmodule.exports = {\n  CloseEvent,\n  ErrorEvent,\n  Event,\n  EventTarget,\n  MessageEvent\n};\n\n/**\n * Call an event listener\n *\n * @param {(Function|Object)} listener The listener to call\n * @param {*} thisArg The value to use as `this`` when calling the listener\n * @param {Event} event The event to pass to the listener\n * @private\n */\nfunction callListener(listener, thisArg, event) {\n  if (typeof listener === 'object' && listener.handleEvent) {\n    listener.handleEvent.call(listener, event);\n  } else {\n    listener.call(thisArg, event);\n  }\n}\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let code = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (\n        i !== 0 &&\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n      ) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex|Readable$\", \"caughtErrors\": \"none\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst https = require('https');\nconst http = require('http');\nconst net = require('net');\nconst tls = require('tls');\nconst { randomBytes, createHash } = require('crypto');\nconst { Duplex, Readable } = require('stream');\nconst { URL } = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst Receiver = require('./receiver');\nconst Sender = require('./sender');\nconst { isBlob } = require('./validation');\n\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kForOnEventAttribute,\n  kListener,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = require('./constants');\nconst {\n  EventTarget: { addEventListener, removeEventListener }\n} = require('./event-target');\nconst { format, parse } = require('./extension');\nconst { toBuffer } = require('./buffer-util');\n\nconst closeTimeout = 30 * 1000;\nconst kAborted = Symbol('kAborted');\nconst protocolVersions = [8, 13];\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = EMPTY_BUFFER;\n    this._closeTimer = null;\n    this._errorEmitted = false;\n    this._extensions = {};\n    this._paused = false;\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (protocols === undefined) {\n        protocols = [];\n      } else if (!Array.isArray(protocols)) {\n        if (typeof protocols === 'object' && protocols !== null) {\n          options = protocols;\n          protocols = [];\n        } else {\n          protocols = [protocols];\n        }\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._autoPong = options.autoPong;\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * For historical reasons, the custom \"nodebuffer\" type is used by the default\n   * instead of \"blob\".\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get isPaused() {\n    return this._paused;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return null;\n  }\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Object} options Options object\n   * @param {Boolean} [options.allowSynchronousEvents=false] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @private\n   */\n  setSocket(socket, head, options) {\n    const receiver = new Receiver({\n      allowSynchronousEvents: options.allowSynchronousEvents,\n      binaryType: this.binaryType,\n      extensions: this._extensions,\n      isServer: this._isServer,\n      maxPayload: options.maxPayload,\n      skipUTF8Validation: options.skipUTF8Validation\n    });\n\n    const sender = new Sender(socket, this._extensions, options.generateMask);\n\n    this._receiver = receiver;\n    this._sender = sender;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    sender[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    sender.onerror = senderOnError;\n\n    //\n    // These methods may not be available if `socket` is just a `Duplex`.\n    //\n    if (socket.setTimeout) socket.setTimeout(0);\n    if (socket.setNoDelay) socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {(String|Buffer)} [data] The reason why the connection is\n   *     closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      abortHandshake(this, this._req, msg);\n      return;\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    setCloseTimer(this);\n  }\n\n  /**\n   * Pause the socket.\n   *\n   * @public\n   */\n  pause() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = true;\n    this._socket.pause();\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Resume the socket.\n   *\n   * @public\n   */\n  resume() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = false;\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      abortHandshake(this, this._req, msg);\n      return;\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'isPaused',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) return listener[kListener];\n      }\n\n      return null;\n    },\n    set(handler) {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) {\n          this.removeListener(method, listener);\n          break;\n        }\n      }\n\n      if (typeof handler !== 'function') return;\n\n      this.addEventListener(method, handler, {\n        [kForOnEventAttribute]: true\n      });\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {Array} protocols The subprotocols\n * @param {Object} [options] Connection options\n * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether any\n *     of the `'message'`, `'ping'`, and `'pong'` events can be emitted multiple\n *     times in the same tick\n * @param {Boolean} [options.autoPong=true] Specifies whether or not to\n *     automatically send a pong in response to a ping\n * @param {Function} [options.finishRequest] A function which can be used to\n *     customize the headers of each http request before it is sent\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Function} [options.generateMask] The function used to generate the\n *     masking key\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n *     not to skip UTF-8 validation for text and close messages\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    allowSynchronousEvents: true,\n    autoPong: true,\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    skipUTF8Validation: false,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: 'GET',\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  websocket._autoPong = opts.autoPong;\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n  } else {\n    try {\n      parsedUrl = new URL(address);\n    } catch (e) {\n      throw new SyntaxError(`Invalid URL: ${address}`);\n    }\n  }\n\n  if (parsedUrl.protocol === 'http:') {\n    parsedUrl.protocol = 'ws:';\n  } else if (parsedUrl.protocol === 'https:') {\n    parsedUrl.protocol = 'wss:';\n  }\n\n  websocket._url = parsedUrl.href;\n\n  const isSecure = parsedUrl.protocol === 'wss:';\n  const isIpcUrl = parsedUrl.protocol === 'ws+unix:';\n  let invalidUrlMessage;\n\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isIpcUrl) {\n    invalidUrlMessage =\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", ' +\n      '\"http:\", \"https:\", or \"ws+unix:\"';\n  } else if (isIpcUrl && !parsedUrl.pathname) {\n    invalidUrlMessage = \"The URL's pathname is empty\";\n  } else if (parsedUrl.hash) {\n    invalidUrlMessage = 'The URL contains a fragment identifier';\n  }\n\n  if (invalidUrlMessage) {\n    const err = new SyntaxError(invalidUrlMessage);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const request = isSecure ? https.request : http.request;\n  const protocolSet = new Set();\n  let perMessageDeflate;\n\n  opts.createConnection =\n    opts.createConnection || (isSecure ? tlsConnect : netConnect);\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    ...opts.headers,\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket'\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols.length) {\n    for (const protocol of protocols) {\n      if (\n        typeof protocol !== 'string' ||\n        !subprotocolRegex.test(protocol) ||\n        protocolSet.has(protocol)\n      ) {\n        throw new SyntaxError(\n          'An invalid or duplicated subprotocol was specified'\n        );\n      }\n\n      protocolSet.add(protocol);\n    }\n\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isIpcUrl) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  let req;\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalIpc = isIpcUrl;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isIpcUrl\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else if (websocket.listenerCount('redirect') === 0) {\n      const isSameHost = isIpcUrl\n        ? websocket._originalIpc\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalIpc\n          ? false\n          : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n\n    req = websocket._req = request(opts);\n\n    if (websocket._redirects) {\n      //\n      // Unlike what is done for the `'upgrade'` event, no early exit is\n      // triggered here if the user calls `websocket.close()` or\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\n      // is because the user can also call `request.destroy()` with an error\n      // before calling `websocket.close()` or `websocket.terminate()` and this\n      // would result in an error being emitted on the `request` object with no\n      // `'error'` event listeners attached.\n      //\n      websocket.emit('redirect', websocket.url, req);\n    }\n  } else {\n    req = websocket._req = request(opts);\n  }\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req[kAborted]) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (e) {\n        const err = new SyntaxError(`Invalid URL: ${location}`);\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the\n    // `'upgrade'` event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    const upgrade = res.headers.upgrade;\n\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    let protError;\n\n    if (serverProt !== undefined) {\n      if (!protocolSet.size) {\n        protError = 'Server sent a subprotocol but none was requested';\n      } else if (!protocolSet.has(serverProt)) {\n        protError = 'Server sent an invalid subprotocol';\n      }\n    } else if (protocolSet.size) {\n      protError = 'Server sent no subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (\n        extensionNames.length !== 1 ||\n        extensionNames[0] !== PerMessageDeflate.extensionName\n      ) {\n        const message = 'Server indicated an extension that was not requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      try {\n        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      websocket._extensions[PerMessageDeflate.extensionName] =\n        perMessageDeflate;\n    }\n\n    websocket.setSocket(socket, head, {\n      allowSynchronousEvents: opts.allowSynchronousEvents,\n      generateMask: opts.generateMask,\n      maxPayload: opts.maxPayload,\n      skipUTF8Validation: opts.skipUTF8Validation\n    });\n  });\n\n  if (opts.finishRequest) {\n    opts.finishRequest(req, websocket);\n  } else {\n    req.end();\n  }\n}\n\n/**\n * Emit the `'error'` and `'close'` events.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  //\n  // The following assignment is practically useless and is done only for\n  // consistency.\n  //\n  websocket._errorEmitted = true;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream[kAborted] = true;\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    process.nextTick(emitErrorAndClose, websocket, err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = isBlob(data) ? data.size : toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    process.nextTick(cb, err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {Buffer} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  const websocket = this[kWebSocket];\n\n  if (!websocket.isPaused) websocket._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  if (!websocket._errorEmitted) {\n    websocket._errorEmitted = true;\n    websocket.emit('error', err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\n * @param {Boolean} isBinary Specifies whether the message is binary or not\n * @private\n */\nfunction receiverOnMessage(data, isBinary) {\n  this[kWebSocket].emit('message', data, isBinary);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._autoPong) websocket.pong(data, !this._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The `Sender` error event handler.\n *\n * @param {Error} The error\n * @private\n */\nfunction senderOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket.readyState === WebSocket.CLOSED) return;\n  if (websocket.readyState === WebSocket.OPEN) {\n    websocket._readyState = WebSocket.CLOSING;\n    setCloseTimer(websocket);\n  }\n\n  //\n  // `socket.end()` is used instead of `socket.destroy()` to allow the other\n  // peer to finish sending queued data. There is no need to set a timer here\n  // because `CLOSING` means that it is already set or not needed.\n  //\n  this._socket.end();\n\n  if (!websocket._errorEmitted) {\n    websocket._errorEmitted = true;\n    websocket.emit('error', err);\n  }\n}\n\n/**\n * Set a timer to destroy the underlying raw socket of a WebSocket.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @private\n */\nfunction setCloseTimer(websocket) {\n  websocket._closeTimer = setTimeout(\n    websocket._socket.destroy.bind(websocket._socket),\n    closeTimeout\n  );\n}\n\n/**\n * The listener of the socket `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the socket `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the socket `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the socket `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^WebSocket$\" }] */\n'use strict';\n\nconst WebSocket = require('./websocket');\nconst { Duplex } = require('stream');\n\n/**\n * Emits the `'close'` event on a stream.\n *\n * @param {Duplex} stream The stream.\n * @private\n */\nfunction emitClose(stream) {\n  stream.emit('close');\n}\n\n/**\n * The listener of the `'end'` event.\n *\n * @private\n */\nfunction duplexOnEnd() {\n  if (!this.destroyed && this._writableState.finished) {\n    this.destroy();\n  }\n}\n\n/**\n * The listener of the `'error'` event.\n *\n * @param {Error} err The error\n * @private\n */\nfunction duplexOnError(err) {\n  this.removeListener('error', duplexOnError);\n  this.destroy();\n  if (this.listenerCount('error') === 0) {\n    // Do not suppress the throwing behavior.\n    this.emit('error', err);\n  }\n}\n\n/**\n * Wraps a `WebSocket` in a duplex stream.\n *\n * @param {WebSocket} ws The `WebSocket` to wrap\n * @param {Object} [options] The options for the `Duplex` constructor\n * @return {Duplex} The duplex stream\n * @public\n */\nfunction createWebSocketStream(ws, options) {\n  let terminateOnDestroy = true;\n\n  const duplex = new Duplex({\n    ...options,\n    autoDestroy: false,\n    emitClose: false,\n    objectMode: false,\n    writableObjectMode: false\n  });\n\n  ws.on('message', function message(msg, isBinary) {\n    const data =\n      !isBinary && duplex._readableState.objectMode ? msg.toString() : msg;\n\n    if (!duplex.push(data)) ws.pause();\n  });\n\n  ws.once('error', function error(err) {\n    if (duplex.destroyed) return;\n\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n    //\n    // - If the `'error'` event is emitted before the `'open'` event, then\n    //   `ws.terminate()` is a noop as no socket is assigned.\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n    //   event of the `Receiver` object. The listener already closes the\n    //   connection by calling `ws.close()`. This allows a close frame to be\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\n    //   then the close frame might not be sent.\n    terminateOnDestroy = false;\n    duplex.destroy(err);\n  });\n\n  ws.once('close', function close() {\n    if (duplex.destroyed) return;\n\n    duplex.push(null);\n  });\n\n  duplex._destroy = function (err, callback) {\n    if (ws.readyState === ws.CLOSED) {\n      callback(err);\n      process.nextTick(emitClose, duplex);\n      return;\n    }\n\n    let called = false;\n\n    ws.once('error', function error(err) {\n      called = true;\n      callback(err);\n    });\n\n    ws.once('close', function close() {\n      if (!called) callback(err);\n      process.nextTick(emitClose, duplex);\n    });\n\n    if (terminateOnDestroy) ws.terminate();\n  };\n\n  duplex._final = function (callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._final(callback);\n      });\n      return;\n    }\n\n    // If the value of the `_socket` property is `null` it means that `ws` is a\n    // client websocket and the handshake failed. In fact, when this happens, a\n    // socket is never assigned to the websocket. Wait for the `'error'` event\n    // that will be emitted by the websocket.\n    if (ws._socket === null) return;\n\n    if (ws._socket._writableState.finished) {\n      callback();\n      if (duplex._readableState.endEmitted) duplex.destroy();\n    } else {\n      ws._socket.once('finish', function finish() {\n        // `duplex` is not destroyed here because the `'end'` event will be\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n        callback();\n      });\n      ws.close();\n    }\n  };\n\n  duplex._read = function () {\n    if (ws.isPaused) ws.resume();\n  };\n\n  duplex._write = function (chunk, encoding, callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._write(chunk, encoding, callback);\n      });\n      return;\n    }\n\n    ws.send(chunk, callback);\n  };\n\n  duplex.on('end', duplexOnEnd);\n  duplex.on('error', duplexOnError);\n  return duplex;\n}\n\nmodule.exports = createWebSocketStream;\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\n *\n * @param {String} header The field value of the header\n * @return {Set} The subprotocol names\n * @public\n */\nfunction parse(header) {\n  const protocols = new Set();\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (i; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (end === -1 && tokenChars[code] === 1) {\n      if (start === -1) start = i;\n    } else if (\n      i !== 0 &&\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n    ) {\n      if (end === -1 && start !== -1) end = i;\n    } else if (code === 0x2c /* ',' */) {\n      if (start === -1) {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n\n      if (end === -1) end = i;\n\n      const protocol = header.slice(start, end);\n\n      if (protocols.has(protocol)) {\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n      }\n\n      protocols.add(protocol);\n      start = end = -1;\n    } else {\n      throw new SyntaxError(`Unexpected character at index ${i}`);\n    }\n  }\n\n  if (start === -1 || end !== -1) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  const protocol = header.slice(start, i);\n\n  if (protocols.has(protocol)) {\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n  }\n\n  protocols.add(protocol);\n  return protocols;\n}\n\nmodule.exports = { parse };\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Duplex$\", \"caughtErrors\": \"none\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst http = require('http');\nconst { Duplex } = require('stream');\nconst { createHash } = require('crypto');\n\nconst extension = require('./extension');\nconst PerMessageDeflate = require('./permessage-deflate');\nconst subprotocol = require('./subprotocol');\nconst WebSocket = require('./websocket');\nconst { GUID, kWebSocket } = require('./constants');\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Boolean} [options.allowSynchronousEvents=true] Specifies whether\n   *     any of the `'message'`, `'ping'`, and `'pong'` events can be emitted\n   *     multiple times in the same tick\n   * @param {Boolean} [options.autoPong=true] Specifies whether or not to\n   *     automatically send a pong in response to a ping\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\n   *     class to use. It must be the `WebSocket` class or class that extends it\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      allowSynchronousEvents: true,\n      autoPong: true,\n      maxPayload: 100 * 1024 * 1024,\n      skipUTF8Validation: false,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      WebSocket,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) {\n      this.clients = new Set();\n      this._shouldEmitClose = false;\n    }\n\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Stop the server from accepting new connections and emit the `'close'` event\n   * when all existing connections are closed.\n   *\n   * @param {Function} [cb] A one-time listener for the `'close'` event\n   * @public\n   */\n  close(cb) {\n    if (this._state === CLOSED) {\n      if (cb) {\n        this.once('close', () => {\n          cb(new Error('The server is not running'));\n        });\n      }\n\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    if (this.options.noServer || this.options.server) {\n      if (this._server) {\n        this._removeListeners();\n        this._removeListeners = this._server = null;\n      }\n\n      if (this.clients) {\n        if (!this.clients.size) {\n          process.nextTick(emitClose, this);\n        } else {\n          this._shouldEmitClose = true;\n        }\n      } else {\n        process.nextTick(emitClose, this);\n      }\n    } else {\n      const server = this._server;\n\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // The HTTP/S server was created internally. Close it, and rely on its\n      // `'close'` event.\n      //\n      server.close(() => {\n        emitClose(this);\n      });\n    }\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key = req.headers['sec-websocket-key'];\n    const upgrade = req.headers.upgrade;\n    const version = +req.headers['sec-websocket-version'];\n\n    if (req.method !== 'GET') {\n      const message = 'Invalid HTTP method';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\n      return;\n    }\n\n    if (upgrade === undefined || upgrade.toLowerCase() !== 'websocket') {\n      const message = 'Invalid Upgrade header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (key === undefined || !keyRegex.test(key)) {\n      const message = 'Missing or invalid Sec-WebSocket-Key header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (version !== 13 && version !== 8) {\n      const message = 'Missing or invalid Sec-WebSocket-Version header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message, {\n        'Sec-WebSocket-Version': '13, 8'\n      });\n      return;\n    }\n\n    if (!this.shouldHandle(req)) {\n      abortHandshake(socket, 400);\n      return;\n    }\n\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\n    let protocols = new Set();\n\n    if (secWebSocketProtocol !== undefined) {\n      try {\n        protocols = subprotocol.parse(secWebSocketProtocol);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Protocol header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\n    const extensions = {};\n\n    if (\n      this.options.perMessageDeflate &&\n      secWebSocketExtensions !== undefined\n    ) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = extension.parse(secWebSocketExtensions);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        const message =\n          'Invalid or unacceptable Sec-WebSocket-Extensions header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(\n            extensions,\n            key,\n            protocols,\n            req,\n            socket,\n            head,\n            cb\n          );\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {Object} extensions The accepted extensions\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Set} protocols The subprotocols\n   * @param {http.IncomingMessage} req The request object\n   * @param {Duplex} socket The network socket between the server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new this.options.WebSocket(null, undefined, this.options);\n\n    if (protocols.size) {\n      //\n      // Optionally call external protocol selection handler.\n      //\n      const protocol = this.options.handleProtocols\n        ? this.options.handleProtocols(protocols, req)\n        : protocols.values().next().value;\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = extension.format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, {\n      allowSynchronousEvents: this.options.allowSynchronousEvents,\n      maxPayload: this.options.maxPayload,\n      skipUTF8Validation: this.options.skipUTF8Validation\n    });\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => {\n        this.clients.delete(ws);\n\n        if (this._shouldEmitClose && !this.clients.size) {\n          process.nextTick(emitClose, this);\n        }\n      });\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {Duplex} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  //\n  // The socket is writable unless the user destroyed or ended it before calling\n  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\n  // error. Handling this does not make much sense as the worst that can happen\n  // is that some of the data written by the user might be discarded due to the\n  // call to `socket.end()` below, which triggers an `'error'` event that in\n  // turn causes the socket to be destroyed.\n  //\n  message = message || http.STATUS_CODES[code];\n  headers = {\n    Connection: 'close',\n    'Content-Type': 'text/html',\n    'Content-Length': Buffer.byteLength(message),\n    ...headers\n  };\n\n  socket.once('finish', socket.destroy);\n\n  socket.end(\n    `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n      Object.keys(headers)\n        .map((h) => `${h}: ${headers[h]}`)\n        .join('\\r\\n') +\n      '\\r\\n\\r\\n' +\n      message\n  );\n}\n\n/**\n * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\n * one listener for it, otherwise call `abortHandshake()`.\n *\n * @param {WebSocketServer} server The WebSocket server\n * @param {http.IncomingMessage} req The request object\n * @param {Duplex} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} message The HTTP response body\n * @param {Object} [headers] The HTTP response headers\n * @private\n */\nfunction abortHandshakeOrEmitwsClientError(\n  server,\n  req,\n  socket,\n  code,\n  message,\n  headers\n) {\n  if (server.listenerCount('wsClientError')) {\n    const err = new Error(message);\n    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\n\n    server.emit('wsClientError', err, socket, req);\n  } else {\n    abortHandshake(socket, code, message, headers);\n  }\n}\n","import createWebSocketStream from './lib/stream.js';\nimport Receiver from './lib/receiver.js';\nimport Sender from './lib/sender.js';\nimport WebSocket from './lib/websocket.js';\nimport WebSocketServer from './lib/websocket-server.js';\n\nexport { createWebSocketStream, Receiver, Sender, WebSocket, WebSocketServer };\nexport default WebSocket;\n","/**\n * A constant that indicates which environment and version the SDK is running in.\n */\nexport const RUNTIME = evaluateRuntime();\nfunction evaluateRuntime() {\n    var _a, _b, _c, _d, _e;\n    /**\n     * A constant that indicates whether the environment the code is running is a Web Browser.\n     */\n    const isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\";\n    if (isBrowser) {\n        return {\n            type: \"browser\",\n            version: window.navigator.userAgent,\n        };\n    }\n    /**\n     * A constant that indicates whether the environment the code is running is Cloudflare.\n     * https://developers.cloudflare.com/workers/runtime-apis/web-standards/#navigatoruseragent\n     */\n    const isCloudflare = typeof globalThis !== \"undefined\" && ((_a = globalThis === null || globalThis === void 0 ? void 0 : globalThis.navigator) === null || _a === void 0 ? void 0 : _a.userAgent) === \"Cloudflare-Workers\";\n    if (isCloudflare) {\n        return {\n            type: \"workerd\",\n        };\n    }\n    /**\n     * A constant that indicates whether the environment the code is running is Edge Runtime.\n     * https://vercel.com/docs/functions/runtimes/edge-runtime#check-if-you're-running-on-the-edge-runtime\n     */\n    const isEdgeRuntime = typeof EdgeRuntime === \"string\";\n    if (isEdgeRuntime) {\n        return {\n            type: \"edge-runtime\",\n        };\n    }\n    /**\n     * A constant that indicates whether the environment the code is running is a Web Worker.\n     */\n    const isWebWorker = typeof self === \"object\" &&\n        typeof (self === null || self === void 0 ? void 0 : self.importScripts) === \"function\" &&\n        (((_b = self.constructor) === null || _b === void 0 ? void 0 : _b.name) === \"DedicatedWorkerGlobalScope\" ||\n            ((_c = self.constructor) === null || _c === void 0 ? void 0 : _c.name) === \"ServiceWorkerGlobalScope\" ||\n            ((_d = self.constructor) === null || _d === void 0 ? void 0 : _d.name) === \"SharedWorkerGlobalScope\");\n    if (isWebWorker) {\n        return {\n            type: \"web-worker\",\n        };\n    }\n    /**\n     * A constant that indicates whether the environment the code is running is Deno.\n     * FYI Deno spoofs process.versions.node, see https://deno.land/std@0.177.0/node/process.ts?s=versions\n     */\n    const isDeno = typeof Deno !== \"undefined\" && typeof Deno.version !== \"undefined\" && typeof Deno.version.deno !== \"undefined\";\n    if (isDeno) {\n        return {\n            type: \"deno\",\n            version: Deno.version.deno,\n        };\n    }\n    /**\n     * A constant that indicates whether the environment the code is running is Bun.sh.\n     */\n    const isBun = typeof Bun !== \"undefined\" && typeof Bun.version !== \"undefined\";\n    if (isBun) {\n        return {\n            type: \"bun\",\n            version: Bun.version,\n        };\n    }\n    /**\n     * A constant that indicates whether the environment the code is running is Node.JS.\n     */\n    const isNode = typeof process !== \"undefined\" &&\n        \"version\" in process &&\n        !!process.version &&\n        \"versions\" in process &&\n        !!((_e = process.versions) === null || _e === void 0 ? void 0 : _e.node);\n    if (isNode) {\n        return {\n            type: \"node\",\n            version: process.versions.node,\n            parsedVersion: Number(process.versions.node.split(\".\")[0]),\n        };\n    }\n    /**\n     * A constant that indicates whether the environment the code is running is in React-Native.\n     * https://github.com/facebook/react-native/blob/main/packages/react-native/Libraries/Core/setUpNavigator.js\n     */\n    const isReactNative = typeof navigator !== \"undefined\" && (navigator === null || navigator === void 0 ? void 0 : navigator.product) === \"ReactNative\";\n    if (isReactNative) {\n        return {\n            type: \"react-native\",\n        };\n    }\n    return {\n        type: \"unknown\",\n    };\n}\n","const defaultQsOptions = {\n    arrayFormat: \"indices\",\n    encode: true,\n};\nfunction encodeValue(value, shouldEncode) {\n    if (value === undefined) {\n        return \"\";\n    }\n    if (value === null) {\n        return \"\";\n    }\n    const stringValue = String(value);\n    return shouldEncode ? encodeURIComponent(stringValue) : stringValue;\n}\nfunction stringifyObject(obj, prefix = \"\", options) {\n    const parts = [];\n    for (const [key, value] of Object.entries(obj)) {\n        const fullKey = prefix ? `${prefix}[${key}]` : key;\n        if (value === undefined) {\n            continue;\n        }\n        if (Array.isArray(value)) {\n            if (value.length === 0) {\n                continue;\n            }\n            for (let i = 0; i < value.length; i++) {\n                const item = value[i];\n                if (item === undefined) {\n                    continue;\n                }\n                if (typeof item === \"object\" && !Array.isArray(item) && item !== null) {\n                    const arrayKey = options.arrayFormat === \"indices\" ? `${fullKey}[${i}]` : fullKey;\n                    parts.push(...stringifyObject(item, arrayKey, options));\n                }\n                else {\n                    const arrayKey = options.arrayFormat === \"indices\" ? `${fullKey}[${i}]` : fullKey;\n                    const encodedKey = options.encode ? encodeURIComponent(arrayKey) : arrayKey;\n                    parts.push(`${encodedKey}=${encodeValue(item, options.encode)}`);\n                }\n            }\n        }\n        else if (typeof value === \"object\" && value !== null) {\n            if (Object.keys(value).length === 0) {\n                continue;\n            }\n            parts.push(...stringifyObject(value, fullKey, options));\n        }\n        else {\n            const encodedKey = options.encode ? encodeURIComponent(fullKey) : fullKey;\n            parts.push(`${encodedKey}=${encodeValue(value, options.encode)}`);\n        }\n    }\n    return parts;\n}\nexport function toQueryString(obj, options) {\n    if (obj == null || typeof obj !== \"object\") {\n        return \"\";\n    }\n    const parts = stringifyObject(obj, \"\", Object.assign(Object.assign({}, defaultQsOptions), options));\n    return parts.join(\"&\");\n}\n","export class Event {\n    constructor(type, target) {\n        this.target = target;\n        this.type = type;\n    }\n}\nexport class ErrorEvent extends Event {\n    constructor(error, target) {\n        super(\"error\", target);\n        this.message = error.message;\n        this.error = error;\n    }\n}\nexport class CloseEvent extends Event {\n    constructor(code = 1000, reason = \"\", target) {\n        super(\"close\", target);\n        this.wasClean = true;\n        this.code = code;\n        this.reason = reason;\n    }\n}\n","export const SDK_VERSION = \"0.15.9\";\n","import { WebSocket as NodeWebSocket } from \"ws\";\nimport { RUNTIME } from \"../runtime/index.mjs\";\nimport { toQueryString } from \"../url/qs.mjs\";\nimport * as Events from \"./events.mjs\";\nimport { SDK_VERSION } from \"../../version.mjs\";\nconst getGlobalWebSocket = () => {\n    if (typeof WebSocket !== \"undefined\") {\n        // @ts-ignore\n        return WebSocket;\n    }\n    else if (RUNTIME.type === \"node\") {\n        return NodeWebSocket;\n    }\n    return undefined;\n};\n/**\n * Returns true if given argument looks like a WebSocket class\n */\nconst isWebSocket = (w) => typeof w !== \"undefined\" && !!w && w.CLOSING === 2;\nconst DEFAULT_OPTIONS = {\n    maxReconnectionDelay: 10000,\n    minReconnectionDelay: 1000 + Math.random() * 4000,\n    minUptime: 5000,\n    reconnectionDelayGrowFactor: 1.3,\n    connectionTimeout: 4000,\n    maxRetries: Infinity,\n    maxEnqueuedMessages: Infinity,\n    startClosed: false,\n    debug: false,\n};\nfunction addApiKeyFromHeader({ headers, queryParameters, }) {\n    var _a;\n    const apiKeyValue = (_a = Object.entries(headers !== null && headers !== void 0 ? headers : {}).find(([k]) => k.toLowerCase() === \"x-hume-api-key\")) === null || _a === void 0 ? void 0 : _a[1];\n    if (apiKeyValue && !(queryParameters === null || queryParameters === void 0 ? void 0 : queryParameters[\"api_key\"])) {\n        return Object.assign(Object.assign({}, queryParameters), { api_key: apiKeyValue });\n    }\n    return queryParameters;\n}\nfunction addAccessTokenFromHeader({ headers, queryParameters, }) {\n    const authHeaderValue = (headers === null || headers === void 0 ? void 0 : headers[\"Authorization\"]) || (headers === null || headers === void 0 ? void 0 : headers[\"authorization\"]);\n    if (!authHeaderValue) {\n        return queryParameters;\n    }\n    if (!authHeaderValue.startsWith(\"Bearer \")) {\n        return queryParameters;\n    }\n    if (queryParameters === null || queryParameters === void 0 ? void 0 : queryParameters[\"access_token\"]) {\n        return queryParameters;\n    }\n    const token = authHeaderValue.substring(\"Bearer \".length);\n    return Object.assign(Object.assign({}, queryParameters), { access_token: token });\n}\nfunction addSdkTracking(queryParameters) {\n    return Object.assign(Object.assign({}, queryParameters), { fernSdkLanguage: \"JavaScript\", fernSdkVersion: SDK_VERSION });\n}\nexport class ReconnectingWebSocket {\n    constructor({ url, protocols, options, headers, queryParameters }) {\n        this._listeners = {\n            error: [],\n            message: [],\n            open: [],\n            close: [],\n        };\n        this._retryCount = -1;\n        this._shouldReconnect = true;\n        this._connectLock = false;\n        this._binaryType = \"blob\";\n        this._closeCalled = false;\n        this._messageQueue = [];\n        /**\n         * An event listener to be called when the WebSocket connection's readyState changes to CLOSED\n         */\n        this.onclose = null;\n        /**\n         * An event listener to be called when an error occurs\n         */\n        this.onerror = null;\n        /**\n         * An event listener to be called when a message is received from the server\n         */\n        this.onmessage = null;\n        /**\n         * An event listener to be called when the WebSocket connection's readyState changes to OPEN;\n         * this indicates that the connection is ready to send and receive data\n         */\n        this.onopen = null;\n        this._handleOpen = (event) => {\n            this._debug(\"open event\");\n            const { minUptime = DEFAULT_OPTIONS.minUptime } = this._options;\n            clearTimeout(this._connectTimeout);\n            this._uptimeTimeout = setTimeout(() => this._acceptOpen(), minUptime);\n            this._ws.binaryType = this._binaryType;\n            // send enqueued messages (messages sent before websocket open event)\n            this._messageQueue.forEach((message) => { var _a; return (_a = this._ws) === null || _a === void 0 ? void 0 : _a.send(message); });\n            this._messageQueue = [];\n            if (this.onopen) {\n                this.onopen(event);\n            }\n            this._listeners.open.forEach((listener) => this._callEventListener(event, listener));\n        };\n        this._handleMessage = (event) => {\n            this._debug(\"message event\");\n            if (this.onmessage) {\n                this.onmessage(event);\n            }\n            this._listeners.message.forEach((listener) => this._callEventListener(event, listener));\n        };\n        this._handleError = (event) => {\n            this._debug(\"error event\", event.message);\n            this._disconnect(undefined, event.message === \"TIMEOUT\" ? \"timeout\" : undefined);\n            if (this.onerror) {\n                this.onerror(event);\n            }\n            this._debug(\"exec error listeners\");\n            this._listeners.error.forEach((listener) => this._callEventListener(event, listener));\n            this._connect();\n        };\n        this._handleClose = (event) => {\n            this._debug(\"close event\");\n            this._clearTimeouts();\n            if (event.code === 1000) {\n                this._shouldReconnect = false;\n            }\n            if (this._shouldReconnect) {\n                this._connect();\n            }\n            if (this.onclose) {\n                this.onclose(event);\n            }\n            this._listeners.close.forEach((listener) => this._callEventListener(event, listener));\n        };\n        this._url = url;\n        this._protocols = protocols;\n        this._options = options !== null && options !== void 0 ? options : DEFAULT_OPTIONS;\n        this._headers = headers;\n        this._queryParameters = addSdkTracking(addAccessTokenFromHeader({\n            headers,\n            queryParameters: addApiKeyFromHeader({\n                headers,\n                queryParameters,\n            }),\n        }));\n        if (this._options.startClosed) {\n            this._shouldReconnect = false;\n        }\n        this._connect();\n    }\n    static get CONNECTING() {\n        return 0;\n    }\n    static get OPEN() {\n        return 1;\n    }\n    static get CLOSING() {\n        return 2;\n    }\n    static get CLOSED() {\n        return 3;\n    }\n    get CONNECTING() {\n        return ReconnectingWebSocket.CONNECTING;\n    }\n    get OPEN() {\n        return ReconnectingWebSocket.OPEN;\n    }\n    get CLOSING() {\n        return ReconnectingWebSocket.CLOSING;\n    }\n    get CLOSED() {\n        return ReconnectingWebSocket.CLOSED;\n    }\n    get binaryType() {\n        return this._ws ? this._ws.binaryType : this._binaryType;\n    }\n    set binaryType(value) {\n        this._binaryType = value;\n        if (this._ws) {\n            this._ws.binaryType = value;\n        }\n    }\n    /**\n     * Returns the number or connection retries\n     */\n    get retryCount() {\n        return Math.max(this._retryCount, 0);\n    }\n    /**\n     * The number of bytes of data that have been queued using calls to send() but not yet\n     * transmitted to the network. This value resets to zero once all queued data has been sent.\n     * This value does not reset to zero when the connection is closed; if you keep calling send(),\n     * this will continue to climb. Read only\n     */\n    get bufferedAmount() {\n        const bytes = this._messageQueue.reduce((acc, message) => {\n            if (typeof message === \"string\") {\n                acc += message.length; // not byte size\n            }\n            else if (message instanceof Blob) {\n                acc += message.size;\n            }\n            else {\n                acc += message.byteLength;\n            }\n            return acc;\n        }, 0);\n        return bytes + (this._ws ? this._ws.bufferedAmount : 0);\n    }\n    /**\n     * The extensions selected by the server. This is currently only the empty string or a list of\n     * extensions as negotiated by the connection\n     */\n    get extensions() {\n        return this._ws ? this._ws.extensions : \"\";\n    }\n    /**\n     * A string indicating the name of the sub-protocol the server selected;\n     * this will be one of the strings specified in the protocols parameter when creating the\n     * WebSocket object\n     */\n    get protocol() {\n        return this._ws ? this._ws.protocol : \"\";\n    }\n    /**\n     * The current state of the connection; this is one of the Ready state constants\n     */\n    get readyState() {\n        if (this._ws) {\n            return this._ws.readyState;\n        }\n        return this._options.startClosed ? ReconnectingWebSocket.CLOSED : ReconnectingWebSocket.CONNECTING;\n    }\n    /**\n     * The URL as resolved by the constructor\n     */\n    get url() {\n        return this._ws ? this._ws.url : \"\";\n    }\n    /**\n     * Closes the WebSocket connection or connection attempt, if any. If the connection is already\n     * CLOSED, this method does nothing\n     */\n    close(code = 1000, reason) {\n        this._closeCalled = true;\n        this._shouldReconnect = false;\n        this._clearTimeouts();\n        if (!this._ws) {\n            this._debug(\"close enqueued: no ws instance\");\n            return;\n        }\n        if (this._ws.readyState === this.CLOSED) {\n            this._debug(\"close: already closed\");\n            return;\n        }\n        this._ws.close(code, reason);\n    }\n    /**\n     * Closes the WebSocket connection or connection attempt and connects again.\n     * Resets retry counter;\n     */\n    reconnect(code, reason) {\n        this._shouldReconnect = true;\n        this._closeCalled = false;\n        this._retryCount = -1;\n        if (!this._ws || this._ws.readyState === this.CLOSED) {\n            this._connect();\n        }\n        else {\n            this._disconnect(code, reason);\n            this._connect();\n        }\n    }\n    /**\n     * Enqueue specified data to be transmitted to the server over the WebSocket connection\n     */\n    send(data) {\n        if (this._ws && this._ws.readyState === this.OPEN) {\n            this._debug(\"send\", data);\n            this._ws.send(data);\n        }\n        else {\n            const { maxEnqueuedMessages = DEFAULT_OPTIONS.maxEnqueuedMessages } = this._options;\n            if (this._messageQueue.length < maxEnqueuedMessages) {\n                this._debug(\"enqueue\", data);\n                this._messageQueue.push(data);\n            }\n        }\n    }\n    /**\n     * Register an event handler of a specific event type\n     */\n    addEventListener(type, listener) {\n        if (this._listeners[type]) {\n            // @ts-ignore\n            this._listeners[type].push(listener);\n        }\n    }\n    dispatchEvent(event) {\n        const listeners = this._listeners[event.type];\n        if (listeners) {\n            for (const listener of listeners) {\n                this._callEventListener(event, listener);\n            }\n        }\n        return true;\n    }\n    /**\n     * Removes an event listener\n     */\n    removeEventListener(type, listener) {\n        if (this._listeners[type]) {\n            // @ts-ignore\n            this._listeners[type] = this._listeners[type].filter(\n            // @ts-ignore\n            (l) => l !== listener);\n        }\n    }\n    _debug(...args) {\n        if (this._options.debug) {\n            // not using spread because compiled version uses Symbols\n            // tslint:disable-next-line\n            // biome-ignore lint/suspicious/noConsole: allow console\n            console.log.apply(console, [\"RWS>\", ...args]);\n        }\n    }\n    _getNextDelay() {\n        const { reconnectionDelayGrowFactor = DEFAULT_OPTIONS.reconnectionDelayGrowFactor, minReconnectionDelay = DEFAULT_OPTIONS.minReconnectionDelay, maxReconnectionDelay = DEFAULT_OPTIONS.maxReconnectionDelay, } = this._options;\n        let delay = 0;\n        if (this._retryCount > 0) {\n            delay = minReconnectionDelay * Math.pow(reconnectionDelayGrowFactor, this._retryCount - 1);\n            if (delay > maxReconnectionDelay) {\n                delay = maxReconnectionDelay;\n            }\n        }\n        this._debug(\"next delay\", delay);\n        return delay;\n    }\n    _wait() {\n        return new Promise((resolve) => {\n            setTimeout(resolve, this._getNextDelay());\n        });\n    }\n    _getNextUrl(urlProvider) {\n        if (typeof urlProvider === \"string\") {\n            return Promise.resolve(urlProvider);\n        }\n        if (typeof urlProvider === \"function\") {\n            const url = urlProvider();\n            if (typeof url === \"string\") {\n                return Promise.resolve(url);\n            }\n            // @ts-ignore redundant check\n            if (url.then) {\n                return url;\n            }\n        }\n        throw Error(\"Invalid URL\");\n    }\n    _connect() {\n        if (this._connectLock || !this._shouldReconnect) {\n            return;\n        }\n        this._connectLock = true;\n        const { maxRetries = DEFAULT_OPTIONS.maxRetries, connectionTimeout = DEFAULT_OPTIONS.connectionTimeout, WebSocket = getGlobalWebSocket(), } = this._options;\n        if (this._retryCount >= maxRetries) {\n            this._debug(\"max retries reached\", this._retryCount, \">=\", maxRetries);\n            return;\n        }\n        this._retryCount++;\n        this._debug(\"connect\", this._retryCount);\n        this._removeListeners();\n        if (!isWebSocket(WebSocket)) {\n            throw Error(\"No valid WebSocket class provided\");\n        }\n        this._wait()\n            .then(() => this._getNextUrl(this._url))\n            .then((url) => {\n            if (this._closeCalled) {\n                return;\n            }\n            const options = {};\n            if (this._headers) {\n                options.headers = this._headers;\n            }\n            if (this._queryParameters && Object.keys(this._queryParameters).length > 0) {\n                const queryString = toQueryString(this._queryParameters, { arrayFormat: \"repeat\" });\n                if (queryString) {\n                    url = `${url}?${queryString}`;\n                }\n            }\n            this._ws = new WebSocket(url, this._protocols, options);\n            this._ws.binaryType = this._binaryType;\n            this._connectLock = false;\n            this._addListeners();\n            this._connectTimeout = setTimeout(() => this._handleTimeout(), connectionTimeout);\n        });\n    }\n    _handleTimeout() {\n        this._debug(\"timeout event\");\n        this._handleError(new Events.ErrorEvent(Error(\"TIMEOUT\"), this));\n    }\n    _disconnect(code = 1000, reason) {\n        this._clearTimeouts();\n        if (!this._ws) {\n            return;\n        }\n        this._removeListeners();\n        try {\n            this._ws.close(code, reason);\n            this._handleClose(new Events.CloseEvent(code, reason, this));\n        }\n        catch (error) {\n            // ignore\n        }\n    }\n    _acceptOpen() {\n        this._debug(\"accept open\");\n        this._retryCount = 0;\n    }\n    _callEventListener(event, listener) {\n        if (\"handleEvent\" in listener) {\n            // @ts-ignore\n            listener.handleEvent(event);\n        }\n        else {\n            // @ts-ignore\n            listener(event);\n        }\n    }\n    _removeListeners() {\n        if (!this._ws) {\n            return;\n        }\n        this._debug(\"removeListeners\");\n        this._ws.removeEventListener(\"open\", this._handleOpen);\n        this._ws.removeEventListener(\"close\", this._handleClose);\n        this._ws.removeEventListener(\"message\", this._handleMessage);\n        // @ts-ignore\n        this._ws.removeEventListener(\"error\", this._handleError);\n    }\n    _addListeners() {\n        if (!this._ws) {\n            return;\n        }\n        this._debug(\"addListeners\");\n        this._ws.addEventListener(\"open\", this._handleOpen);\n        this._ws.addEventListener(\"close\", this._handleClose);\n        this._ws.addEventListener(\"message\", this._handleMessage);\n        // @ts-ignore\n        this._ws.addEventListener(\"error\", this._handleError);\n    }\n    _clearTimeouts() {\n        clearTimeout(this._connectTimeout);\n        clearTimeout(this._uptimeTimeout);\n    }\n}\n","export const SchemaType = {\n    BIGINT: \"bigint\",\n    DATE: \"date\",\n    ENUM: \"enum\",\n    LIST: \"list\",\n    STRING_LITERAL: \"stringLiteral\",\n    BOOLEAN_LITERAL: \"booleanLiteral\",\n    OBJECT: \"object\",\n    ANY: \"any\",\n    BOOLEAN: \"boolean\",\n    NUMBER: \"number\",\n    STRING: \"string\",\n    UNKNOWN: \"unknown\",\n    RECORD: \"record\",\n    SET: \"set\",\n    UNION: \"union\",\n    UNDISCRIMINATED_UNION: \"undiscriminatedUnion\",\n    NULLABLE: \"nullable\",\n    OPTIONAL: \"optional\",\n    OPTIONAL_NULLABLE: \"optionalNullable\",\n};\n","export function getErrorMessageForIncorrectType(value, expectedType) {\n    return `Expected ${expectedType}. Received ${getTypeAsString(value)}.`;\n}\nfunction getTypeAsString(value) {\n    if (Array.isArray(value)) {\n        return \"list\";\n    }\n    if (value === null) {\n        return \"null\";\n    }\n    if (value instanceof BigInt) {\n        return \"BigInt\";\n    }\n    switch (typeof value) {\n        case \"string\":\n            return `\"${value}\"`;\n        case \"bigint\":\n        case \"number\":\n        case \"boolean\":\n        case \"undefined\":\n            return `${value}`;\n    }\n    return typeof value;\n}\n","export function maybeSkipValidation(schema) {\n    return Object.assign(Object.assign({}, schema), { json: transformAndMaybeSkipValidation(schema.json), parse: transformAndMaybeSkipValidation(schema.parse) });\n}\nfunction transformAndMaybeSkipValidation(transform) {\n    return (value, opts) => {\n        const transformed = transform(value, opts);\n        const { skipValidation = false } = opts !== null && opts !== void 0 ? opts : {};\n        if (!transformed.ok && skipValidation) {\n            // biome-ignore lint/suspicious/noConsole: allow console\n            console.warn([\n                \"Failed to validate.\",\n                ...transformed.errors.map((error) => \"  - \" +\n                    (error.path.length > 0 ? `${error.path.join(\".\")}: ${error.message}` : error.message)),\n            ].join(\"\\n\"));\n            return {\n                ok: true,\n                value: value,\n            };\n        }\n        else {\n            return transformed;\n        }\n    };\n}\n","export function stringifyValidationError(error) {\n    if (error.path.length === 0) {\n        return error.message;\n    }\n    return `${error.path.join(\" -> \")}: ${error.message}`;\n}\n","import { stringifyValidationError } from \"./stringifyValidationErrors.mjs\";\nexport class JsonError extends Error {\n    constructor(errors) {\n        super(errors.map(stringifyValidationError).join(\"; \"));\n        this.errors = errors;\n        Object.setPrototypeOf(this, JsonError.prototype);\n    }\n}\n","import { stringifyValidationError } from \"./stringifyValidationErrors.mjs\";\nexport class ParseError extends Error {\n    constructor(errors) {\n        super(errors.map(stringifyValidationError).join(\"; \"));\n        this.errors = errors;\n        Object.setPrototypeOf(this, ParseError.prototype);\n    }\n}\n","import { SchemaType } from \"../../Schema.mjs\";\nimport { JsonError } from \"./JsonError.mjs\";\nimport { ParseError } from \"./ParseError.mjs\";\nexport function getSchemaUtils(schema) {\n    return {\n        nullable: () => nullable(schema),\n        optional: () => optional(schema),\n        optionalNullable: () => optionalNullable(schema),\n        transform: (transformer) => transform(schema, transformer),\n        parseOrThrow: (raw, opts) => {\n            const parsed = schema.parse(raw, opts);\n            if (parsed.ok) {\n                return parsed.value;\n            }\n            throw new ParseError(parsed.errors);\n        },\n        jsonOrThrow: (parsed, opts) => {\n            const raw = schema.json(parsed, opts);\n            if (raw.ok) {\n                return raw.value;\n            }\n            throw new JsonError(raw.errors);\n        },\n    };\n}\n/**\n * schema utils are defined in one file to resolve issues with circular imports\n */\nexport function nullable(schema) {\n    const baseSchema = {\n        parse: (raw, opts) => {\n            if (raw == null) {\n                return {\n                    ok: true,\n                    value: null,\n                };\n            }\n            return schema.parse(raw, opts);\n        },\n        json: (parsed, opts) => {\n            if (parsed == null) {\n                return {\n                    ok: true,\n                    value: null,\n                };\n            }\n            return schema.json(parsed, opts);\n        },\n        getType: () => SchemaType.NULLABLE,\n    };\n    return Object.assign(Object.assign({}, baseSchema), getSchemaUtils(baseSchema));\n}\nexport function optional(schema) {\n    const baseSchema = {\n        parse: (raw, opts) => {\n            if (raw == null) {\n                return {\n                    ok: true,\n                    value: undefined,\n                };\n            }\n            return schema.parse(raw, opts);\n        },\n        json: (parsed, opts) => {\n            if ((opts === null || opts === void 0 ? void 0 : opts.omitUndefined) && parsed === undefined) {\n                return {\n                    ok: true,\n                    value: undefined,\n                };\n            }\n            if (parsed == null) {\n                return {\n                    ok: true,\n                    value: null,\n                };\n            }\n            return schema.json(parsed, opts);\n        },\n        getType: () => SchemaType.OPTIONAL,\n    };\n    return Object.assign(Object.assign({}, baseSchema), getSchemaUtils(baseSchema));\n}\nexport function optionalNullable(schema) {\n    const baseSchema = {\n        parse: (raw, opts) => {\n            if (raw === undefined) {\n                return {\n                    ok: true,\n                    value: undefined,\n                };\n            }\n            if (raw === null) {\n                return {\n                    ok: true,\n                    value: null,\n                };\n            }\n            return schema.parse(raw, opts);\n        },\n        json: (parsed, opts) => {\n            if (parsed === undefined) {\n                return {\n                    ok: true,\n                    value: undefined,\n                };\n            }\n            if (parsed === null) {\n                return {\n                    ok: true,\n                    value: null,\n                };\n            }\n            return schema.json(parsed, opts);\n        },\n        getType: () => SchemaType.OPTIONAL_NULLABLE,\n    };\n    return Object.assign(Object.assign({}, baseSchema), getSchemaUtils(baseSchema));\n}\nexport function transform(schema, transformer) {\n    const baseSchema = {\n        parse: (raw, opts) => {\n            const parsed = schema.parse(raw, opts);\n            if (!parsed.ok) {\n                return parsed;\n            }\n            return {\n                ok: true,\n                value: transformer.transform(parsed.value),\n            };\n        },\n        json: (transformed, opts) => {\n            const parsed = transformer.untransform(transformed);\n            return schema.json(parsed, opts);\n        },\n        getType: () => schema.getType(),\n    };\n    return Object.assign(Object.assign({}, baseSchema), getSchemaUtils(baseSchema));\n}\n","import { SchemaType } from \"../../Schema.mjs\";\nimport { getErrorMessageForIncorrectType } from \"../../utils/getErrorMessageForIncorrectType.mjs\";\nimport { maybeSkipValidation } from \"../../utils/maybeSkipValidation.mjs\";\nimport { getSchemaUtils } from \"../schema-utils/index.mjs\";\nexport function bigint() {\n    const baseSchema = {\n        parse: (raw, { breadcrumbsPrefix = [] } = {}) => {\n            if (typeof raw === \"bigint\") {\n                return {\n                    ok: true,\n                    value: raw,\n                };\n            }\n            if (typeof raw === \"number\") {\n                return {\n                    ok: true,\n                    value: BigInt(raw),\n                };\n            }\n            return {\n                ok: false,\n                errors: [\n                    {\n                        path: breadcrumbsPrefix,\n                        message: getErrorMessageForIncorrectType(raw, \"bigint | number\"),\n                    },\n                ],\n            };\n        },\n        json: (bigint, { breadcrumbsPrefix = [] } = {}) => {\n            if (typeof bigint !== \"bigint\") {\n                return {\n                    ok: false,\n                    errors: [\n                        {\n                            path: breadcrumbsPrefix,\n                            message: getErrorMessageForIncorrectType(bigint, \"bigint\"),\n                        },\n                    ],\n                };\n            }\n            return {\n                ok: true,\n                value: bigint,\n            };\n        },\n        getType: () => SchemaType.BIGINT,\n    };\n    return Object.assign(Object.assign({}, maybeSkipValidation(baseSchema)), getSchemaUtils(baseSchema));\n}\n","import { SchemaType } from \"../../Schema.mjs\";\nimport { getErrorMessageForIncorrectType } from \"../../utils/getErrorMessageForIncorrectType.mjs\";\nimport { maybeSkipValidation } from \"../../utils/maybeSkipValidation.mjs\";\nimport { getSchemaUtils } from \"../schema-utils/index.mjs\";\n// https://stackoverflow.com/questions/12756159/regex-and-iso8601-formatted-datetime\nconst ISO_8601_REGEX = /^([+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24:?00)([.,]\\d+(?!:))?)?(\\17[0-5]\\d([.,]\\d+)?)?([zZ]|([+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/;\nexport function date() {\n    const baseSchema = {\n        parse: (raw, { breadcrumbsPrefix = [] } = {}) => {\n            if (typeof raw !== \"string\") {\n                return {\n                    ok: false,\n                    errors: [\n                        {\n                            path: breadcrumbsPrefix,\n                            message: getErrorMessageForIncorrectType(raw, \"string\"),\n                        },\n                    ],\n                };\n            }\n            if (!ISO_8601_REGEX.test(raw)) {\n                return {\n                    ok: false,\n                    errors: [\n                        {\n                            path: breadcrumbsPrefix,\n                            message: getErrorMessageForIncorrectType(raw, \"ISO 8601 date string\"),\n                        },\n                    ],\n                };\n            }\n            return {\n                ok: true,\n                value: new Date(raw),\n            };\n        },\n        json: (date, { breadcrumbsPrefix = [] } = {}) => {\n            if (date instanceof Date) {\n                return {\n                    ok: true,\n                    value: date.toISOString(),\n                };\n            }\n            else {\n                return {\n                    ok: false,\n                    errors: [\n                        {\n                            path: breadcrumbsPrefix,\n                            message: getErrorMessageForIncorrectType(date, \"Date object\"),\n                        },\n                    ],\n                };\n            }\n        },\n        getType: () => SchemaType.DATE,\n    };\n    return Object.assign(Object.assign({}, maybeSkipValidation(baseSchema)), getSchemaUtils(baseSchema));\n}\n","import { getSchemaUtils } from \"../builders/schema-utils/index.mjs\";\nimport { maybeSkipValidation } from \"./maybeSkipValidation.mjs\";\nexport function createIdentitySchemaCreator(schemaType, validate) {\n    return () => {\n        const baseSchema = {\n            parse: validate,\n            json: validate,\n            getType: () => schemaType,\n        };\n        return Object.assign(Object.assign({}, maybeSkipValidation(baseSchema)), getSchemaUtils(baseSchema));\n    };\n}\n","import { SchemaType } from \"../../Schema.mjs\";\nimport { createIdentitySchemaCreator } from \"../../utils/createIdentitySchemaCreator.mjs\";\nimport { getErrorMessageForIncorrectType } from \"../../utils/getErrorMessageForIncorrectType.mjs\";\nexport function enum_(values) {\n    const validValues = new Set(values);\n    const schemaCreator = createIdentitySchemaCreator(SchemaType.ENUM, (value, { allowUnrecognizedEnumValues, breadcrumbsPrefix = [] } = {}) => {\n        if (typeof value !== \"string\") {\n            return {\n                ok: false,\n                errors: [\n                    {\n                        path: breadcrumbsPrefix,\n                        message: getErrorMessageForIncorrectType(value, \"string\"),\n                    },\n                ],\n            };\n        }\n        if (!validValues.has(value) && !allowUnrecognizedEnumValues) {\n            return {\n                ok: false,\n                errors: [\n                    {\n                        path: breadcrumbsPrefix,\n                        message: getErrorMessageForIncorrectType(value, \"enum\"),\n                    },\n                ],\n            };\n        }\n        return {\n            ok: true,\n            value: value,\n        };\n    });\n    return schemaCreator();\n}\n","import { getSchemaUtils } from \"../schema-utils/index.mjs\";\nexport function lazy(getter) {\n    const baseSchema = constructLazyBaseSchema(getter);\n    return Object.assign(Object.assign({}, baseSchema), getSchemaUtils(baseSchema));\n}\nexport function constructLazyBaseSchema(getter) {\n    return {\n        parse: (raw, opts) => getMemoizedSchema(getter).parse(raw, opts),\n        json: (parsed, opts) => getMemoizedSchema(getter).json(parsed, opts),\n        getType: () => getMemoizedSchema(getter).getType(),\n    };\n}\nexport function getMemoizedSchema(getter) {\n    const castedGetter = getter;\n    if (castedGetter.__zurg_memoized == null) {\n        castedGetter.__zurg_memoized = getter();\n    }\n    return castedGetter.__zurg_memoized;\n}\n","export function entries(object) {\n    return Object.entries(object);\n}\n","export function filterObject(obj, keysToInclude) {\n    const keysToIncludeSet = new Set(keysToInclude);\n    return Object.entries(obj).reduce((acc, [key, value]) => {\n        if (keysToIncludeSet.has(key)) {\n            acc[key] = value;\n        }\n        return acc;\n        // eslint-disable-next-line @typescript-eslint/prefer-reduce-type-parameter\n    }, {});\n}\n","// borrowed from https://github.com/lodash/lodash/blob/master/isPlainObject.js\nexport function isPlainObject(value) {\n    if (typeof value !== \"object\" || value === null) {\n        return false;\n    }\n    if (Object.getPrototypeOf(value) === null) {\n        return true;\n    }\n    let proto = value;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(value) === proto;\n}\n","export function keys(object) {\n    return Object.keys(object);\n}\n","export function partition(items, predicate) {\n    const trueItems = [], falseItems = [];\n    for (const item of items) {\n        if (predicate(item)) {\n            trueItems.push(item);\n        }\n        else {\n            falseItems.push(item);\n        }\n    }\n    return [trueItems, falseItems];\n}\n","import { filterObject } from \"../../utils/filterObject.mjs\";\nimport { getErrorMessageForIncorrectType } from \"../../utils/getErrorMessageForIncorrectType.mjs\";\nimport { isPlainObject } from \"../../utils/isPlainObject.mjs\";\nimport { getSchemaUtils } from \"../schema-utils/index.mjs\";\nexport function getObjectLikeUtils(schema) {\n    return {\n        withParsedProperties: (properties) => withParsedProperties(schema, properties),\n    };\n}\n/**\n * object-like utils are defined in one file to resolve issues with circular imports\n */\nexport function withParsedProperties(objectLike, properties) {\n    const objectSchema = {\n        parse: (raw, opts) => {\n            const parsedObject = objectLike.parse(raw, opts);\n            if (!parsedObject.ok) {\n                return parsedObject;\n            }\n            const additionalProperties = Object.entries(properties).reduce((processed, [key, value]) => {\n                return Object.assign(Object.assign({}, processed), { [key]: typeof value === \"function\" ? value(parsedObject.value) : value });\n            }, {});\n            return {\n                ok: true,\n                value: Object.assign(Object.assign({}, parsedObject.value), additionalProperties),\n            };\n        },\n        json: (parsed, opts) => {\n            var _a;\n            if (!isPlainObject(parsed)) {\n                return {\n                    ok: false,\n                    errors: [\n                        {\n                            path: (_a = opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix) !== null && _a !== void 0 ? _a : [],\n                            message: getErrorMessageForIncorrectType(parsed, \"object\"),\n                        },\n                    ],\n                };\n            }\n            // strip out added properties\n            const addedPropertyKeys = new Set(Object.keys(properties));\n            const parsedWithoutAddedProperties = filterObject(parsed, Object.keys(parsed).filter((key) => !addedPropertyKeys.has(key)));\n            return objectLike.json(parsedWithoutAddedProperties, opts);\n        },\n        getType: () => objectLike.getType(),\n    };\n    return Object.assign(Object.assign(Object.assign({}, objectSchema), getSchemaUtils(objectSchema)), getObjectLikeUtils(objectSchema));\n}\n","export function property(rawKey, valueSchema) {\n    return {\n        rawKey,\n        valueSchema,\n        isProperty: true,\n    };\n}\nexport function isProperty(maybeProperty) {\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    return maybeProperty.isProperty;\n}\n","import { SchemaType } from \"../../Schema.mjs\";\nimport { entries } from \"../../utils/entries.mjs\";\nimport { filterObject } from \"../../utils/filterObject.mjs\";\nimport { getErrorMessageForIncorrectType } from \"../../utils/getErrorMessageForIncorrectType.mjs\";\nimport { isPlainObject } from \"../../utils/isPlainObject.mjs\";\nimport { keys } from \"../../utils/keys.mjs\";\nimport { maybeSkipValidation } from \"../../utils/maybeSkipValidation.mjs\";\nimport { partition } from \"../../utils/partition.mjs\";\nimport { getObjectLikeUtils } from \"../object-like/index.mjs\";\nimport { getSchemaUtils } from \"../schema-utils/index.mjs\";\nimport { isProperty } from \"./property.mjs\";\nexport function object(schemas) {\n    const baseSchema = {\n        _getRawProperties: () => Object.entries(schemas).map(([parsedKey, propertySchema]) => isProperty(propertySchema) ? propertySchema.rawKey : parsedKey),\n        _getParsedProperties: () => keys(schemas),\n        parse: (raw, opts) => {\n            const rawKeyToProperty = {};\n            const requiredKeys = [];\n            for (const [parsedKey, schemaOrObjectProperty] of entries(schemas)) {\n                const rawKey = isProperty(schemaOrObjectProperty) ? schemaOrObjectProperty.rawKey : parsedKey;\n                const valueSchema = isProperty(schemaOrObjectProperty)\n                    ? schemaOrObjectProperty.valueSchema\n                    : schemaOrObjectProperty;\n                const property = {\n                    rawKey,\n                    parsedKey: parsedKey,\n                    valueSchema,\n                };\n                rawKeyToProperty[rawKey] = property;\n                if (isSchemaRequired(valueSchema)) {\n                    requiredKeys.push(rawKey);\n                }\n            }\n            return validateAndTransformObject({\n                value: raw,\n                requiredKeys,\n                getProperty: (rawKey) => {\n                    const property = rawKeyToProperty[rawKey];\n                    if (property == null) {\n                        return undefined;\n                    }\n                    return {\n                        transformedKey: property.parsedKey,\n                        transform: (propertyValue) => {\n                            var _a;\n                            return property.valueSchema.parse(propertyValue, Object.assign(Object.assign({}, opts), { breadcrumbsPrefix: [...((_a = opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix) !== null && _a !== void 0 ? _a : []), rawKey] }));\n                        },\n                    };\n                },\n                unrecognizedObjectKeys: opts === null || opts === void 0 ? void 0 : opts.unrecognizedObjectKeys,\n                skipValidation: opts === null || opts === void 0 ? void 0 : opts.skipValidation,\n                breadcrumbsPrefix: opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix,\n                omitUndefined: opts === null || opts === void 0 ? void 0 : opts.omitUndefined,\n            });\n        },\n        json: (parsed, opts) => {\n            const requiredKeys = [];\n            for (const [parsedKey, schemaOrObjectProperty] of entries(schemas)) {\n                const valueSchema = isProperty(schemaOrObjectProperty)\n                    ? schemaOrObjectProperty.valueSchema\n                    : schemaOrObjectProperty;\n                if (isSchemaRequired(valueSchema)) {\n                    requiredKeys.push(parsedKey);\n                }\n            }\n            return validateAndTransformObject({\n                value: parsed,\n                requiredKeys,\n                getProperty: (parsedKey) => {\n                    const property = schemas[parsedKey];\n                    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n                    if (property == null) {\n                        return undefined;\n                    }\n                    if (isProperty(property)) {\n                        return {\n                            transformedKey: property.rawKey,\n                            transform: (propertyValue) => {\n                                var _a;\n                                return property.valueSchema.json(propertyValue, Object.assign(Object.assign({}, opts), { breadcrumbsPrefix: [...((_a = opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix) !== null && _a !== void 0 ? _a : []), parsedKey] }));\n                            },\n                        };\n                    }\n                    else {\n                        return {\n                            transformedKey: parsedKey,\n                            transform: (propertyValue) => {\n                                var _a;\n                                return property.json(propertyValue, Object.assign(Object.assign({}, opts), { breadcrumbsPrefix: [...((_a = opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix) !== null && _a !== void 0 ? _a : []), parsedKey] }));\n                            },\n                        };\n                    }\n                },\n                unrecognizedObjectKeys: opts === null || opts === void 0 ? void 0 : opts.unrecognizedObjectKeys,\n                skipValidation: opts === null || opts === void 0 ? void 0 : opts.skipValidation,\n                breadcrumbsPrefix: opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix,\n                omitUndefined: opts === null || opts === void 0 ? void 0 : opts.omitUndefined,\n            });\n        },\n        getType: () => SchemaType.OBJECT,\n    };\n    return Object.assign(Object.assign(Object.assign(Object.assign({}, maybeSkipValidation(baseSchema)), getSchemaUtils(baseSchema)), getObjectLikeUtils(baseSchema)), getObjectUtils(baseSchema));\n}\nfunction validateAndTransformObject({ value, requiredKeys, getProperty, unrecognizedObjectKeys = \"fail\", skipValidation = false, breadcrumbsPrefix = [], }) {\n    if (!isPlainObject(value)) {\n        return {\n            ok: false,\n            errors: [\n                {\n                    path: breadcrumbsPrefix,\n                    message: getErrorMessageForIncorrectType(value, \"object\"),\n                },\n            ],\n        };\n    }\n    const missingRequiredKeys = new Set(requiredKeys);\n    const errors = [];\n    const transformed = {};\n    for (const [preTransformedKey, preTransformedItemValue] of Object.entries(value)) {\n        const property = getProperty(preTransformedKey);\n        if (property != null) {\n            missingRequiredKeys.delete(preTransformedKey);\n            const value = property.transform(preTransformedItemValue);\n            if (value.ok) {\n                transformed[property.transformedKey] = value.value;\n            }\n            else {\n                transformed[preTransformedKey] = preTransformedItemValue;\n                errors.push(...value.errors);\n            }\n        }\n        else {\n            switch (unrecognizedObjectKeys) {\n                case \"fail\":\n                    errors.push({\n                        path: [...breadcrumbsPrefix, preTransformedKey],\n                        message: `Unexpected key \"${preTransformedKey}\"`,\n                    });\n                    break;\n                case \"strip\":\n                    break;\n                case \"passthrough\":\n                    transformed[preTransformedKey] = preTransformedItemValue;\n                    break;\n            }\n        }\n    }\n    errors.push(...requiredKeys\n        .filter((key) => missingRequiredKeys.has(key))\n        .map((key) => ({\n        path: breadcrumbsPrefix,\n        message: `Missing required key \"${key}\"`,\n    })));\n    if (errors.length === 0 || skipValidation) {\n        return {\n            ok: true,\n            value: transformed,\n        };\n    }\n    else {\n        return {\n            ok: false,\n            errors,\n        };\n    }\n}\nexport function getObjectUtils(schema) {\n    return {\n        extend: (extension) => {\n            const baseSchema = {\n                _getParsedProperties: () => [...schema._getParsedProperties(), ...extension._getParsedProperties()],\n                _getRawProperties: () => [...schema._getRawProperties(), ...extension._getRawProperties()],\n                parse: (raw, opts) => {\n                    return validateAndTransformExtendedObject({\n                        extensionKeys: extension._getRawProperties(),\n                        value: raw,\n                        transformBase: (rawBase) => schema.parse(rawBase, opts),\n                        transformExtension: (rawExtension) => extension.parse(rawExtension, opts),\n                    });\n                },\n                json: (parsed, opts) => {\n                    return validateAndTransformExtendedObject({\n                        extensionKeys: extension._getParsedProperties(),\n                        value: parsed,\n                        transformBase: (parsedBase) => schema.json(parsedBase, opts),\n                        transformExtension: (parsedExtension) => extension.json(parsedExtension, opts),\n                    });\n                },\n                getType: () => SchemaType.OBJECT,\n            };\n            return Object.assign(Object.assign(Object.assign(Object.assign({}, baseSchema), getSchemaUtils(baseSchema)), getObjectLikeUtils(baseSchema)), getObjectUtils(baseSchema));\n        },\n        passthrough: () => {\n            const baseSchema = {\n                _getParsedProperties: () => schema._getParsedProperties(),\n                _getRawProperties: () => schema._getRawProperties(),\n                parse: (raw, opts) => {\n                    const transformed = schema.parse(raw, Object.assign(Object.assign({}, opts), { unrecognizedObjectKeys: \"passthrough\" }));\n                    if (!transformed.ok) {\n                        return transformed;\n                    }\n                    return {\n                        ok: true,\n                        value: Object.assign(Object.assign({}, raw), transformed.value),\n                    };\n                },\n                json: (parsed, opts) => {\n                    const transformed = schema.json(parsed, Object.assign(Object.assign({}, opts), { unrecognizedObjectKeys: \"passthrough\" }));\n                    if (!transformed.ok) {\n                        return transformed;\n                    }\n                    return {\n                        ok: true,\n                        value: Object.assign(Object.assign({}, parsed), transformed.value),\n                    };\n                },\n                getType: () => SchemaType.OBJECT,\n            };\n            return Object.assign(Object.assign(Object.assign(Object.assign({}, baseSchema), getSchemaUtils(baseSchema)), getObjectLikeUtils(baseSchema)), getObjectUtils(baseSchema));\n        },\n    };\n}\nfunction validateAndTransformExtendedObject({ extensionKeys, value, transformBase, transformExtension, }) {\n    const extensionPropertiesSet = new Set(extensionKeys);\n    const [extensionProperties, baseProperties] = partition(keys(value), (key) => extensionPropertiesSet.has(key));\n    const transformedBase = transformBase(filterObject(value, baseProperties));\n    const transformedExtension = transformExtension(filterObject(value, extensionProperties));\n    if (transformedBase.ok && transformedExtension.ok) {\n        return {\n            ok: true,\n            value: Object.assign(Object.assign({}, transformedBase.value), transformedExtension.value),\n        };\n    }\n    else {\n        return {\n            ok: false,\n            errors: [\n                ...(transformedBase.ok ? [] : transformedBase.errors),\n                ...(transformedExtension.ok ? [] : transformedExtension.errors),\n            ],\n        };\n    }\n}\nfunction isSchemaRequired(schema) {\n    return !isSchemaOptional(schema);\n}\nfunction isSchemaOptional(schema) {\n    switch (schema.getType()) {\n        case SchemaType.ANY:\n        case SchemaType.UNKNOWN:\n        case SchemaType.OPTIONAL:\n        case SchemaType.OPTIONAL_NULLABLE:\n            return true;\n        default:\n            return false;\n    }\n}\n","import { getObjectUtils } from \"../object/index.mjs\";\nimport { getObjectLikeUtils } from \"../object-like/index.mjs\";\nimport { getSchemaUtils } from \"../schema-utils/index.mjs\";\nimport { constructLazyBaseSchema, getMemoizedSchema } from \"./lazy.mjs\";\nexport function lazyObject(getter) {\n    const baseSchema = Object.assign(Object.assign({}, constructLazyBaseSchema(getter)), { _getRawProperties: () => getMemoizedSchema(getter)._getRawProperties(), _getParsedProperties: () => getMemoizedSchema(getter)._getParsedProperties() });\n    return Object.assign(Object.assign(Object.assign(Object.assign({}, baseSchema), getSchemaUtils(baseSchema)), getObjectLikeUtils(baseSchema)), getObjectUtils(baseSchema));\n}\n","import { SchemaType } from \"../../Schema.mjs\";\nimport { getErrorMessageForIncorrectType } from \"../../utils/getErrorMessageForIncorrectType.mjs\";\nimport { maybeSkipValidation } from \"../../utils/maybeSkipValidation.mjs\";\nimport { getSchemaUtils } from \"../schema-utils/index.mjs\";\nexport function list(schema) {\n    const baseSchema = {\n        parse: (raw, opts) => validateAndTransformArray(raw, (item, index) => {\n            var _a;\n            return schema.parse(item, Object.assign(Object.assign({}, opts), { breadcrumbsPrefix: [...((_a = opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix) !== null && _a !== void 0 ? _a : []), `[${index}]`] }));\n        }),\n        json: (parsed, opts) => validateAndTransformArray(parsed, (item, index) => {\n            var _a;\n            return schema.json(item, Object.assign(Object.assign({}, opts), { breadcrumbsPrefix: [...((_a = opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix) !== null && _a !== void 0 ? _a : []), `[${index}]`] }));\n        }),\n        getType: () => SchemaType.LIST,\n    };\n    return Object.assign(Object.assign({}, maybeSkipValidation(baseSchema)), getSchemaUtils(baseSchema));\n}\nfunction validateAndTransformArray(value, transformItem) {\n    if (!Array.isArray(value)) {\n        return {\n            ok: false,\n            errors: [\n                {\n                    message: getErrorMessageForIncorrectType(value, \"list\"),\n                    path: [],\n                },\n            ],\n        };\n    }\n    const maybeValidItems = value.map((item, index) => transformItem(item, index));\n    return maybeValidItems.reduce((acc, item) => {\n        if (acc.ok && item.ok) {\n            return {\n                ok: true,\n                value: [...acc.value, item.value],\n            };\n        }\n        const errors = [];\n        if (!acc.ok) {\n            errors.push(...acc.errors);\n        }\n        if (!item.ok) {\n            errors.push(...item.errors);\n        }\n        return {\n            ok: false,\n            errors,\n        };\n    }, { ok: true, value: [] });\n}\n","import { SchemaType } from \"../../Schema.mjs\";\nimport { createIdentitySchemaCreator } from \"../../utils/createIdentitySchemaCreator.mjs\";\nimport { getErrorMessageForIncorrectType } from \"../../utils/getErrorMessageForIncorrectType.mjs\";\nexport function booleanLiteral(literal) {\n    const schemaCreator = createIdentitySchemaCreator(SchemaType.BOOLEAN_LITERAL, (value, { breadcrumbsPrefix = [] } = {}) => {\n        if (value === literal) {\n            return {\n                ok: true,\n                value: literal,\n            };\n        }\n        else {\n            return {\n                ok: false,\n                errors: [\n                    {\n                        path: breadcrumbsPrefix,\n                        message: getErrorMessageForIncorrectType(value, `${literal.toString()}`),\n                    },\n                ],\n            };\n        }\n    });\n    return schemaCreator();\n}\n","import { SchemaType } from \"../../Schema.mjs\";\nimport { createIdentitySchemaCreator } from \"../../utils/createIdentitySchemaCreator.mjs\";\nimport { getErrorMessageForIncorrectType } from \"../../utils/getErrorMessageForIncorrectType.mjs\";\nexport function stringLiteral(literal) {\n    const schemaCreator = createIdentitySchemaCreator(SchemaType.STRING_LITERAL, (value, { breadcrumbsPrefix = [] } = {}) => {\n        if (value === literal) {\n            return {\n                ok: true,\n                value: literal,\n            };\n        }\n        else {\n            return {\n                ok: false,\n                errors: [\n                    {\n                        path: breadcrumbsPrefix,\n                        message: getErrorMessageForIncorrectType(value, `\"${literal}\"`),\n                    },\n                ],\n            };\n        }\n    });\n    return schemaCreator();\n}\n","import { object } from \"./object.mjs\";\nexport function objectWithoutOptionalProperties(schemas) {\n    return object(schemas);\n}\n","import { SchemaType } from \"../../Schema.mjs\";\nimport { createIdentitySchemaCreator } from \"../../utils/createIdentitySchemaCreator.mjs\";\nexport const any = createIdentitySchemaCreator(SchemaType.ANY, (value) => ({\n    ok: true,\n    value,\n}));\n","import { SchemaType } from \"../../Schema.mjs\";\nimport { createIdentitySchemaCreator } from \"../../utils/createIdentitySchemaCreator.mjs\";\nimport { getErrorMessageForIncorrectType } from \"../../utils/getErrorMessageForIncorrectType.mjs\";\nexport const boolean = createIdentitySchemaCreator(SchemaType.BOOLEAN, (value, { breadcrumbsPrefix = [] } = {}) => {\n    if (typeof value === \"boolean\") {\n        return {\n            ok: true,\n            value,\n        };\n    }\n    else {\n        return {\n            ok: false,\n            errors: [\n                {\n                    path: breadcrumbsPrefix,\n                    message: getErrorMessageForIncorrectType(value, \"boolean\"),\n                },\n            ],\n        };\n    }\n});\n","import { SchemaType } from \"../../Schema.mjs\";\nimport { createIdentitySchemaCreator } from \"../../utils/createIdentitySchemaCreator.mjs\";\nimport { getErrorMessageForIncorrectType } from \"../../utils/getErrorMessageForIncorrectType.mjs\";\nexport const number = createIdentitySchemaCreator(SchemaType.NUMBER, (value, { breadcrumbsPrefix = [] } = {}) => {\n    if (typeof value === \"number\") {\n        return {\n            ok: true,\n            value,\n        };\n    }\n    else {\n        return {\n            ok: false,\n            errors: [\n                {\n                    path: breadcrumbsPrefix,\n                    message: getErrorMessageForIncorrectType(value, \"number\"),\n                },\n            ],\n        };\n    }\n});\n","import { SchemaType } from \"../../Schema.mjs\";\nimport { createIdentitySchemaCreator } from \"../../utils/createIdentitySchemaCreator.mjs\";\nimport { getErrorMessageForIncorrectType } from \"../../utils/getErrorMessageForIncorrectType.mjs\";\nexport const string = createIdentitySchemaCreator(SchemaType.STRING, (value, { breadcrumbsPrefix = [] } = {}) => {\n    if (typeof value === \"string\") {\n        return {\n            ok: true,\n            value,\n        };\n    }\n    else {\n        return {\n            ok: false,\n            errors: [\n                {\n                    path: breadcrumbsPrefix,\n                    message: getErrorMessageForIncorrectType(value, \"string\"),\n                },\n            ],\n        };\n    }\n});\n","import { SchemaType } from \"../../Schema.mjs\";\nimport { createIdentitySchemaCreator } from \"../../utils/createIdentitySchemaCreator.mjs\";\nexport const unknown = createIdentitySchemaCreator(SchemaType.UNKNOWN, (value) => ({ ok: true, value }));\n","import { SchemaType } from \"../../Schema.mjs\";\nimport { entries } from \"../../utils/entries.mjs\";\nimport { getErrorMessageForIncorrectType } from \"../../utils/getErrorMessageForIncorrectType.mjs\";\nimport { isPlainObject } from \"../../utils/isPlainObject.mjs\";\nimport { maybeSkipValidation } from \"../../utils/maybeSkipValidation.mjs\";\nimport { getSchemaUtils } from \"../schema-utils/index.mjs\";\nexport function record(keySchema, valueSchema) {\n    const baseSchema = {\n        parse: (raw, opts) => {\n            return validateAndTransformRecord({\n                value: raw,\n                isKeyNumeric: keySchema.getType() === SchemaType.NUMBER,\n                transformKey: (key) => {\n                    var _a;\n                    return keySchema.parse(key, Object.assign(Object.assign({}, opts), { breadcrumbsPrefix: [...((_a = opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix) !== null && _a !== void 0 ? _a : []), `${key} (key)`] }));\n                },\n                transformValue: (value, key) => {\n                    var _a;\n                    return valueSchema.parse(value, Object.assign(Object.assign({}, opts), { breadcrumbsPrefix: [...((_a = opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix) !== null && _a !== void 0 ? _a : []), `${key}`] }));\n                },\n                breadcrumbsPrefix: opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix,\n            });\n        },\n        json: (parsed, opts) => {\n            return validateAndTransformRecord({\n                value: parsed,\n                isKeyNumeric: keySchema.getType() === SchemaType.NUMBER,\n                transformKey: (key) => {\n                    var _a;\n                    return keySchema.json(key, Object.assign(Object.assign({}, opts), { breadcrumbsPrefix: [...((_a = opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix) !== null && _a !== void 0 ? _a : []), `${key} (key)`] }));\n                },\n                transformValue: (value, key) => {\n                    var _a;\n                    return valueSchema.json(value, Object.assign(Object.assign({}, opts), { breadcrumbsPrefix: [...((_a = opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix) !== null && _a !== void 0 ? _a : []), `${key}`] }));\n                },\n                breadcrumbsPrefix: opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix,\n            });\n        },\n        getType: () => SchemaType.RECORD,\n    };\n    return Object.assign(Object.assign({}, maybeSkipValidation(baseSchema)), getSchemaUtils(baseSchema));\n}\nfunction validateAndTransformRecord({ value, isKeyNumeric, transformKey, transformValue, breadcrumbsPrefix = [], }) {\n    if (!isPlainObject(value)) {\n        return {\n            ok: false,\n            errors: [\n                {\n                    path: breadcrumbsPrefix,\n                    message: getErrorMessageForIncorrectType(value, \"object\"),\n                },\n            ],\n        };\n    }\n    return entries(value).reduce((accPromise, [stringKey, value]) => {\n        if (value === undefined) {\n            return accPromise;\n        }\n        const acc = accPromise;\n        let key = stringKey;\n        if (isKeyNumeric) {\n            const numberKey = stringKey.length > 0 ? Number(stringKey) : NaN;\n            if (!Number.isNaN(numberKey)) {\n                key = numberKey;\n            }\n        }\n        const transformedKey = transformKey(key);\n        const transformedValue = transformValue(value, key);\n        if (acc.ok && transformedKey.ok && transformedValue.ok) {\n            return {\n                ok: true,\n                value: Object.assign(Object.assign({}, acc.value), { [transformedKey.value]: transformedValue.value }),\n            };\n        }\n        const errors = [];\n        if (!acc.ok) {\n            errors.push(...acc.errors);\n        }\n        if (!transformedKey.ok) {\n            errors.push(...transformedKey.errors);\n        }\n        if (!transformedValue.ok) {\n            errors.push(...transformedValue.errors);\n        }\n        return {\n            ok: false,\n            errors,\n        };\n    }, { ok: true, value: {} });\n}\n","import { SchemaType } from \"../../Schema.mjs\";\nimport { getErrorMessageForIncorrectType } from \"../../utils/getErrorMessageForIncorrectType.mjs\";\nimport { maybeSkipValidation } from \"../../utils/maybeSkipValidation.mjs\";\nimport { list } from \"../list/index.mjs\";\nimport { getSchemaUtils } from \"../schema-utils/index.mjs\";\nexport function set(schema) {\n    const listSchema = list(schema);\n    const baseSchema = {\n        parse: (raw, opts) => {\n            const parsedList = listSchema.parse(raw, opts);\n            if (parsedList.ok) {\n                return {\n                    ok: true,\n                    value: new Set(parsedList.value),\n                };\n            }\n            else {\n                return parsedList;\n            }\n        },\n        json: (parsed, opts) => {\n            var _a;\n            if (!(parsed instanceof Set)) {\n                return {\n                    ok: false,\n                    errors: [\n                        {\n                            path: (_a = opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix) !== null && _a !== void 0 ? _a : [],\n                            message: getErrorMessageForIncorrectType(parsed, \"Set\"),\n                        },\n                    ],\n                };\n            }\n            const jsonList = listSchema.json([...parsed], opts);\n            return jsonList;\n        },\n        getType: () => SchemaType.SET,\n    };\n    return Object.assign(Object.assign({}, maybeSkipValidation(baseSchema)), getSchemaUtils(baseSchema));\n}\n","import { SchemaType, } from \"../../Schema.mjs\";\nimport { maybeSkipValidation } from \"../../utils/maybeSkipValidation.mjs\";\nimport { getSchemaUtils } from \"../schema-utils/index.mjs\";\nexport function undiscriminatedUnion(schemas) {\n    const baseSchema = {\n        parse: (raw, opts) => {\n            return validateAndTransformUndiscriminatedUnion((schema, opts) => schema.parse(raw, opts), schemas, opts);\n        },\n        json: (parsed, opts) => {\n            return validateAndTransformUndiscriminatedUnion((schema, opts) => schema.json(parsed, opts), schemas, opts);\n        },\n        getType: () => SchemaType.UNDISCRIMINATED_UNION,\n    };\n    return Object.assign(Object.assign({}, maybeSkipValidation(baseSchema)), getSchemaUtils(baseSchema));\n}\nfunction validateAndTransformUndiscriminatedUnion(transform, schemas, opts) {\n    const errors = [];\n    for (const [index, schema] of schemas.entries()) {\n        const transformed = transform(schema, Object.assign(Object.assign({}, opts), { skipValidation: false }));\n        if (transformed.ok) {\n            return transformed;\n        }\n        else {\n            for (const error of transformed.errors) {\n                errors.push({\n                    path: error.path,\n                    message: `[Variant ${index}] ${error.message}`,\n                });\n            }\n        }\n    }\n    return {\n        ok: false,\n        errors,\n    };\n}\n","export function discriminant(parsedDiscriminant, rawDiscriminant) {\n    return {\n        parsedDiscriminant,\n        rawDiscriminant,\n    };\n}\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { SchemaType } from \"../../Schema.mjs\";\nimport { getErrorMessageForIncorrectType } from \"../../utils/getErrorMessageForIncorrectType.mjs\";\nimport { isPlainObject } from \"../../utils/isPlainObject.mjs\";\nimport { keys } from \"../../utils/keys.mjs\";\nimport { maybeSkipValidation } from \"../../utils/maybeSkipValidation.mjs\";\nimport { enum_ } from \"../enum/index.mjs\";\nimport { getObjectLikeUtils } from \"../object-like/index.mjs\";\nimport { getSchemaUtils } from \"../schema-utils/index.mjs\";\nexport function union(discriminant, union) {\n    const rawDiscriminant = typeof discriminant === \"string\" ? discriminant : discriminant.rawDiscriminant;\n    const parsedDiscriminant = typeof discriminant === \"string\"\n        ? discriminant\n        : discriminant.parsedDiscriminant;\n    const discriminantValueSchema = enum_(keys(union));\n    const baseSchema = {\n        parse: (raw, opts) => {\n            return transformAndValidateUnion({\n                value: raw,\n                discriminant: rawDiscriminant,\n                transformedDiscriminant: parsedDiscriminant,\n                transformDiscriminantValue: (discriminantValue) => {\n                    var _a;\n                    return discriminantValueSchema.parse(discriminantValue, {\n                        allowUnrecognizedEnumValues: opts === null || opts === void 0 ? void 0 : opts.allowUnrecognizedUnionMembers,\n                        breadcrumbsPrefix: [...((_a = opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix) !== null && _a !== void 0 ? _a : []), rawDiscriminant],\n                    });\n                },\n                getAdditionalPropertiesSchema: (discriminantValue) => union[discriminantValue],\n                allowUnrecognizedUnionMembers: opts === null || opts === void 0 ? void 0 : opts.allowUnrecognizedUnionMembers,\n                transformAdditionalProperties: (additionalProperties, additionalPropertiesSchema) => additionalPropertiesSchema.parse(additionalProperties, opts),\n                breadcrumbsPrefix: opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix,\n            });\n        },\n        json: (parsed, opts) => {\n            return transformAndValidateUnion({\n                value: parsed,\n                discriminant: parsedDiscriminant,\n                transformedDiscriminant: rawDiscriminant,\n                transformDiscriminantValue: (discriminantValue) => {\n                    var _a;\n                    return discriminantValueSchema.json(discriminantValue, {\n                        allowUnrecognizedEnumValues: opts === null || opts === void 0 ? void 0 : opts.allowUnrecognizedUnionMembers,\n                        breadcrumbsPrefix: [...((_a = opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix) !== null && _a !== void 0 ? _a : []), parsedDiscriminant],\n                    });\n                },\n                getAdditionalPropertiesSchema: (discriminantValue) => union[discriminantValue],\n                allowUnrecognizedUnionMembers: opts === null || opts === void 0 ? void 0 : opts.allowUnrecognizedUnionMembers,\n                transformAdditionalProperties: (additionalProperties, additionalPropertiesSchema) => additionalPropertiesSchema.json(additionalProperties, opts),\n                breadcrumbsPrefix: opts === null || opts === void 0 ? void 0 : opts.breadcrumbsPrefix,\n            });\n        },\n        getType: () => SchemaType.UNION,\n    };\n    return Object.assign(Object.assign(Object.assign({}, maybeSkipValidation(baseSchema)), getSchemaUtils(baseSchema)), getObjectLikeUtils(baseSchema));\n}\nfunction transformAndValidateUnion({ value, discriminant, transformedDiscriminant, transformDiscriminantValue, getAdditionalPropertiesSchema, allowUnrecognizedUnionMembers = false, transformAdditionalProperties, breadcrumbsPrefix = [], }) {\n    if (!isPlainObject(value)) {\n        return {\n            ok: false,\n            errors: [\n                {\n                    path: breadcrumbsPrefix,\n                    message: getErrorMessageForIncorrectType(value, \"object\"),\n                },\n            ],\n        };\n    }\n    const _a = value, _b = discriminant, discriminantValue = _a[_b], additionalProperties = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n    if (discriminantValue == null) {\n        return {\n            ok: false,\n            errors: [\n                {\n                    path: breadcrumbsPrefix,\n                    message: `Missing discriminant (\"${discriminant}\")`,\n                },\n            ],\n        };\n    }\n    const transformedDiscriminantValue = transformDiscriminantValue(discriminantValue);\n    if (!transformedDiscriminantValue.ok) {\n        return {\n            ok: false,\n            errors: transformedDiscriminantValue.errors,\n        };\n    }\n    const additionalPropertiesSchema = getAdditionalPropertiesSchema(transformedDiscriminantValue.value);\n    if (additionalPropertiesSchema == null) {\n        if (allowUnrecognizedUnionMembers) {\n            return {\n                ok: true,\n                value: Object.assign({ [transformedDiscriminant]: transformedDiscriminantValue.value }, additionalProperties),\n            };\n        }\n        else {\n            return {\n                ok: false,\n                errors: [\n                    {\n                        path: [...breadcrumbsPrefix, discriminant],\n                        message: \"Unexpected discriminant value\",\n                    },\n                ],\n            };\n        }\n    }\n    const transformedAdditionalProperties = transformAdditionalProperties(additionalProperties, additionalPropertiesSchema);\n    if (!transformedAdditionalProperties.ok) {\n        return transformedAdditionalProperties;\n    }\n    return {\n        ok: true,\n        value: Object.assign({ [transformedDiscriminant]: discriminantValue }, transformedAdditionalProperties.value),\n    };\n}\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const AssistantInput = core.serialization.object({\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    text: core.serialization.string(),\n    type: core.serialization.stringLiteral(\"assistant_input\"),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const AudioInput = core.serialization.object({\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    data: core.serialization.string(),\n    type: core.serialization.stringLiteral(\"audio_input\"),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const PauseAssistantMessage = core.serialization.object({\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    type: core.serialization.stringLiteral(\"pause_assistant_message\"),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ResumeAssistantMessage = core.serialization.object({\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    type: core.serialization.stringLiteral(\"resume_assistant_message\"),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const Encoding = core.serialization.stringLiteral(\"linear16\");\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { Encoding } from \"./Encoding.mjs\";\nexport const AudioConfiguration = core.serialization.object({\n    channels: core.serialization.number(),\n    codec: core.serialization.string().optional(),\n    encoding: Encoding,\n    sampleRate: core.serialization.property(\"sample_rate\", core.serialization.number()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const BuiltInTool = core.serialization.enum_([\"web_search\", \"hang_up\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { BuiltInTool } from \"./BuiltInTool.mjs\";\nexport const BuiltinToolConfig = core.serialization.object({\n    fallbackContent: core.serialization.property(\"fallback_content\", core.serialization.string().optional()),\n    name: BuiltInTool,\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ContextType = core.serialization.enum_([\"persistent\", \"temporary\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ContextType } from \"./ContextType.mjs\";\nexport const Context = core.serialization.object({\n    text: core.serialization.string(),\n    type: ContextType.optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const SessionSettingsVariablesValue = core.serialization.undiscriminatedUnion([\n    core.serialization.string(),\n    core.serialization.number(),\n    core.serialization.boolean(),\n]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ToolType = core.serialization.enum_([\"builtin\", \"function\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ToolType } from \"./ToolType.mjs\";\nexport const Tool = core.serialization.object({\n    description: core.serialization.string().optional(),\n    fallbackContent: core.serialization.property(\"fallback_content\", core.serialization.string().optional()),\n    name: core.serialization.string(),\n    parameters: core.serialization.string(),\n    type: ToolType,\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { AudioConfiguration } from \"./AudioConfiguration.mjs\";\nimport { BuiltinToolConfig } from \"./BuiltinToolConfig.mjs\";\nimport { Context } from \"./Context.mjs\";\nimport { SessionSettingsVariablesValue } from \"./SessionSettingsVariablesValue.mjs\";\nimport { Tool } from \"./Tool.mjs\";\nexport const SessionSettings = core.serialization.object({\n    audio: AudioConfiguration.optional(),\n    builtinTools: core.serialization.property(\"builtin_tools\", core.serialization.list(BuiltinToolConfig).optional()),\n    context: Context.optional(),\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    languageModelApiKey: core.serialization.property(\"language_model_api_key\", core.serialization.string().optional()),\n    metadata: core.serialization.record(core.serialization.string(), core.serialization.unknown()).optional(),\n    systemPrompt: core.serialization.property(\"system_prompt\", core.serialization.string().optional()),\n    tools: core.serialization.list(Tool).optional(),\n    type: core.serialization.stringLiteral(\"session_settings\"),\n    variables: core.serialization.record(core.serialization.string(), SessionSettingsVariablesValue).optional(),\n    voiceId: core.serialization.property(\"voice_id\", core.serialization.string().optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ErrorLevel = core.serialization.stringLiteral(\"warn\");\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ErrorLevel } from \"./ErrorLevel.mjs\";\nimport { ToolType } from \"./ToolType.mjs\";\nexport const ToolErrorMessage = core.serialization.object({\n    code: core.serialization.string().optional(),\n    content: core.serialization.string().optional(),\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    error: core.serialization.string(),\n    level: ErrorLevel.optional(),\n    toolCallId: core.serialization.property(\"tool_call_id\", core.serialization.string()),\n    toolType: core.serialization.property(\"tool_type\", ToolType.optional()),\n    type: core.serialization.stringLiteral(\"tool_error\"),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ToolType } from \"./ToolType.mjs\";\nexport const ToolResponseMessage = core.serialization.object({\n    content: core.serialization.string(),\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    toolCallId: core.serialization.property(\"tool_call_id\", core.serialization.string()),\n    toolName: core.serialization.property(\"tool_name\", core.serialization.string().optional()),\n    toolType: core.serialization.property(\"tool_type\", ToolType.optional()),\n    type: core.serialization.stringLiteral(\"tool_response\"),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const UserInput = core.serialization.object({\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    text: core.serialization.string(),\n    type: core.serialization.stringLiteral(\"user_input\"),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../../../core/index.mjs\";\nimport { AssistantInput } from \"../../../types/AssistantInput.mjs\";\nimport { AudioInput } from \"../../../types/AudioInput.mjs\";\nimport { PauseAssistantMessage } from \"../../../types/PauseAssistantMessage.mjs\";\nimport { ResumeAssistantMessage } from \"../../../types/ResumeAssistantMessage.mjs\";\nimport { SessionSettings } from \"../../../types/SessionSettings.mjs\";\nimport { ToolErrorMessage } from \"../../../types/ToolErrorMessage.mjs\";\nimport { ToolResponseMessage } from \"../../../types/ToolResponseMessage.mjs\";\nimport { UserInput } from \"../../../types/UserInput.mjs\";\nexport const PublishEvent = core.serialization.undiscriminatedUnion([\n    AudioInput,\n    SessionSettings,\n    UserInput,\n    AssistantInput,\n    ToolResponseMessage,\n    ToolErrorMessage,\n    PauseAssistantMessage,\n    ResumeAssistantMessage,\n]);\n","/**\n * Serialize a value to JSON\n * @param value A JavaScript value, usually an object or array, to be converted.\n * @param replacer A function that transforms the results.\n * @param space Adds indentation, white space, and line break characters to the return-value JSON text to make it easier to read.\n * @returns JSON string\n */\nexport const toJson = (value, replacer, space) => {\n    return JSON.stringify(value, replacer, space);\n};\n/**\n * Parse JSON string to object, array, or other type\n * @param text A valid JSON string.\n * @param reviver A function that transforms the results. This function is called for each member of the object. If a member contains nested objects, the nested objects are transformed before the parent object is.\n * @returns Parsed object, array, or other type\n */\nexport function fromJson(text, reviver) {\n    return JSON.parse(text, reviver);\n}\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const AssistantEnd = core.serialization.object({\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    type: core.serialization.stringLiteral(\"assistant_end\"),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ToolErrorMessage } from \"./ToolErrorMessage.mjs\";\nimport { ToolResponseMessage } from \"./ToolResponseMessage.mjs\";\nexport const ChatMessageToolResult = core.serialization.undiscriminatedUnion([ToolResponseMessage, ToolErrorMessage]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const Role = core.serialization.enum_([\"assistant\", \"system\", \"user\", \"all\", \"tool\", \"context\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ToolType } from \"./ToolType.mjs\";\nexport const ToolCallMessage = core.serialization.object({\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    name: core.serialization.string(),\n    parameters: core.serialization.string(),\n    responseRequired: core.serialization.property(\"response_required\", core.serialization.boolean()),\n    toolCallId: core.serialization.property(\"tool_call_id\", core.serialization.string()),\n    toolType: core.serialization.property(\"tool_type\", ToolType),\n    type: core.serialization.stringLiteral(\"tool_call\"),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ChatMessageToolResult } from \"./ChatMessageToolResult.mjs\";\nimport { Role } from \"./Role.mjs\";\nimport { ToolCallMessage } from \"./ToolCallMessage.mjs\";\nexport const ChatMessage = core.serialization.object({\n    content: core.serialization.string().optional(),\n    role: Role,\n    toolCall: core.serialization.property(\"tool_call\", ToolCallMessage.optional()),\n    toolResult: core.serialization.property(\"tool_result\", ChatMessageToolResult.optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const EmotionScores = core.serialization.object({\n    admiration: core.serialization.property(\"Admiration\", core.serialization.number()),\n    adoration: core.serialization.property(\"Adoration\", core.serialization.number()),\n    aestheticAppreciation: core.serialization.property(\"Aesthetic Appreciation\", core.serialization.number()),\n    amusement: core.serialization.property(\"Amusement\", core.serialization.number()),\n    anger: core.serialization.property(\"Anger\", core.serialization.number()),\n    anxiety: core.serialization.property(\"Anxiety\", core.serialization.number()),\n    awe: core.serialization.property(\"Awe\", core.serialization.number()),\n    awkwardness: core.serialization.property(\"Awkwardness\", core.serialization.number()),\n    boredom: core.serialization.property(\"Boredom\", core.serialization.number()),\n    calmness: core.serialization.property(\"Calmness\", core.serialization.number()),\n    concentration: core.serialization.property(\"Concentration\", core.serialization.number()),\n    confusion: core.serialization.property(\"Confusion\", core.serialization.number()),\n    contemplation: core.serialization.property(\"Contemplation\", core.serialization.number()),\n    contempt: core.serialization.property(\"Contempt\", core.serialization.number()),\n    contentment: core.serialization.property(\"Contentment\", core.serialization.number()),\n    craving: core.serialization.property(\"Craving\", core.serialization.number()),\n    desire: core.serialization.property(\"Desire\", core.serialization.number()),\n    determination: core.serialization.property(\"Determination\", core.serialization.number()),\n    disappointment: core.serialization.property(\"Disappointment\", core.serialization.number()),\n    disgust: core.serialization.property(\"Disgust\", core.serialization.number()),\n    distress: core.serialization.property(\"Distress\", core.serialization.number()),\n    doubt: core.serialization.property(\"Doubt\", core.serialization.number()),\n    ecstasy: core.serialization.property(\"Ecstasy\", core.serialization.number()),\n    embarrassment: core.serialization.property(\"Embarrassment\", core.serialization.number()),\n    empathicPain: core.serialization.property(\"Empathic Pain\", core.serialization.number()),\n    entrancement: core.serialization.property(\"Entrancement\", core.serialization.number()),\n    envy: core.serialization.property(\"Envy\", core.serialization.number()),\n    excitement: core.serialization.property(\"Excitement\", core.serialization.number()),\n    fear: core.serialization.property(\"Fear\", core.serialization.number()),\n    guilt: core.serialization.property(\"Guilt\", core.serialization.number()),\n    horror: core.serialization.property(\"Horror\", core.serialization.number()),\n    interest: core.serialization.property(\"Interest\", core.serialization.number()),\n    joy: core.serialization.property(\"Joy\", core.serialization.number()),\n    love: core.serialization.property(\"Love\", core.serialization.number()),\n    nostalgia: core.serialization.property(\"Nostalgia\", core.serialization.number()),\n    pain: core.serialization.property(\"Pain\", core.serialization.number()),\n    pride: core.serialization.property(\"Pride\", core.serialization.number()),\n    realization: core.serialization.property(\"Realization\", core.serialization.number()),\n    relief: core.serialization.property(\"Relief\", core.serialization.number()),\n    romance: core.serialization.property(\"Romance\", core.serialization.number()),\n    sadness: core.serialization.property(\"Sadness\", core.serialization.number()),\n    satisfaction: core.serialization.property(\"Satisfaction\", core.serialization.number()),\n    shame: core.serialization.property(\"Shame\", core.serialization.number()),\n    surpriseNegative: core.serialization.property(\"Surprise (negative)\", core.serialization.number()),\n    surprisePositive: core.serialization.property(\"Surprise (positive)\", core.serialization.number()),\n    sympathy: core.serialization.property(\"Sympathy\", core.serialization.number()),\n    tiredness: core.serialization.property(\"Tiredness\", core.serialization.number()),\n    triumph: core.serialization.property(\"Triumph\", core.serialization.number()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { EmotionScores } from \"./EmotionScores.mjs\";\nexport const ProsodyInference = core.serialization.object({\n    scores: EmotionScores,\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ProsodyInference } from \"./ProsodyInference.mjs\";\nexport const Inference = core.serialization.object({\n    prosody: ProsodyInference.optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ChatMessage } from \"./ChatMessage.mjs\";\nimport { Inference } from \"./Inference.mjs\";\nexport const AssistantMessage = core.serialization.object({\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    fromText: core.serialization.property(\"from_text\", core.serialization.boolean()),\n    id: core.serialization.string().optional(),\n    isQuickResponse: core.serialization.property(\"is_quick_response\", core.serialization.boolean()),\n    language: core.serialization.string().optional(),\n    message: ChatMessage,\n    models: Inference,\n    type: core.serialization.stringLiteral(\"assistant_message\"),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { Inference } from \"./Inference.mjs\";\nexport const AssistantProsody = core.serialization.object({\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    id: core.serialization.string().optional(),\n    models: Inference,\n    type: core.serialization.stringLiteral(\"assistant_prosody\"),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const AudioOutput = core.serialization.object({\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    data: core.serialization.string(),\n    id: core.serialization.string(),\n    index: core.serialization.number(),\n    type: core.serialization.stringLiteral(\"audio_output\"),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ChatMetadata = core.serialization.object({\n    chatGroupId: core.serialization.property(\"chat_group_id\", core.serialization.string()),\n    chatId: core.serialization.property(\"chat_id\", core.serialization.string()),\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    requestId: core.serialization.property(\"request_id\", core.serialization.string().optional()),\n    type: core.serialization.stringLiteral(\"chat_metadata\"),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const UserInterruption = core.serialization.object({\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    time: core.serialization.number(),\n    type: core.serialization.stringLiteral(\"user_interruption\"),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const MillisecondInterval = core.serialization.object({\n    begin: core.serialization.number(),\n    end: core.serialization.number(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ChatMessage } from \"./ChatMessage.mjs\";\nimport { Inference } from \"./Inference.mjs\";\nimport { MillisecondInterval } from \"./MillisecondInterval.mjs\";\nexport const UserMessage = core.serialization.object({\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    fromText: core.serialization.property(\"from_text\", core.serialization.boolean()),\n    interim: core.serialization.boolean(),\n    language: core.serialization.string().optional(),\n    message: ChatMessage,\n    models: Inference,\n    time: MillisecondInterval,\n    type: core.serialization.stringLiteral(\"user_message\"),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const WebSocketError = core.serialization.object({\n    code: core.serialization.string(),\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    message: core.serialization.string(),\n    requestId: core.serialization.property(\"request_id\", core.serialization.string().optional()),\n    slug: core.serialization.string(),\n    type: core.serialization.stringLiteral(\"error\"),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { AssistantEnd } from \"./AssistantEnd.mjs\";\nimport { AssistantMessage } from \"./AssistantMessage.mjs\";\nimport { AssistantProsody } from \"./AssistantProsody.mjs\";\nimport { AudioOutput } from \"./AudioOutput.mjs\";\nimport { ChatMetadata } from \"./ChatMetadata.mjs\";\nimport { SessionSettings } from \"./SessionSettings.mjs\";\nimport { ToolCallMessage } from \"./ToolCallMessage.mjs\";\nimport { ToolErrorMessage } from \"./ToolErrorMessage.mjs\";\nimport { ToolResponseMessage } from \"./ToolResponseMessage.mjs\";\nimport { UserInterruption } from \"./UserInterruption.mjs\";\nimport { UserMessage } from \"./UserMessage.mjs\";\nimport { WebSocketError } from \"./WebSocketError.mjs\";\nexport const SubscribeEvent = core.serialization.undiscriminatedUnion([\n    AssistantEnd,\n    AssistantMessage,\n    AssistantProsody,\n    AudioOutput,\n    ChatMetadata,\n    WebSocketError,\n    UserInterruption,\n    UserMessage,\n    ToolCallMessage,\n    ToolResponseMessage,\n    ToolErrorMessage,\n    SessionSettings,\n]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../../../../core/index.mjs\";\nimport { SubscribeEvent } from \"../../../../types/SubscribeEvent.mjs\";\nexport const ChatSocketResponse = core.serialization.undiscriminatedUnion([SubscribeEvent]);\n","/**\n * This file was manually added to provide backward compatibility.\n *\n * @deprecated Use `serialization.empathicVoice.SubscribeEvent` instead.\n * This serializer alias will be removed in a future version.\n */\nimport { SubscribeEvent as NewSubscribeEvent } from \"../../../types/SubscribeEvent.mjs\";\n/**\n * @deprecated Use `serialization.empathicVoice.SubscribeEvent` instead.\n * This serializer alias will be removed in a future version.\n */\nexport const SubscribeEvent = NewSubscribeEvent;\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const PostedBuiltinToolName = core.serialization.enum_([\"web_search\", \"hang_up\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { PostedBuiltinToolName } from \"./PostedBuiltinToolName.mjs\";\nexport const PostedBuiltinTool = core.serialization.object({\n    fallbackContent: core.serialization.property(\"fallback_content\", core.serialization.string().optional()),\n    name: PostedBuiltinToolName,\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const PostedConfigPromptSpec = core.serialization.object({\n    id: core.serialization.string().optional(),\n    text: core.serialization.string().optional(),\n    version: core.serialization.number().optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const PostedEllmModel = core.serialization.object({\n    allowShortResponses: core.serialization.property(\"allow_short_responses\", core.serialization.boolean().optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const PostedEventMessageSpec = core.serialization.object({\n    enabled: core.serialization.boolean(),\n    text: core.serialization.string().optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { PostedEventMessageSpec } from \"./PostedEventMessageSpec.mjs\";\nexport const PostedEventMessageSpecs = core.serialization.object({\n    onInactivityTimeout: core.serialization.property(\"on_inactivity_timeout\", PostedEventMessageSpec.optional()),\n    onMaxDurationTimeout: core.serialization.property(\"on_max_duration_timeout\", PostedEventMessageSpec.optional()),\n    onNewChat: core.serialization.property(\"on_new_chat\", PostedEventMessageSpec.optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const LanguageModelType = core.serialization.enum_([\n    \"claude-3-7-sonnet-latest\",\n    \"claude-3-5-sonnet-latest\",\n    \"claude-3-5-haiku-latest\",\n    \"claude-3-5-sonnet-20240620\",\n    \"claude-3-opus-20240229\",\n    \"claude-3-sonnet-20240229\",\n    \"claude-3-haiku-20240307\",\n    \"claude-sonnet-4-20250514\",\n    \"claude-sonnet-4-5-20250929\",\n    \"claude-haiku-4-5-20251001\",\n    \"us.anthropic.claude-3-5-haiku-20241022-v1:0\",\n    \"us.anthropic.claude-3-5-sonnet-20240620-v1:0\",\n    \"us.anthropic.claude-3-haiku-20240307-v1:0\",\n    \"gpt-oss-120b\",\n    \"qwen-3-235b-a22b\",\n    \"qwen-3-235b-a22b-instruct-2507\",\n    \"qwen-3-235b-a22b-thinking-2507\",\n    \"gemini-1.5-pro\",\n    \"gemini-1.5-flash\",\n    \"gemini-1.5-pro-002\",\n    \"gemini-1.5-flash-002\",\n    \"gemini-2.0-flash\",\n    \"gemini-2.5-flash\",\n    \"gemini-2.5-flash-preview-04-17\",\n    \"gpt-4-turbo\",\n    \"gpt-4-turbo-preview\",\n    \"gpt-3.5-turbo-0125\",\n    \"gpt-3.5-turbo\",\n    \"gpt-4o\",\n    \"gpt-4o-mini\",\n    \"gpt-4.1\",\n    \"gpt-5\",\n    \"gpt-5-mini\",\n    \"gpt-5-nano\",\n    \"gpt-4o-priority\",\n    \"gpt-4o-mini-priority\",\n    \"gpt-4.1-priority\",\n    \"gpt-5-priority\",\n    \"gpt-5-mini-priority\",\n    \"gpt-5-nano-priority\",\n    \"gemma-7b-it\",\n    \"llama3-8b-8192\",\n    \"llama3-70b-8192\",\n    \"llama-3.1-70b-versatile\",\n    \"llama-3.3-70b-versatile\",\n    \"llama-3.1-8b-instant\",\n    \"moonshotai/kimi-k2-instruct\",\n    \"accounts/fireworks/models/mixtral-8x7b-instruct\",\n    \"accounts/fireworks/models/llama-v3p1-405b-instruct\",\n    \"accounts/fireworks/models/llama-v3p1-70b-instruct\",\n    \"accounts/fireworks/models/llama-v3p1-8b-instruct\",\n    \"sonar\",\n    \"sonar-pro\",\n    \"sambanova\",\n    \"DeepSeek-R1-Distill-Llama-70B\",\n    \"Llama-4-Maverick-17B-128E-Instruct\",\n    \"Qwen3-32B\",\n    \"grok-4-fast-non-reasoning-latest\",\n    \"ellm\",\n    \"custom-language-model\",\n    \"hume-evi-3-web-search\",\n]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ModelProviderEnum = core.serialization.enum_([\n    \"GROQ\",\n    \"OPEN_AI\",\n    \"FIREWORKS\",\n    \"ANTHROPIC\",\n    \"CUSTOM_LANGUAGE_MODEL\",\n    \"GOOGLE\",\n    \"HUME_AI\",\n    \"AMAZON_BEDROCK\",\n    \"PERPLEXITY\",\n    \"SAMBANOVA\",\n    \"CEREBRAS\",\n]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { LanguageModelType } from \"./LanguageModelType.mjs\";\nimport { ModelProviderEnum } from \"./ModelProviderEnum.mjs\";\nexport const PostedLanguageModel = core.serialization.object({\n    modelProvider: core.serialization.property(\"model_provider\", ModelProviderEnum.optional()),\n    modelResource: core.serialization.property(\"model_resource\", LanguageModelType.optional()),\n    temperature: core.serialization.number().optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const PostedNudgeSpec = core.serialization.object({\n    enabled: core.serialization.boolean().optional(),\n    intervalSecs: core.serialization.property(\"interval_secs\", core.serialization.number().optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const PostedTimeoutSpecsInactivity = core.serialization.object({\n    durationSecs: core.serialization.property(\"duration_secs\", core.serialization.number().optional()),\n    enabled: core.serialization.boolean(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const PostedTimeoutSpecsMaxDuration = core.serialization.object({\n    durationSecs: core.serialization.property(\"duration_secs\", core.serialization.number().optional()),\n    enabled: core.serialization.boolean(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { PostedTimeoutSpecsInactivity } from \"./PostedTimeoutSpecsInactivity.mjs\";\nimport { PostedTimeoutSpecsMaxDuration } from \"./PostedTimeoutSpecsMaxDuration.mjs\";\nexport const PostedTimeoutSpecs = core.serialization.object({\n    inactivity: PostedTimeoutSpecsInactivity.optional(),\n    maxDuration: core.serialization.property(\"max_duration\", PostedTimeoutSpecsMaxDuration.optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const PostedUserDefinedToolSpec = core.serialization.object({\n    id: core.serialization.string(),\n    version: core.serialization.number().optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const PostedWebhookEventType = core.serialization.enum_([\"chat_started\", \"chat_ended\", \"tool_call\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { PostedWebhookEventType } from \"./PostedWebhookEventType.mjs\";\nexport const PostedWebhookSpec = core.serialization.object({\n    events: core.serialization.list(PostedWebhookEventType),\n    url: core.serialization.string(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const VoiceProvider = core.serialization.enum_([\"HUME_AI\", \"CUSTOM_VOICE\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { VoiceProvider } from \"./VoiceProvider.mjs\";\nexport const VoiceId = core.serialization.object({\n    id: core.serialization.string(),\n    provider: VoiceProvider.optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { VoiceProvider } from \"./VoiceProvider.mjs\";\nexport const VoiceName = core.serialization.object({\n    name: core.serialization.string(),\n    provider: VoiceProvider.optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { VoiceId } from \"./VoiceId.mjs\";\nimport { VoiceName } from \"./VoiceName.mjs\";\nexport const VoiceRef = core.serialization.undiscriminatedUnion([VoiceId, VoiceName]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../../../../core/index.mjs\";\nimport { PostedBuiltinTool } from \"../../../../types/PostedBuiltinTool.mjs\";\nimport { PostedConfigPromptSpec } from \"../../../../types/PostedConfigPromptSpec.mjs\";\nimport { PostedEllmModel } from \"../../../../types/PostedEllmModel.mjs\";\nimport { PostedEventMessageSpecs } from \"../../../../types/PostedEventMessageSpecs.mjs\";\nimport { PostedLanguageModel } from \"../../../../types/PostedLanguageModel.mjs\";\nimport { PostedNudgeSpec } from \"../../../../types/PostedNudgeSpec.mjs\";\nimport { PostedTimeoutSpecs } from \"../../../../types/PostedTimeoutSpecs.mjs\";\nimport { PostedUserDefinedToolSpec } from \"../../../../types/PostedUserDefinedToolSpec.mjs\";\nimport { PostedWebhookSpec } from \"../../../../types/PostedWebhookSpec.mjs\";\nimport { VoiceRef } from \"../../../../types/VoiceRef.mjs\";\nexport const PostedConfig = core.serialization.object({\n    builtinTools: core.serialization.property(\"builtin_tools\", core.serialization.list(PostedBuiltinTool.optional()).optional()),\n    ellmModel: core.serialization.property(\"ellm_model\", PostedEllmModel.optional()),\n    eventMessages: core.serialization.property(\"event_messages\", PostedEventMessageSpecs.optional()),\n    eviVersion: core.serialization.property(\"evi_version\", core.serialization.string()),\n    languageModel: core.serialization.property(\"language_model\", PostedLanguageModel.optional()),\n    name: core.serialization.string(),\n    nudges: PostedNudgeSpec.optional(),\n    prompt: PostedConfigPromptSpec.optional(),\n    timeouts: PostedTimeoutSpecs.optional(),\n    tools: core.serialization.list(PostedUserDefinedToolSpec.optional()).optional(),\n    versionDescription: core.serialization.property(\"version_description\", core.serialization.string().optional()),\n    voice: VoiceRef.optional(),\n    webhooks: core.serialization.list(PostedWebhookSpec.optional()).optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../../../../core/index.mjs\";\nexport const PostedConfigName = core.serialization.object({\n    name: core.serialization.string(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../../../../core/index.mjs\";\nimport { PostedBuiltinTool } from \"../../../../types/PostedBuiltinTool.mjs\";\nimport { PostedConfigPromptSpec } from \"../../../../types/PostedConfigPromptSpec.mjs\";\nimport { PostedEllmModel } from \"../../../../types/PostedEllmModel.mjs\";\nimport { PostedEventMessageSpecs } from \"../../../../types/PostedEventMessageSpecs.mjs\";\nimport { PostedLanguageModel } from \"../../../../types/PostedLanguageModel.mjs\";\nimport { PostedNudgeSpec } from \"../../../../types/PostedNudgeSpec.mjs\";\nimport { PostedTimeoutSpecs } from \"../../../../types/PostedTimeoutSpecs.mjs\";\nimport { PostedUserDefinedToolSpec } from \"../../../../types/PostedUserDefinedToolSpec.mjs\";\nimport { PostedWebhookSpec } from \"../../../../types/PostedWebhookSpec.mjs\";\nimport { VoiceRef } from \"../../../../types/VoiceRef.mjs\";\nexport const PostedConfigVersion = core.serialization.object({\n    builtinTools: core.serialization.property(\"builtin_tools\", core.serialization.list(PostedBuiltinTool.optional()).optional()),\n    ellmModel: core.serialization.property(\"ellm_model\", PostedEllmModel.optional()),\n    eventMessages: core.serialization.property(\"event_messages\", PostedEventMessageSpecs.optional()),\n    eviVersion: core.serialization.property(\"evi_version\", core.serialization.string()),\n    languageModel: core.serialization.property(\"language_model\", PostedLanguageModel.optional()),\n    nudges: PostedNudgeSpec.optional(),\n    prompt: PostedConfigPromptSpec.optional(),\n    timeouts: PostedTimeoutSpecs.optional(),\n    tools: core.serialization.list(PostedUserDefinedToolSpec.optional()).optional(),\n    versionDescription: core.serialization.property(\"version_description\", core.serialization.string().optional()),\n    voice: VoiceRef.optional(),\n    webhooks: core.serialization.list(PostedWebhookSpec.optional()).optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../../../../core/index.mjs\";\nexport const PostedConfigVersionDescription = core.serialization.object({\n    versionDescription: core.serialization.property(\"version_description\", core.serialization.string().optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../../../../core/index.mjs\";\nimport { SubscribeEvent } from \"../../../../types/SubscribeEvent.mjs\";\nexport const ControlPlaneSocketResponse = core.serialization.undiscriminatedUnion([SubscribeEvent]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../../../../core/index.mjs\";\nexport const PostedPrompt = core.serialization.object({\n    name: core.serialization.string(),\n    text: core.serialization.string(),\n    versionDescription: core.serialization.property(\"version_description\", core.serialization.string().optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../../../../core/index.mjs\";\nexport const PostedPromptName = core.serialization.object({\n    name: core.serialization.string(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../../../../core/index.mjs\";\nexport const PostedPromptVersion = core.serialization.object({\n    text: core.serialization.string(),\n    versionDescription: core.serialization.property(\"version_description\", core.serialization.string().optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../../../../core/index.mjs\";\nexport const PostedPromptVersionDescription = core.serialization.object({\n    versionDescription: core.serialization.property(\"version_description\", core.serialization.string().optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnPrompt = core.serialization.object({\n    createdOn: core.serialization.property(\"created_on\", core.serialization.number()),\n    id: core.serialization.string(),\n    modifiedOn: core.serialization.property(\"modified_on\", core.serialization.number()),\n    name: core.serialization.string(),\n    text: core.serialization.string(),\n    version: core.serialization.number(),\n    versionDescription: core.serialization.property(\"version_description\", core.serialization.string().optional()),\n    versionType: core.serialization.property(\"version_type\", core.serialization.string()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport { ReturnPrompt } from \"../../../types/ReturnPrompt.mjs\";\nexport const Response = ReturnPrompt.optional();\n","// This file was auto-generated by Fern from our API Definition.\nimport { ReturnPrompt } from \"../../../types/ReturnPrompt.mjs\";\nexport const Response = ReturnPrompt.optional();\n","// This file was auto-generated by Fern from our API Definition.\nimport { ReturnPrompt } from \"../../../types/ReturnPrompt.mjs\";\nexport const Response = ReturnPrompt.optional();\n","// This file was auto-generated by Fern from our API Definition.\nimport { ReturnPrompt } from \"../../../types/ReturnPrompt.mjs\";\nexport const Response = ReturnPrompt.optional();\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../../../../core/index.mjs\";\nexport const PostedUserDefinedTool = core.serialization.object({\n    description: core.serialization.string().optional(),\n    fallbackContent: core.serialization.property(\"fallback_content\", core.serialization.string().optional()),\n    name: core.serialization.string(),\n    parameters: core.serialization.string(),\n    versionDescription: core.serialization.property(\"version_description\", core.serialization.string().optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../../../../core/index.mjs\";\nexport const PostedUserDefinedToolName = core.serialization.object({\n    name: core.serialization.string(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../../../../core/index.mjs\";\nexport const PostedUserDefinedToolVersion = core.serialization.object({\n    description: core.serialization.string().optional(),\n    fallbackContent: core.serialization.property(\"fallback_content\", core.serialization.string().optional()),\n    parameters: core.serialization.string(),\n    versionDescription: core.serialization.property(\"version_description\", core.serialization.string().optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../../../../core/index.mjs\";\nexport const PostedUserDefinedToolVersionDescription = core.serialization.object({\n    versionDescription: core.serialization.property(\"version_description\", core.serialization.string().optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnUserDefinedToolToolType = core.serialization.enum_([\"BUILTIN\", \"FUNCTION\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnUserDefinedToolVersionType = core.serialization.enum_([\"FIXED\", \"LATEST\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnUserDefinedToolToolType } from \"./ReturnUserDefinedToolToolType.mjs\";\nimport { ReturnUserDefinedToolVersionType } from \"./ReturnUserDefinedToolVersionType.mjs\";\nexport const ReturnUserDefinedTool = core.serialization.object({\n    createdOn: core.serialization.property(\"created_on\", core.serialization.number()),\n    description: core.serialization.string().optional(),\n    fallbackContent: core.serialization.property(\"fallback_content\", core.serialization.string().optional()),\n    id: core.serialization.string(),\n    modifiedOn: core.serialization.property(\"modified_on\", core.serialization.number()),\n    name: core.serialization.string(),\n    parameters: core.serialization.string(),\n    toolType: core.serialization.property(\"tool_type\", ReturnUserDefinedToolToolType),\n    version: core.serialization.number(),\n    versionDescription: core.serialization.property(\"version_description\", core.serialization.string().optional()),\n    versionType: core.serialization.property(\"version_type\", ReturnUserDefinedToolVersionType),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport { ReturnUserDefinedTool } from \"../../../types/ReturnUserDefinedTool.mjs\";\nexport const Response = ReturnUserDefinedTool.optional();\n","// This file was auto-generated by Fern from our API Definition.\nimport { ReturnUserDefinedTool } from \"../../../types/ReturnUserDefinedTool.mjs\";\nexport const Response = ReturnUserDefinedTool.optional();\n","// This file was auto-generated by Fern from our API Definition.\nimport { ReturnUserDefinedTool } from \"../../../types/ReturnUserDefinedTool.mjs\";\nexport const Response = ReturnUserDefinedTool.optional();\n","// This file was auto-generated by Fern from our API Definition.\nimport { ReturnUserDefinedTool } from \"../../../types/ReturnUserDefinedTool.mjs\";\nexport const Response = ReturnUserDefinedTool.optional();\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { Encoding } from \"./Encoding.mjs\";\nexport const ConnectSessionSettingsAudio = core.serialization.object({\n    channels: core.serialization.number().optional(),\n    encoding: Encoding.optional(),\n    sampleRate: core.serialization.property(\"sample_rate\", core.serialization.number().optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ContextType } from \"./ContextType.mjs\";\nexport const ConnectSessionSettingsContext = core.serialization.object({\n    text: core.serialization.string().optional(),\n    type: ContextType.optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ConnectSessionSettingsVariablesValue = core.serialization.undiscriminatedUnion([\n    core.serialization.string(),\n    core.serialization.number(),\n    core.serialization.boolean(),\n]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ConnectSessionSettingsAudio } from \"./ConnectSessionSettingsAudio.mjs\";\nimport { ConnectSessionSettingsContext } from \"./ConnectSessionSettingsContext.mjs\";\nimport { ConnectSessionSettingsVariablesValue } from \"./ConnectSessionSettingsVariablesValue.mjs\";\nexport const ConnectSessionSettings = core.serialization.object({\n    audio: ConnectSessionSettingsAudio.optional(),\n    context: ConnectSessionSettingsContext.optional(),\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    eventLimit: core.serialization.property(\"event_limit\", core.serialization.number().optional()),\n    languageModelApiKey: core.serialization.property(\"language_model_api_key\", core.serialization.string().optional()),\n    systemPrompt: core.serialization.property(\"system_prompt\", core.serialization.string().optional()),\n    voiceId: core.serialization.property(\"voice_id\", core.serialization.string().optional()),\n    variables: core.serialization.record(core.serialization.string(), ConnectSessionSettingsVariablesValue).optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { AssistantInput } from \"./AssistantInput.mjs\";\nimport { PauseAssistantMessage } from \"./PauseAssistantMessage.mjs\";\nimport { ResumeAssistantMessage } from \"./ResumeAssistantMessage.mjs\";\nimport { SessionSettings } from \"./SessionSettings.mjs\";\nimport { ToolErrorMessage } from \"./ToolErrorMessage.mjs\";\nimport { ToolResponseMessage } from \"./ToolResponseMessage.mjs\";\nimport { UserInput } from \"./UserInput.mjs\";\nexport const ControlPlanePublishEvent = core.serialization.undiscriminatedUnion([\n    SessionSettings,\n    UserInput,\n    AssistantInput,\n    ToolResponseMessage,\n    ToolErrorMessage,\n    PauseAssistantMessage,\n    ResumeAssistantMessage,\n]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ErrorResponse = core.serialization.object({\n    code: core.serialization.string().optional(),\n    error: core.serialization.string().optional(),\n    message: core.serialization.string().optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ValidationErrorLocItem = core.serialization.undiscriminatedUnion([core.serialization.string(), core.serialization.number()]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ValidationErrorLocItem } from \"./ValidationErrorLocItem.mjs\";\nexport const ValidationError = core.serialization.object({\n    loc: core.serialization.list(ValidationErrorLocItem),\n    msg: core.serialization.string(),\n    type: core.serialization.string(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ValidationError } from \"./ValidationError.mjs\";\nexport const HttpValidationError = core.serialization.object({\n    detail: core.serialization.list(ValidationError).optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { AssistantEnd } from \"./AssistantEnd.mjs\";\nimport { AssistantMessage } from \"./AssistantMessage.mjs\";\nimport { AssistantProsody } from \"./AssistantProsody.mjs\";\nimport { ChatMetadata } from \"./ChatMetadata.mjs\";\nimport { SessionSettings } from \"./SessionSettings.mjs\";\nimport { ToolCallMessage } from \"./ToolCallMessage.mjs\";\nimport { ToolErrorMessage } from \"./ToolErrorMessage.mjs\";\nimport { ToolResponseMessage } from \"./ToolResponseMessage.mjs\";\nimport { UserInterruption } from \"./UserInterruption.mjs\";\nimport { UserMessage } from \"./UserMessage.mjs\";\nimport { WebSocketError } from \"./WebSocketError.mjs\";\nexport const JsonMessage = core.serialization.undiscriminatedUnion([\n    AssistantEnd,\n    AssistantMessage,\n    AssistantProsody,\n    ChatMetadata,\n    WebSocketError,\n    UserInterruption,\n    UserMessage,\n    ToolCallMessage,\n    ToolResponseMessage,\n    ToolErrorMessage,\n    SessionSettings,\n]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const PostedTimeoutSpec = core.serialization.object({\n    durationSecs: core.serialization.property(\"duration_secs\", core.serialization.number().optional()),\n    enabled: core.serialization.boolean(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnBuiltinToolToolType = core.serialization.enum_([\"BUILTIN\", \"FUNCTION\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnBuiltinToolToolType } from \"./ReturnBuiltinToolToolType.mjs\";\nexport const ReturnBuiltinTool = core.serialization.object({\n    fallbackContent: core.serialization.property(\"fallback_content\", core.serialization.string().optional()),\n    name: core.serialization.string(),\n    toolType: core.serialization.property(\"tool_type\", ReturnBuiltinToolToolType),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnChatStatus = core.serialization.enum_([\n    \"ACTIVE\",\n    \"USER_ENDED\",\n    \"USER_TIMEOUT\",\n    \"MAX_DURATION_TIMEOUT\",\n    \"INACTIVITY_TIMEOUT\",\n    \"ERROR\",\n]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnConfigSpec = core.serialization.object({\n    id: core.serialization.string(),\n    version: core.serialization.number().optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnChatStatus } from \"./ReturnChatStatus.mjs\";\nimport { ReturnConfigSpec } from \"./ReturnConfigSpec.mjs\";\nexport const ReturnChat = core.serialization.object({\n    chatGroupId: core.serialization.property(\"chat_group_id\", core.serialization.string()),\n    config: ReturnConfigSpec.optional(),\n    endTimestamp: core.serialization.property(\"end_timestamp\", core.serialization.number().optional()),\n    eventCount: core.serialization.property(\"event_count\", core.serialization.number().optional()),\n    id: core.serialization.string(),\n    metadata: core.serialization.string().optional(),\n    startTimestamp: core.serialization.property(\"start_timestamp\", core.serialization.number()),\n    status: ReturnChatStatus,\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnChatAudioReconstructionStatus = core.serialization.enum_([\"QUEUED\", \"IN_PROGRESS\", \"COMPLETE\", \"ERROR\", \"CANCELLED\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnChatAudioReconstructionStatus } from \"./ReturnChatAudioReconstructionStatus.mjs\";\nexport const ReturnChatAudioReconstruction = core.serialization.object({\n    filename: core.serialization.string().optional(),\n    id: core.serialization.string(),\n    modifiedAt: core.serialization.property(\"modified_at\", core.serialization.number().optional()),\n    signedAudioUrl: core.serialization.property(\"signed_audio_url\", core.serialization.string().optional()),\n    signedUrlExpirationTimestampMillis: core.serialization.property(\"signed_url_expiration_timestamp_millis\", core.serialization.number().optional()),\n    status: ReturnChatAudioReconstructionStatus,\n    userId: core.serialization.property(\"user_id\", core.serialization.string()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnChatEventRole = core.serialization.enum_([\"USER\", \"AGENT\", \"SYSTEM\", \"TOOL\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnChatEventType = core.serialization.enum_([\n    \"FUNCTION_CALL\",\n    \"FUNCTION_CALL_RESPONSE\",\n    \"CHAT_END_MESSAGE\",\n    \"AGENT_MESSAGE\",\n    \"SYSTEM_PROMPT\",\n    \"USER_RECORDING_START_MESSAGE\",\n    \"RESUME_ONSET\",\n    \"USER_INTERRUPTION\",\n    \"CHAT_START_MESSAGE\",\n    \"PAUSE_ONSET\",\n    \"USER_MESSAGE\",\n]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnChatEventRole } from \"./ReturnChatEventRole.mjs\";\nimport { ReturnChatEventType } from \"./ReturnChatEventType.mjs\";\nexport const ReturnChatEvent = core.serialization.object({\n    chatId: core.serialization.property(\"chat_id\", core.serialization.string()),\n    emotionFeatures: core.serialization.property(\"emotion_features\", core.serialization.string().optional()),\n    id: core.serialization.string(),\n    messageText: core.serialization.property(\"message_text\", core.serialization.string().optional()),\n    metadata: core.serialization.string().optional(),\n    relatedEventId: core.serialization.property(\"related_event_id\", core.serialization.string().optional()),\n    role: ReturnChatEventRole,\n    timestamp: core.serialization.number(),\n    type: ReturnChatEventType,\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnConfigSpec } from \"./ReturnConfigSpec.mjs\";\nexport const ReturnChatGroup = core.serialization.object({\n    active: core.serialization.boolean().optional(),\n    firstStartTimestamp: core.serialization.property(\"first_start_timestamp\", core.serialization.number()),\n    id: core.serialization.string(),\n    mostRecentChatId: core.serialization.property(\"most_recent_chat_id\", core.serialization.string().optional()),\n    mostRecentConfig: core.serialization.property(\"most_recent_config\", ReturnConfigSpec.optional()),\n    mostRecentStartTimestamp: core.serialization.property(\"most_recent_start_timestamp\", core.serialization.number()),\n    numChats: core.serialization.property(\"num_chats\", core.serialization.number()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnChatGroupPagedAudioReconstructionsPaginationDirection = core.serialization.enum_([\"ASC\", \"DESC\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnChatAudioReconstruction } from \"./ReturnChatAudioReconstruction.mjs\";\nimport { ReturnChatGroupPagedAudioReconstructionsPaginationDirection } from \"./ReturnChatGroupPagedAudioReconstructionsPaginationDirection.mjs\";\nexport const ReturnChatGroupPagedAudioReconstructions = core.serialization.object({\n    audioReconstructionsPage: core.serialization.property(\"audio_reconstructions_page\", core.serialization.list(ReturnChatAudioReconstruction)),\n    id: core.serialization.string(),\n    numChats: core.serialization.property(\"num_chats\", core.serialization.number()),\n    pageNumber: core.serialization.property(\"page_number\", core.serialization.number()),\n    pageSize: core.serialization.property(\"page_size\", core.serialization.number()),\n    paginationDirection: core.serialization.property(\"pagination_direction\", ReturnChatGroupPagedAudioReconstructionsPaginationDirection),\n    totalPages: core.serialization.property(\"total_pages\", core.serialization.number()),\n    userId: core.serialization.property(\"user_id\", core.serialization.string()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnChatGroupPagedChatsPaginationDirection = core.serialization.enum_([\"ASC\", \"DESC\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnChat } from \"./ReturnChat.mjs\";\nimport { ReturnChatGroupPagedChatsPaginationDirection } from \"./ReturnChatGroupPagedChatsPaginationDirection.mjs\";\nexport const ReturnChatGroupPagedChats = core.serialization.object({\n    active: core.serialization.boolean().optional(),\n    chatsPage: core.serialization.property(\"chats_page\", core.serialization.list(ReturnChat)),\n    firstStartTimestamp: core.serialization.property(\"first_start_timestamp\", core.serialization.number()),\n    id: core.serialization.string(),\n    mostRecentStartTimestamp: core.serialization.property(\"most_recent_start_timestamp\", core.serialization.number()),\n    numChats: core.serialization.property(\"num_chats\", core.serialization.number()),\n    pageNumber: core.serialization.property(\"page_number\", core.serialization.number()),\n    pageSize: core.serialization.property(\"page_size\", core.serialization.number()),\n    paginationDirection: core.serialization.property(\"pagination_direction\", ReturnChatGroupPagedChatsPaginationDirection),\n    totalPages: core.serialization.property(\"total_pages\", core.serialization.number()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnChatGroupPagedEventsPaginationDirection = core.serialization.enum_([\"ASC\", \"DESC\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnChatEvent } from \"./ReturnChatEvent.mjs\";\nimport { ReturnChatGroupPagedEventsPaginationDirection } from \"./ReturnChatGroupPagedEventsPaginationDirection.mjs\";\nexport const ReturnChatGroupPagedEvents = core.serialization.object({\n    eventsPage: core.serialization.property(\"events_page\", core.serialization.list(ReturnChatEvent)),\n    id: core.serialization.string(),\n    pageNumber: core.serialization.property(\"page_number\", core.serialization.number()),\n    pageSize: core.serialization.property(\"page_size\", core.serialization.number()),\n    paginationDirection: core.serialization.property(\"pagination_direction\", ReturnChatGroupPagedEventsPaginationDirection),\n    totalPages: core.serialization.property(\"total_pages\", core.serialization.number()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnChatPagedEventsPaginationDirection = core.serialization.enum_([\"ASC\", \"DESC\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnChatPagedEventsStatus = core.serialization.enum_([\n    \"ACTIVE\",\n    \"USER_ENDED\",\n    \"USER_TIMEOUT\",\n    \"MAX_DURATION_TIMEOUT\",\n    \"INACTIVITY_TIMEOUT\",\n    \"ERROR\",\n]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnChatEvent } from \"./ReturnChatEvent.mjs\";\nimport { ReturnChatPagedEventsPaginationDirection } from \"./ReturnChatPagedEventsPaginationDirection.mjs\";\nimport { ReturnChatPagedEventsStatus } from \"./ReturnChatPagedEventsStatus.mjs\";\nimport { ReturnConfigSpec } from \"./ReturnConfigSpec.mjs\";\nexport const ReturnChatPagedEvents = core.serialization.object({\n    chatGroupId: core.serialization.property(\"chat_group_id\", core.serialization.string()),\n    config: ReturnConfigSpec.optional(),\n    endTimestamp: core.serialization.property(\"end_timestamp\", core.serialization.number().optional()),\n    eventsPage: core.serialization.property(\"events_page\", core.serialization.list(ReturnChatEvent)),\n    id: core.serialization.string(),\n    metadata: core.serialization.string().optional(),\n    pageNumber: core.serialization.property(\"page_number\", core.serialization.number()),\n    pageSize: core.serialization.property(\"page_size\", core.serialization.number()),\n    paginationDirection: core.serialization.property(\"pagination_direction\", ReturnChatPagedEventsPaginationDirection),\n    startTimestamp: core.serialization.property(\"start_timestamp\", core.serialization.number()),\n    status: ReturnChatPagedEventsStatus,\n    totalPages: core.serialization.property(\"total_pages\", core.serialization.number()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnEllmModel = core.serialization.object({\n    allowShortResponses: core.serialization.property(\"allow_short_responses\", core.serialization.boolean()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnEventMessageSpec = core.serialization.object({\n    enabled: core.serialization.boolean(),\n    text: core.serialization.string().optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnEventMessageSpec } from \"./ReturnEventMessageSpec.mjs\";\nexport const ReturnEventMessageSpecs = core.serialization.object({\n    onInactivityTimeout: core.serialization.property(\"on_inactivity_timeout\", ReturnEventMessageSpec.optional()),\n    onMaxDurationTimeout: core.serialization.property(\"on_max_duration_timeout\", ReturnEventMessageSpec.optional()),\n    onNewChat: core.serialization.property(\"on_new_chat\", ReturnEventMessageSpec.optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { LanguageModelType } from \"./LanguageModelType.mjs\";\nimport { ModelProviderEnum } from \"./ModelProviderEnum.mjs\";\nexport const ReturnLanguageModel = core.serialization.object({\n    modelProvider: core.serialization.property(\"model_provider\", ModelProviderEnum.optional()),\n    modelResource: core.serialization.property(\"model_resource\", LanguageModelType.optional()),\n    temperature: core.serialization.number().optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnNudgeSpec = core.serialization.object({\n    enabled: core.serialization.boolean(),\n    intervalSecs: core.serialization.property(\"interval_secs\", core.serialization.number().optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnTimeoutSpec = core.serialization.object({\n    durationSecs: core.serialization.property(\"duration_secs\", core.serialization.number().optional()),\n    enabled: core.serialization.boolean(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnTimeoutSpec } from \"./ReturnTimeoutSpec.mjs\";\nexport const ReturnTimeoutSpecs = core.serialization.object({\n    inactivity: ReturnTimeoutSpec,\n    maxDuration: core.serialization.property(\"max_duration\", ReturnTimeoutSpec),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { VoiceProvider } from \"./VoiceProvider.mjs\";\nexport const ReturnVoice = core.serialization.object({\n    compatibleOctaveModels: core.serialization.property(\"compatible_octave_models\", core.serialization.list(core.serialization.string()).optional()),\n    id: core.serialization.string().optional(),\n    name: core.serialization.string().optional(),\n    provider: VoiceProvider.optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnWebhookEventType = core.serialization.enum_([\"chat_started\", \"chat_ended\", \"tool_call\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnWebhookEventType } from \"./ReturnWebhookEventType.mjs\";\nexport const ReturnWebhookSpec = core.serialization.object({\n    events: core.serialization.list(ReturnWebhookEventType),\n    url: core.serialization.string(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnBuiltinTool } from \"./ReturnBuiltinTool.mjs\";\nimport { ReturnEllmModel } from \"./ReturnEllmModel.mjs\";\nimport { ReturnEventMessageSpecs } from \"./ReturnEventMessageSpecs.mjs\";\nimport { ReturnLanguageModel } from \"./ReturnLanguageModel.mjs\";\nimport { ReturnNudgeSpec } from \"./ReturnNudgeSpec.mjs\";\nimport { ReturnPrompt } from \"./ReturnPrompt.mjs\";\nimport { ReturnTimeoutSpecs } from \"./ReturnTimeoutSpecs.mjs\";\nimport { ReturnUserDefinedTool } from \"./ReturnUserDefinedTool.mjs\";\nimport { ReturnVoice } from \"./ReturnVoice.mjs\";\nimport { ReturnWebhookSpec } from \"./ReturnWebhookSpec.mjs\";\nexport const ReturnConfig = core.serialization.object({\n    builtinTools: core.serialization.property(\"builtin_tools\", core.serialization.list(ReturnBuiltinTool.optional()).optional()),\n    createdOn: core.serialization.property(\"created_on\", core.serialization.number().optional()),\n    ellmModel: core.serialization.property(\"ellm_model\", ReturnEllmModel.optional()),\n    eventMessages: core.serialization.property(\"event_messages\", ReturnEventMessageSpecs.optional()),\n    eviVersion: core.serialization.property(\"evi_version\", core.serialization.string().optional()),\n    id: core.serialization.string().optional(),\n    languageModel: core.serialization.property(\"language_model\", ReturnLanguageModel.optional()),\n    modifiedOn: core.serialization.property(\"modified_on\", core.serialization.number().optional()),\n    name: core.serialization.string().optional(),\n    nudges: ReturnNudgeSpec.optional(),\n    prompt: ReturnPrompt.optional(),\n    timeouts: ReturnTimeoutSpecs.optional(),\n    tools: core.serialization.list(ReturnUserDefinedTool.optional()).optional(),\n    version: core.serialization.number().optional(),\n    versionDescription: core.serialization.property(\"version_description\", core.serialization.string().optional()),\n    voice: ReturnVoice.optional(),\n    webhooks: core.serialization.list(ReturnWebhookSpec.optional()).optional(),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnPagedChatGroupsPaginationDirection = core.serialization.enum_([\"ASC\", \"DESC\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnChatGroup } from \"./ReturnChatGroup.mjs\";\nimport { ReturnPagedChatGroupsPaginationDirection } from \"./ReturnPagedChatGroupsPaginationDirection.mjs\";\nexport const ReturnPagedChatGroups = core.serialization.object({\n    chatGroupsPage: core.serialization.property(\"chat_groups_page\", core.serialization.list(ReturnChatGroup)),\n    pageNumber: core.serialization.property(\"page_number\", core.serialization.number()),\n    pageSize: core.serialization.property(\"page_size\", core.serialization.number()),\n    paginationDirection: core.serialization.property(\"pagination_direction\", ReturnPagedChatGroupsPaginationDirection),\n    totalPages: core.serialization.property(\"total_pages\", core.serialization.number()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnPagedChatsPaginationDirection = core.serialization.enum_([\"ASC\", \"DESC\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnChat } from \"./ReturnChat.mjs\";\nimport { ReturnPagedChatsPaginationDirection } from \"./ReturnPagedChatsPaginationDirection.mjs\";\nexport const ReturnPagedChats = core.serialization.object({\n    chatsPage: core.serialization.property(\"chats_page\", core.serialization.list(ReturnChat)),\n    pageNumber: core.serialization.property(\"page_number\", core.serialization.number()),\n    pageSize: core.serialization.property(\"page_size\", core.serialization.number()),\n    paginationDirection: core.serialization.property(\"pagination_direction\", ReturnPagedChatsPaginationDirection),\n    totalPages: core.serialization.property(\"total_pages\", core.serialization.number()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnConfig } from \"./ReturnConfig.mjs\";\nexport const ReturnPagedConfigs = core.serialization.object({\n    configsPage: core.serialization.property(\"configs_page\", core.serialization.list(ReturnConfig).optional()),\n    pageNumber: core.serialization.property(\"page_number\", core.serialization.number().optional()),\n    pageSize: core.serialization.property(\"page_size\", core.serialization.number().optional()),\n    totalPages: core.serialization.property(\"total_pages\", core.serialization.number()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnPrompt } from \"./ReturnPrompt.mjs\";\nexport const ReturnPagedPrompts = core.serialization.object({\n    pageNumber: core.serialization.property(\"page_number\", core.serialization.number()),\n    pageSize: core.serialization.property(\"page_size\", core.serialization.number()),\n    promptsPage: core.serialization.property(\"prompts_page\", core.serialization.list(ReturnPrompt.optional())),\n    totalPages: core.serialization.property(\"total_pages\", core.serialization.number()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ReturnUserDefinedTool } from \"./ReturnUserDefinedTool.mjs\";\nexport const ReturnPagedUserDefinedTools = core.serialization.object({\n    pageNumber: core.serialization.property(\"page_number\", core.serialization.number()),\n    pageSize: core.serialization.property(\"page_size\", core.serialization.number()),\n    toolsPage: core.serialization.property(\"tools_page\", core.serialization.list(ReturnUserDefinedTool.optional())),\n    totalPages: core.serialization.property(\"total_pages\", core.serialization.number()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const ReturnPromptVersionType = core.serialization.enum_([\"FIXED\", \"LATEST\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const WebhookEventBase = core.serialization.object({\n    chatGroupId: core.serialization.property(\"chat_group_id\", core.serialization.string()),\n    chatId: core.serialization.property(\"chat_id\", core.serialization.string()),\n    configId: core.serialization.property(\"config_id\", core.serialization.string().optional()),\n});\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const WebhookEventChatStatus = core.serialization.enum_([\n    \"ACTIVE\",\n    \"USER_ENDED\",\n    \"USER_TIMEOUT\",\n    \"INACTIVITY_TIMEOUT\",\n    \"MAX_DURATION_TIMEOUT\",\n    \"SILENCE_TIMEOUT\",\n    \"ERROR\",\n]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { WebhookEventBase } from \"./WebhookEventBase.mjs\";\nimport { WebhookEventChatStatus } from \"./WebhookEventChatStatus.mjs\";\nexport const WebhookEventChatEnded = core.serialization\n    .object({\n    callerNumber: core.serialization.property(\"caller_number\", core.serialization.string().optional()),\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    durationSeconds: core.serialization.property(\"duration_seconds\", core.serialization.number()),\n    endReason: core.serialization.property(\"end_reason\", WebhookEventChatStatus),\n    endTime: core.serialization.property(\"end_time\", core.serialization.number()),\n    eventName: core.serialization.property(\"event_name\", core.serialization.stringLiteral(\"chat_ended\").optional()),\n})\n    .extend(WebhookEventBase);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nexport const WebhookEventChatStartType = core.serialization.enum_([\"new_chat_group\", \"resumed_chat_group\"]);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { WebhookEventBase } from \"./WebhookEventBase.mjs\";\nimport { WebhookEventChatStartType } from \"./WebhookEventChatStartType.mjs\";\nexport const WebhookEventChatStarted = core.serialization\n    .object({\n    callerNumber: core.serialization.property(\"caller_number\", core.serialization.string().optional()),\n    chatStartType: core.serialization.property(\"chat_start_type\", WebhookEventChatStartType),\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    eventName: core.serialization.property(\"event_name\", core.serialization.stringLiteral(\"chat_started\").optional()),\n    startTime: core.serialization.property(\"start_time\", core.serialization.number()),\n})\n    .extend(WebhookEventBase);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { ToolCallMessage } from \"./ToolCallMessage.mjs\";\nimport { WebhookEventBase } from \"./WebhookEventBase.mjs\";\nexport const WebhookEventToolCall = core.serialization\n    .object({\n    callerNumber: core.serialization.property(\"caller_number\", core.serialization.string().optional()),\n    customSessionId: core.serialization.property(\"custom_session_id\", core.serialization.string().optional()),\n    eventName: core.serialization.property(\"event_name\", core.serialization.stringLiteral(\"tool_call\").optional()),\n    timestamp: core.serialization.number(),\n    toolCallMessage: core.serialization.property(\"tool_call_message\", ToolCallMessage),\n})\n    .extend(WebhookEventBase);\n","// This file was auto-generated by Fern from our API Definition.\nimport * as core from \"../../../../core/index.mjs\";\nimport { WebhookEventChatEnded } from \"./WebhookEventChatEnded.mjs\";\nimport { WebhookEventChatStarted } from \"./WebhookEventChatStarted.mjs\";\nimport { WebhookEventToolCall } from \"./WebhookEventToolCall.mjs\";\nexport const WebhookEvent = core.serialization.undiscriminatedUnion([WebhookEventChatStarted, WebhookEventChatEnded, WebhookEventToolCall]);\n","/** THIS FILE IS MANUALLY MAINTAINED: see .fernignore */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as core from \"../../../../../../core/index.mjs\";\nimport * as Hume from \"../../../../../index.mjs\";\nimport { PublishEvent } from \"../../../../../../serialization/resources/empathicVoice/resources/chat/types/PublishEvent.mjs\";\nimport { fromJson } from \"../../../../../../core/json.mjs\";\nimport * as serializers from \"../../../../../../serialization/index.mjs\";\nexport class ChatSocket {\n    constructor(args) {\n        this.eventHandlers = {};\n        this.handleOpen = () => {\n            var _a, _b;\n            (_b = (_a = this.eventHandlers).open) === null || _b === void 0 ? void 0 : _b.call(_a);\n        };\n        this.handleMessage = (event) => {\n            var _a, _b, _c, _d;\n            const data = fromJson(event.data);\n            const parsedResponse = serializers.empathicVoice.ChatSocketResponse.parse(data, {\n                unrecognizedObjectKeys: \"passthrough\",\n                allowUnrecognizedUnionMembers: true,\n                allowUnrecognizedEnumValues: true,\n                skipValidation: true,\n                omitUndefined: true,\n            });\n            if (parsedResponse.ok) {\n                (_b = (_a = this.eventHandlers).message) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, parsedResponse.value), { receivedAt: new Date() }));\n            }\n            else {\n                (_d = (_c = this.eventHandlers).error) === null || _d === void 0 ? void 0 : _d.call(_c, new Error(\"Received unknown message type\"));\n            }\n        };\n        this.handleClose = (event) => {\n            var _a, _b;\n            (_b = (_a = this.eventHandlers).close) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n        };\n        this.handleError = (event) => {\n            var _a, _b;\n            const message = event.message;\n            (_b = (_a = this.eventHandlers).error) === null || _b === void 0 ? void 0 : _b.call(_a, new Error(message));\n        };\n        this.socket = args.socket;\n        this.socket.addEventListener(\"open\", this.handleOpen);\n        this.socket.addEventListener(\"message\", this.handleMessage);\n        this.socket.addEventListener(\"close\", this.handleClose);\n        this.socket.addEventListener(\"error\", this.handleError);\n    }\n    /** The current state of the connection; this is one of the readyState constants. */\n    get readyState() {\n        return this.socket.readyState;\n    }\n    /**\n     * @param event - The event to attach to.\n     * @param callback - The callback to run when the event is triggered.\n     * Usage:\n     * ```typescript\n     * this.on('open', () => {\n     *     console.log('The websocket is open');\n     * });\n     * ```\n     */\n    on(event, callback) {\n        this.eventHandlers[event] = callback;\n    }\n    sendPublish(message) {\n        this.assertSocketIsOpen();\n        const jsonPayload = PublishEvent.jsonOrThrow(message, {\n            unrecognizedObjectKeys: \"passthrough\",\n            allowUnrecognizedUnionMembers: true,\n            allowUnrecognizedEnumValues: true,\n            skipValidation: true,\n            omitUndefined: true,\n        });\n        this.socket.send(JSON.stringify(jsonPayload));\n    }\n    /**\n     * Send audio input\n     */\n    sendAudioInput(message) {\n        this.sendPublish(Object.assign({ type: \"audio_input\" }, message));\n    }\n    /**\n     * Send session settings\n     */\n    sendSessionSettings(message = {}) {\n        this.sendPublish(Object.assign({ type: \"session_settings\" }, message));\n    }\n    /**\n     * Send assistant input\n     */\n    sendAssistantInput(message) {\n        this.sendPublish(Object.assign({ type: \"assistant_input\" }, message));\n    }\n    /**\n     * Send pause assistant message\n     */\n    pauseAssistant(message = {}) {\n        this.sendPublish(Object.assign({ type: \"pause_assistant_message\" }, message));\n    }\n    /**\n     * Send resume assistant message\n     */\n    resumeAssistant(message = {}) {\n        this.sendPublish(Object.assign({ type: \"resume_assistant_message\" }, message));\n    }\n    /**\n     * Send tool response message\n     */\n    sendToolResponseMessage(message) {\n        this.sendPublish(Object.assign({ type: \"tool_response\" }, message));\n    }\n    /**\n     * Send tool error message\n     */\n    sendToolErrorMessage(message) {\n        this.sendPublish(Object.assign({ type: \"tool_error\" }, message));\n    }\n    /**\n     * Send text input\n     */\n    sendUserInput(text) {\n        this.sendPublish({\n            type: \"user_input\",\n            text,\n        });\n    }\n    /** Connect to the websocket and register event handlers. */\n    connect() {\n        this.socket.reconnect();\n        this.socket.addEventListener(\"open\", this.handleOpen);\n        this.socket.addEventListener(\"message\", this.handleMessage);\n        this.socket.addEventListener(\"close\", this.handleClose);\n        this.socket.addEventListener(\"error\", this.handleError);\n        return this;\n    }\n    /** Close the websocket and unregister event handlers. */\n    close() {\n        this.socket.close();\n        this.handleClose({ code: 1000 });\n        this.socket.removeEventListener(\"open\", this.handleOpen);\n        this.socket.removeEventListener(\"message\", this.handleMessage);\n        this.socket.removeEventListener(\"close\", this.handleClose);\n        this.socket.removeEventListener(\"error\", this.handleError);\n    }\n    /** Returns a promise that resolves when the websocket is open. */\n    waitForOpen() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.socket.readyState === core.ReconnectingWebSocket.OPEN) {\n                return this.socket;\n            }\n            return new Promise((resolve, reject) => {\n                this.socket.addEventListener(\"open\", () => {\n                    resolve(this.socket);\n                });\n                this.socket.addEventListener(\"error\", (event) => {\n                    reject(event);\n                });\n            });\n        });\n    }\n    /**\n     * @deprecated Use waitForOpen() instead\n     */\n    tillSocketOpen() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.waitForOpen();\n        });\n    }\n    /** Asserts that the websocket is open. */\n    assertSocketIsOpen() {\n        if (!this.socket) {\n            throw new Error(\"Socket is not connected.\");\n        }\n        if (this.socket.readyState !== core.ReconnectingWebSocket.OPEN) {\n            throw new Error(\"Socket is not open.\");\n        }\n    }\n    /** Send a binary payload to the websocket. */\n    sendBinary(payload) {\n        this.socket.send(payload);\n    }\n}\n","// This file was auto-generated by Fern from our API Definition.\nexport const HumeEnvironment = {\n    Prod: {\n        base: \"https://api.hume.ai\",\n        evi: \"wss://api.hume.ai/v0/evi\",\n        tts: \"wss://api.hume.ai/v0/tts\",\n        stream: \"wss://api.hume.ai/v0/stream\",\n    },\n};\n","export function encodePathParam(param) {\n    if (param === null) {\n        return \"null\";\n    }\n    const typeofParam = typeof param;\n    switch (typeofParam) {\n        case \"undefined\":\n            return \"undefined\";\n        case \"string\":\n        case \"number\":\n        case \"boolean\":\n            break;\n        default:\n            param = String(param);\n            break;\n    }\n    return encodeURIComponent(param);\n}\n","export function join(base, ...segments) {\n    if (!base) {\n        return \"\";\n    }\n    if (segments.length === 0) {\n        return base;\n    }\n    if (base.includes(\"://\")) {\n        let url;\n        try {\n            url = new URL(base);\n        }\n        catch (_a) {\n            // Fallback to path joining if URL is malformed\n            return joinPath(base, ...segments);\n        }\n        const lastSegment = segments[segments.length - 1];\n        const shouldPreserveTrailingSlash = lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.endsWith(\"/\");\n        for (const segment of segments) {\n            const cleanSegment = trimSlashes(segment);\n            if (cleanSegment) {\n                url.pathname = joinPathSegments(url.pathname, cleanSegment);\n            }\n        }\n        if (shouldPreserveTrailingSlash && !url.pathname.endsWith(\"/\")) {\n            url.pathname += \"/\";\n        }\n        return url.toString();\n    }\n    return joinPath(base, ...segments);\n}\nfunction joinPath(base, ...segments) {\n    if (segments.length === 0) {\n        return base;\n    }\n    let result = base;\n    const lastSegment = segments[segments.length - 1];\n    const shouldPreserveTrailingSlash = lastSegment === null || lastSegment === void 0 ? void 0 : lastSegment.endsWith(\"/\");\n    for (const segment of segments) {\n        const cleanSegment = trimSlashes(segment);\n        if (cleanSegment) {\n            result = joinPathSegments(result, cleanSegment);\n        }\n    }\n    if (shouldPreserveTrailingSlash && !result.endsWith(\"/\")) {\n        result += \"/\";\n    }\n    return result;\n}\nfunction joinPathSegments(left, right) {\n    if (left.endsWith(\"/\")) {\n        return left + right;\n    }\n    return `${left}/${right}`;\n}\nfunction trimSlashes(str) {\n    if (!str)\n        return str;\n    let start = 0;\n    let end = str.length;\n    if (str.startsWith(\"/\"))\n        start = 1;\n    if (str.endsWith(\"/\"))\n        end = str.length - 1;\n    return start === 0 && end === str.length ? str : str.slice(start, end);\n}\n","export const Supplier = {\n    get: (supplier) => {\n        if (typeof supplier === \"function\") {\n            return supplier();\n        }\n        else {\n            return supplier;\n        }\n    },\n    map: (supplier, f) => {\n        if (typeof supplier === \"function\") {\n            return () => f(Supplier.get(supplier));\n        }\n        else {\n            return f(supplier);\n        }\n    },\n};\n","export function mergeHeaders(...headersArray) {\n    const result = {};\n    for (const [key, value] of headersArray\n        .filter((headers) => headers != null)\n        .flatMap((headers) => Object.entries(headers))) {\n        const insensitiveKey = key.toLowerCase();\n        if (value != null) {\n            result[insensitiveKey] = value;\n        }\n        else if (insensitiveKey in result) {\n            delete result[insensitiveKey];\n        }\n    }\n    return result;\n}\nexport function mergeOnlyDefinedHeaders(...headersArray) {\n    const result = {};\n    for (const [key, value] of headersArray\n        .filter((headers) => headers != null)\n        .flatMap((headers) => Object.entries(headers))) {\n        const insensitiveKey = key.toLowerCase();\n        if (value != null) {\n            result[insensitiveKey] = value;\n        }\n    }\n    return result;\n}\n","/** THIS FILE IS MANUALLY MAINTAINED: see .fernignore */\nimport * as environments from \"../../../../../../environments.mjs\";\nimport * as core from \"../../../../../../core/index.mjs\";\nimport * as Hume from \"../../../../../index.mjs\";\nimport { mergeOnlyDefinedHeaders, mergeHeaders } from \"../../../../../../core/headers.mjs\";\nimport * as serializers from \"../../../../../../serialization/index.mjs\";\nimport { ChatSocket } from \"./Socket.mjs\";\nexport class Chat {\n    constructor(_options = {}) {\n        this._options = _options;\n    }\n    connect(args = {}) {\n        var _a, _b;\n        const { accessToken, configId, configVersion, eventLimit, resumedChatGroupId, verboseTranscription, voiceId, apiKey, sessionSettings, queryParams, headers, debug, reconnectAttempts, allowConnection, } = args;\n        const _queryParams = {};\n        if (accessToken != null) {\n            _queryParams[\"access_token\"] = accessToken;\n        }\n        if (configId != null) {\n            _queryParams[\"config_id\"] = configId;\n        }\n        if (configVersion != null) {\n            _queryParams[\"config_version\"] =\n                typeof configVersion === \"number\" ? configVersion.toString() : configVersion;\n        }\n        if (eventLimit != null) {\n            _queryParams[\"event_limit\"] = eventLimit.toString();\n        }\n        if (resumedChatGroupId != null) {\n            _queryParams[\"resumed_chat_group_id\"] = resumedChatGroupId;\n        }\n        if (verboseTranscription != null) {\n            _queryParams[\"verbose_transcription\"] = verboseTranscription.toString();\n        }\n        if (voiceId != null) {\n            _queryParams[\"voice_id\"] = voiceId;\n        }\n        if (apiKey != null) {\n            _queryParams[\"api_key\"] = apiKey;\n        }\n        if (allowConnection != null) {\n            _queryParams[\"allow_connection\"] = allowConnection === true ? \"true\" : \"false\";\n        }\n        if (sessionSettings != null) {\n            _queryParams[\"session_settings\"] = serializers.empathicVoice.ConnectSessionSettings.jsonOrThrow(sessionSettings, {\n                unrecognizedObjectKeys: \"passthrough\",\n                allowUnrecognizedUnionMembers: true,\n                allowUnrecognizedEnumValues: true,\n                omitUndefined: true,\n                breadcrumbsPrefix: [\"request\", \"sessionSettings\"],\n            });\n        }\n        // Merge in any additional query parameters\n        if (queryParams != null) {\n            for (const [name, value] of Object.entries(queryParams)) {\n                _queryParams[name] = value;\n            }\n        }\n        let _headers = mergeHeaders(mergeOnlyDefinedHeaders(Object.assign({}, this._getCustomAuthorizationHeaders())), headers);\n        const socket = new core.ReconnectingWebSocket({\n            url: core.url.join((_a = core.Supplier.get(this._options[\"baseUrl\"])) !== null && _a !== void 0 ? _a : ((_b = core.Supplier.get(this._options[\"environment\"])) !== null && _b !== void 0 ? _b : environments.HumeEnvironment.Prod).evi, \"/chat\"),\n            protocols: [],\n            queryParameters: _queryParams,\n            headers: _headers,\n            options: { debug: debug !== null && debug !== void 0 ? debug : false, maxRetries: reconnectAttempts !== null && reconnectAttempts !== void 0 ? reconnectAttempts : 30 },\n        });\n        return new ChatSocket({ socket });\n    }\n    _getCustomAuthorizationHeaders() {\n        var _a;\n        const apiKeyValue = core.Supplier.get(this._options.apiKey);\n        // This `authHeaderValue` is manually added as if you don't provide it it will\n        // be omitted from the headers which means it won't reach the logic in ws.ts that\n        // extracts values from the headers and adds them to query parameters.\n        const authHeaderValue = core.Supplier.get((_a = this._options.headers) === null || _a === void 0 ? void 0 : _a.authorization);\n        return { \"X-Hume-Api-Key\": apiKeyValue, Authorization: authHeaderValue };\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13]}