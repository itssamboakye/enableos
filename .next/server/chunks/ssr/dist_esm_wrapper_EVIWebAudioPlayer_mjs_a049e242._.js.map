{"version":3,"sources":["../../../../dist/esm/wrapper/convertBase64ToBlob.mjs","../../../../dist/esm/wrapper/convertFrequencyScale.mjs","../../../../dist/esm/wrapper/generateEmptyFft.mjs","../../../../dist/esm/wrapper/EVIWebAudioPlayer.mjs"],"sourcesContent":["/**\n * Converts a base64-encoded string into a `Blob` object with the specified content type.\n *\n * @param {string} base64 - The base64-encoded string representing binary data.\n * @param {string} contentType - The MIME type to assign to the resulting `Blob`.\n * @returns {Blob} A `Blob` object containing the binary data from the base64 string.\n */\nexport function convertBase64ToBlob(base64, contentType) {\n    // Decode base64 string to a binary string\n    const binaryString = window.atob(base64);\n    // Create a Uint8Array with the same length as the binary string\n    const byteArray = new Uint8Array(binaryString.length);\n    // Fill the Uint8Array by converting each character's Unicode value to a byte\n    for (let i = 0; i < binaryString.length; i++) {\n        byteArray[i] = binaryString.charCodeAt(i);\n    }\n    // Create and return a Blob with the specified content type\n    return new Blob([byteArray], { type: contentType });\n}\n","// This function converts linear-scaled frequency decibels from an AnalyserNode's frequncy data to Bark scale [https://en.wikipedia.org/wiki/Bark_scale]\n// This implementation uses a simple approach of mapping indices in the linear-scaled array to the closest\n// Bark scale center frequency and is not intended to be an accurate representation, but rather \"close-enough\" for visualization purposes\nconst barkCenterFrequencies = [\n    50, 150, 250, 350, 450, 570, 700, 840, 1000, 1170, 1370, 1600, 1850, 2150, 2500, 2900, 3400, 4000, 4800, 5800, 7000,\n    8500, 10500, 13500,\n]; // Center frequency value in Hz\n// Min/max values from https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode/getByteFrequencyData\nconst minValue = 0;\nconst maxValue = 255;\nexport function convertLinearFrequenciesToBark(linearData, sampleRate) {\n    const maxFrequency = sampleRate / 2;\n    const frequencyResolution = maxFrequency / linearData.length;\n    const barkFrequencies = barkCenterFrequencies.map((barkFreq) => {\n        var _a;\n        const linearDataIndex = Math.round(barkFreq / frequencyResolution);\n        if (linearDataIndex >= 0 && linearDataIndex < linearData.length) {\n            return ((((_a = linearData[linearDataIndex]) !== null && _a !== void 0 ? _a : 0) - minValue) / (maxValue - minValue)) * 2;\n        }\n        else {\n            return 0;\n        }\n    });\n    return barkFrequencies;\n}\n","export function generateEmptyFft() {\n    return Array.from({ length: 24 }).map(() => 0);\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _EVIWebAudioPlayer_instances, _a, _EVIWebAudioPlayer_DEFAULT_WORKLET_URL, _EVIWebAudioPlayer_DEFAULT_FFT_SIZE, _EVIWebAudioPlayer_DEFAULT_FFT_INTERVAL, _EVIWebAudioPlayer_ctx, _EVIWebAudioPlayer_workletNode, _EVIWebAudioPlayer_analyserNode, _EVIWebAudioPlayer_gainNode, _EVIWebAudioPlayer_initialized, _EVIWebAudioPlayer_playing, _EVIWebAudioPlayer_muted, _EVIWebAudioPlayer_volume, _EVIWebAudioPlayer_disableAudioWorklet, _EVIWebAudioPlayer_fft, _EVIWebAudioPlayer_fftTimer, _EVIWebAudioPlayer_fftOptions, _EVIWebAudioPlayer_clipQueue, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, _EVIWebAudioPlayer_isProcessing, _EVIWebAudioPlayer_lastQueuedChunk, _EVIWebAudioPlayer_chunkBufferQueues, _EVIWebAudioPlayer_startAnalyserPollingIfEnabled, _EVIWebAudioPlayer_emitError, _EVIWebAudioPlayer_convertToAudioBuffer, _EVIWebAudioPlayer_getNextAudioBuffers, _EVIWebAudioPlayer_playNextClip;\nimport { convertBase64ToBlob } from \"./convertBase64ToBlob.mjs\";\nimport { convertLinearFrequenciesToBark } from \"./convertFrequencyScale.mjs\";\nimport { generateEmptyFft } from \"./generateEmptyFft.mjs\";\n/**\n * A sequential, glitch-free Web-Audio player for **EVI** audio output.\n *\n * - **Decoding & playback**: base-64 PCM chunks feed an `AudioWorkletNode` and play in order, without gaps.\n * - **One-time init**: await {@link init} in a user-gesture to build audio graph and unlock the browser’s\n *  `AudioContext`; later calls are no-ops.\n * - **Optional FFT**: `{ fft: { enabled: true } }` adds an `AnalyserNode` and emits `'fft'` events; omit to skip.\n * - **Controls**: {@link setVolume}, {@link mute}, {@link unmute}, {@link stop}, {@link dispose}.\n * - **Events**: listen for `'play'`, `'stop'`, `'fft'`, `'error'`.\n */\nexport class EVIWebAudioPlayer extends EventTarget {\n    /** `true` while any clip is currently audible. */\n    get playing() {\n        return __classPrivateFieldGet(this, _EVIWebAudioPlayer_playing, \"f\");\n    }\n    /** `true` if gain is set to 0 via {@link mute}. */\n    get muted() {\n        return __classPrivateFieldGet(this, _EVIWebAudioPlayer_muted, \"f\");\n    }\n    /** Current output gain (0‑1). */\n    get volume() {\n        return __classPrivateFieldGet(this, _EVIWebAudioPlayer_volume, \"f\");\n    }\n    /** Most recent FFT frame (empty when analyser disabled). */\n    get fft() {\n        return __classPrivateFieldGet(this, _EVIWebAudioPlayer_fft, \"f\");\n    }\n    constructor(opts = {}) {\n        var _b, _c, _d;\n        super();\n        _EVIWebAudioPlayer_instances.add(this);\n        this.opts = opts;\n        _EVIWebAudioPlayer_ctx.set(this, null);\n        _EVIWebAudioPlayer_workletNode.set(this, null);\n        _EVIWebAudioPlayer_analyserNode.set(this, null);\n        _EVIWebAudioPlayer_gainNode.set(this, null);\n        _EVIWebAudioPlayer_initialized.set(this, false);\n        _EVIWebAudioPlayer_playing.set(this, false);\n        _EVIWebAudioPlayer_muted.set(this, false);\n        _EVIWebAudioPlayer_volume.set(this, void 0);\n        _EVIWebAudioPlayer_disableAudioWorklet.set(this, void 0);\n        _EVIWebAudioPlayer_fft.set(this, generateEmptyFft());\n        _EVIWebAudioPlayer_fftTimer.set(this, null);\n        _EVIWebAudioPlayer_fftOptions.set(this, null);\n        _EVIWebAudioPlayer_clipQueue.set(this, []);\n        _EVIWebAudioPlayer_currentlyPlayingAudioBuffer.set(this, null);\n        _EVIWebAudioPlayer_isProcessing.set(this, false);\n        // chunkBufferQueues and #lastQueuedChunk are used to make sure that\n        // we don't play chunks out of order. #chunkBufferQueues is NOT the\n        // audio playback queue.\n        _EVIWebAudioPlayer_lastQueuedChunk.set(this, null);\n        _EVIWebAudioPlayer_chunkBufferQueues.set(this, {});\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_volume, (_b = opts.volume) !== null && _b !== void 0 ? _b : 1.0, \"f\");\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_disableAudioWorklet, (_c = opts.disableAudioWorklet) !== null && _c !== void 0 ? _c : false, \"f\");\n        // Resolve FFT options if enabled\n        if ((_d = opts.fft) === null || _d === void 0 ? void 0 : _d.enabled) {\n            const { size, interval, transform } = opts.fft;\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_fftOptions, {\n                size: size !== null && size !== void 0 ? size : __classPrivateFieldGet(_a, _a, \"f\", _EVIWebAudioPlayer_DEFAULT_FFT_SIZE),\n                interval: interval !== null && interval !== void 0 ? interval : __classPrivateFieldGet(_a, _a, \"f\", _EVIWebAudioPlayer_DEFAULT_FFT_INTERVAL),\n                transform: transform !== null && transform !== void 0 ? transform : ((bins, sampleRate) => convertLinearFrequenciesToBark(bins, sampleRate)),\n            }, \"f\");\n        }\n    }\n    /**\n     * * Subscribes to a player event and returns `this` for chaining.\n     *\n     * @param type One of `'play'`, `'stop'`, `'fft'`, or `'error'`.\n     * @param fn Handler invoked with the event’s typed `detail` payload.\n     * @param opts Optional `AddEventListenerOptions` (e.g. `{ once: true }`).\n     *\n     * @example\n     *  ```ts\n     *  const player = new EVIWebAudioPlayer();\n     *  player\n     *    .on('play', e => console.log('play',  e.detail.id))\n     *    .on('stop', e => console.log('stop',  e.detail.id))\n     *    .on('fft', e => console.log('stop',  e.detail.fft))\n     *    .on('error', e => console.error('error', e.detail.message));\n     *  ```\n     */\n    on(type, fn, opts) {\n        super.addEventListener(type, fn, opts);\n        return this;\n    }\n    /**\n     * Set up and start the player’s Web-Audio pipeline.\n     *\n     * - Creates a **suspended** `AudioContext`, loads the worklet processor, wires `AudioWorkletNode → (AnalyserNode?) → GainNode → destination`, then calls `resume()`.\n     * - Must be awaited inside a user-gesture (click/tap/key); later calls are no-ops.\n     * - If `fft.enabled` is `false` (or `fft` is omitted), no `AnalyserNode` or polling timer is created.\n     *\n     * **Safari quirk:** Safari locks an `AudioContext` to the device’s current sample rate at creation.\n     * If you open a Bluetooth headset mic afterward, the OS may switch to the 16 kHz HFP profile and down-sample playback, which sounds “telephone-y.”\n     * To avoid this, call `getUserMedia()` (or otherwise open audio input) **before** `init()`.\n     *\n     * @throws {Error} If the browser lacks `AudioWorklet` support, or if `AudioContext.resume()` is rejected (autoplay policy, device error).\n     */\n    init() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_initialized, \"f\"))\n                return;\n            // Create the AudioContext\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_ctx, new AudioContext(), \"f\");\n            // Fail fast if AudioWorklet isn’t supported\n            if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").audioWorklet) {\n                console.warn(\"AudioWorklet is not supported in this browser. Falling back to Regular Buffer Mode.\");\n                __classPrivateFieldSet(this, _EVIWebAudioPlayer_disableAudioWorklet, true, \"f\");\n            }\n            try {\n                // Build GainNode\n                __classPrivateFieldSet(this, _EVIWebAudioPlayer_gainNode, __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").createGain(), \"f\");\n                __classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\").gain.value = __classPrivateFieldGet(this, _EVIWebAudioPlayer_volume, \"f\");\n                // Build AnalyserNode (optional)\n                if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_fftOptions, \"f\")) {\n                    __classPrivateFieldSet(this, _EVIWebAudioPlayer_analyserNode, __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").createAnalyser(), \"f\");\n                    __classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\").fftSize = __classPrivateFieldGet(this, _EVIWebAudioPlayer_fftOptions, \"f\").size;\n                }\n                else {\n                    // Always create AnalyserNode, even if FFT is disabled, to avoid null checks in Buffer Mode\n                    __classPrivateFieldSet(this, _EVIWebAudioPlayer_analyserNode, __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").createAnalyser(), \"f\");\n                    __classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\").fftSize = __classPrivateFieldGet(_a, _a, \"f\", _EVIWebAudioPlayer_DEFAULT_FFT_SIZE);\n                }\n                if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_disableAudioWorklet, \"f\")) {\n                    // Loads the AudioWorklet processor module.\n                    yield __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").audioWorklet.addModule(__classPrivateFieldGet(_a, _a, \"f\", _EVIWebAudioPlayer_DEFAULT_WORKLET_URL));\n                    // Build AudioWorkletNode\n                    __classPrivateFieldSet(this, _EVIWebAudioPlayer_workletNode, new AudioWorkletNode(__classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\"), \"audio-processor\"), \"f\");\n                    // When the worklet posts { type: \"ended\" }, mark playback stopped and emit a `'stop'` event.\n                    __classPrivateFieldGet(this, _EVIWebAudioPlayer_workletNode, \"f\").port.onmessage = (e) => {\n                        if (e.data.type === \"ended\") {\n                            __classPrivateFieldSet(this, _EVIWebAudioPlayer_playing, false, \"f\");\n                            this.dispatchEvent(new CustomEvent(\"stop\", { detail: { id: \"stream\" } }));\n                        }\n                    };\n                    // Audio graph nodes\n                    const workletNode = __classPrivateFieldGet(this, _EVIWebAudioPlayer_workletNode, \"f\"); // AudioWorkletNode (PCM processor)\n                    const analyserNode = __classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\"); // Optional AnalyserNode (FFT)\n                    const gainNode = __classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\"); // GainNode (volume control)\n                    const destination = __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").destination; // AudioDestinationNode (speakers)\n                    // Analyser node is filtered out of audio graph if null (FFT disabled)\n                    const audioGraph = [workletNode, analyserNode, gainNode, destination].filter(Boolean);\n                    // Wire nodes: AudioWorkletNode → (AnalyserNode?) → GainNode → AudioDestinationNode\n                    audioGraph.reduce((prev, next) => (prev.connect(next), next));\n                }\n                else {\n                    // Regular Buffer Mode\n                    const analyserNode = __classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\");\n                    const gainNode = __classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\");\n                    const destination = __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").destination;\n                    // Wire nodes: (AnalyserNode?) → GainNode → AudioDestinationNode\n                    const audioGraph = [analyserNode, gainNode, destination].filter(Boolean);\n                    audioGraph.reduce((prev, next) => (prev.connect(next), next));\n                }\n                // If an analyser is configured, begin polling it at the resolved interval and dispatching `'fft'` events for each frame.\n                __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_startAnalyserPollingIfEnabled).call(this);\n                // Resume the AudioContext now that the audio graph is fully wired.\n                // Browsers allow `resume()` only inside a user-gesture callback.\n                // Any rejection (autoplay policy, hardware issue, etc.) is caught by the outer catch-block below, which emits an 'error' event and re-throws.\n                yield __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").resume();\n                __classPrivateFieldSet(this, _EVIWebAudioPlayer_initialized, true, \"f\");\n            }\n            catch (err) {\n                const suffix = err instanceof Error ? `: ${err.message}` : String(err);\n                __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, `Failed to initialize audio player${suffix}`);\n                throw err;\n            }\n        });\n    }\n    /**\n     * Queue one {@link AudioOutput} message for playback.\n     *\n     * Decodes the base-64 PCM data, sends it to the `AudioWorkletNode` for glitch-free, in-order playback, and emits `'play'` for the first chunk of a new stream.\n     *\n     * @param message The `AudioOutput` message received from EVI’s WebSocket.\n     *\n     * @see {@link https://dev.hume.ai/reference/empathic-voice-interface-evi/chat/chat#receive.Audio-Output.type API Reference}\n     */\n    enqueue(message) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_initialized, \"f\") || !__classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\")) {\n                __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, \"Audio player is not initialized\");\n                return;\n            }\n            if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_disableAudioWorklet, \"f\")) {\n                try {\n                    const { data, id } = message;\n                    const blob = convertBase64ToBlob(data);\n                    const buffer = yield blob.arrayBuffer();\n                    const audio = yield __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").decodeAudioData(buffer);\n                    const pcmData = audio.getChannelData(0);\n                    __classPrivateFieldGet(this, _EVIWebAudioPlayer_workletNode, \"f\").port.postMessage({ type: \"audio\", data: pcmData });\n                    __classPrivateFieldSet(this, _EVIWebAudioPlayer_playing, true, \"f\");\n                    this.dispatchEvent(new CustomEvent(\"play\", { detail: { id } }));\n                }\n                catch (err) {\n                    const msg = err instanceof Error ? err.message : \"Unknown error\";\n                    __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, `Failed to queue clip: ${msg}`);\n                }\n            }\n            else {\n                // Regular Buffer Mode\n                try {\n                    const audioBuffer = yield __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_convertToAudioBuffer).call(this, message);\n                    if (!audioBuffer) {\n                        __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, \"Failed to convert data to audio buffer\");\n                        return;\n                    }\n                    const playableBuffers = __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_getNextAudioBuffers).call(this, message, audioBuffer);\n                    if (playableBuffers.length === 0) {\n                        return;\n                    }\n                    for (const nextAudioBufferToPlay of playableBuffers) {\n                        __classPrivateFieldGet(this, _EVIWebAudioPlayer_clipQueue, \"f\").push({\n                            id: nextAudioBufferToPlay.id,\n                            buffer: nextAudioBufferToPlay.buffer,\n                            index: nextAudioBufferToPlay.index,\n                        });\n                        if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_clipQueue, \"f\").length === 1) {\n                            __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_playNextClip).call(this);\n                        }\n                    }\n                }\n                catch (e) {\n                    const eMessage = e instanceof Error ? e.message : \"Unknown error\";\n                    __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, `Failed to add clip to queue: ${eMessage}`);\n                }\n            }\n        });\n    }\n    /**\n     * Flush the worklet queue and output silence.\n     */\n    stop() {\n        var _b;\n        if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_disableAudioWorklet, \"f\")) {\n            // Clear buffered audio from the worklet queue\n            (_b = __classPrivateFieldGet(this, _EVIWebAudioPlayer_workletNode, \"f\")) === null || _b === void 0 ? void 0 : _b.port.postMessage({ type: \"fadeAndClear\" });\n        }\n        else {\n            // Regular Buffer mode\n            if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, \"f\")) {\n                __classPrivateFieldGet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, \"f\").stop();\n                __classPrivateFieldGet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, \"f\").disconnect();\n                __classPrivateFieldSet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, null, \"f\");\n            }\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_clipQueue, [], \"f\");\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_isProcessing, false, \"f\");\n        }\n        // Restart analyser polling so fft events continue after stopping or clearing the queue\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_startAnalyserPollingIfEnabled).call(this);\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_playing, false, \"f\");\n        this.dispatchEvent(new CustomEvent(\"stop\", { detail: { id: \"manual\" } }));\n    }\n    /**\n     * Set the master gain ({@link volume}) to a value between `0` (_silent_) and `1` (_full volume_).\n     *\n     * - Clamps out-of-range values.\n     * - If called before {@link init}, stores volume for when `AudioContext` is created.\n     * - If currently {@link muted}, updates stored volume but keeps output silent until {@link unmute}.\n     *\n     * @param volume Desired gain; clamped to [0, 1].\n     */\n    setVolume(volume) {\n        const clampedVolume = Math.max(0, Math.min(volume, 1));\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_volume, clampedVolume, \"f\");\n        if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\") && __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\") && !__classPrivateFieldGet(this, _EVIWebAudioPlayer_muted, \"f\")) {\n            __classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\").gain.setValueAtTime(clampedVolume, __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").currentTime);\n        }\n    }\n    /**\n     * Mute output instantly by setting the gain to 0. Retains the last volume internally for later restore.\n     */\n    mute() {\n        if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\") || !__classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\"))\n            return;\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\").gain.setValueAtTime(0, __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").currentTime);\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_muted, true, \"f\");\n    }\n    /**\n     * Restore output gain to the last set volume (via setVolume).\n     */\n    unmute() {\n        if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\") || !__classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\"))\n            return;\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\").gain.setValueAtTime(__classPrivateFieldGet(this, _EVIWebAudioPlayer_volume, \"f\"), __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").currentTime);\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_muted, false, \"f\");\n    }\n    /**\n     * Tear down all Web-Audio resources (worklet, analyser, gain, context) and reset state so {@link init} can be called again.\n     */\n    dispose() {\n        var _b, _c, _d, _e, _f, _g, _h;\n        if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_fftTimer, \"f\") != null) {\n            clearInterval(__classPrivateFieldGet(this, _EVIWebAudioPlayer_fftTimer, \"f\"));\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_fftTimer, null, \"f\");\n        }\n        if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_disableAudioWorklet, \"f\")) {\n            (_b = __classPrivateFieldGet(this, _EVIWebAudioPlayer_workletNode, \"f\")) === null || _b === void 0 ? void 0 : _b.port.postMessage({ type: \"fadeAndClear\" });\n            (_c = __classPrivateFieldGet(this, _EVIWebAudioPlayer_workletNode, \"f\")) === null || _c === void 0 ? void 0 : _c.port.postMessage({ type: \"end\" });\n            (_d = __classPrivateFieldGet(this, _EVIWebAudioPlayer_workletNode, \"f\")) === null || _d === void 0 ? void 0 : _d.port.close();\n            (_e = __classPrivateFieldGet(this, _EVIWebAudioPlayer_workletNode, \"f\")) === null || _e === void 0 ? void 0 : _e.disconnect();\n        }\n        else {\n            // Regular Buffer mode\n            if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, \"f\")) {\n                __classPrivateFieldGet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, \"f\").stop();\n                __classPrivateFieldGet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, \"f\").disconnect();\n                __classPrivateFieldSet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, null, \"f\");\n            }\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_clipQueue, [], \"f\");\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_isProcessing, false, \"f\");\n        }\n        (_f = __classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\")) === null || _f === void 0 ? void 0 : _f.disconnect();\n        (_g = __classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\")) === null || _g === void 0 ? void 0 : _g.disconnect();\n        (_h = __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\")) === null || _h === void 0 ? void 0 : _h.close().catch(() => void 0);\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_initialized, false, \"f\");\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_playing, false, \"f\");\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_fft, generateEmptyFft(), \"f\");\n    }\n}\n_a = EVIWebAudioPlayer, _EVIWebAudioPlayer_ctx = new WeakMap(), _EVIWebAudioPlayer_workletNode = new WeakMap(), _EVIWebAudioPlayer_analyserNode = new WeakMap(), _EVIWebAudioPlayer_gainNode = new WeakMap(), _EVIWebAudioPlayer_initialized = new WeakMap(), _EVIWebAudioPlayer_playing = new WeakMap(), _EVIWebAudioPlayer_muted = new WeakMap(), _EVIWebAudioPlayer_volume = new WeakMap(), _EVIWebAudioPlayer_disableAudioWorklet = new WeakMap(), _EVIWebAudioPlayer_fft = new WeakMap(), _EVIWebAudioPlayer_fftTimer = new WeakMap(), _EVIWebAudioPlayer_fftOptions = new WeakMap(), _EVIWebAudioPlayer_clipQueue = new WeakMap(), _EVIWebAudioPlayer_currentlyPlayingAudioBuffer = new WeakMap(), _EVIWebAudioPlayer_isProcessing = new WeakMap(), _EVIWebAudioPlayer_lastQueuedChunk = new WeakMap(), _EVIWebAudioPlayer_chunkBufferQueues = new WeakMap(), _EVIWebAudioPlayer_instances = new WeakSet(), _EVIWebAudioPlayer_startAnalyserPollingIfEnabled = function _EVIWebAudioPlayer_startAnalyserPollingIfEnabled() {\n    if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_fftOptions, \"f\") || !__classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\"))\n        return;\n    if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_fftTimer, \"f\"))\n        clearInterval(__classPrivateFieldGet(this, _EVIWebAudioPlayer_fftTimer, \"f\"));\n    const { interval, transform } = __classPrivateFieldGet(this, _EVIWebAudioPlayer_fftOptions, \"f\");\n    __classPrivateFieldSet(this, _EVIWebAudioPlayer_fftTimer, window.setInterval(() => {\n        const bins = new Uint8Array(__classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\").frequencyBinCount);\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\").getByteFrequencyData(bins);\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_fft, transform(bins, __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").sampleRate), \"f\");\n        this.dispatchEvent(new CustomEvent(\"fft\", { detail: { fft: __classPrivateFieldGet(this, _EVIWebAudioPlayer_fft, \"f\") } }));\n    }, interval), \"f\");\n}, _EVIWebAudioPlayer_emitError = function _EVIWebAudioPlayer_emitError(message) {\n    this.dispatchEvent(new CustomEvent(\"error\", { detail: { message } }));\n}, _EVIWebAudioPlayer_convertToAudioBuffer = function _EVIWebAudioPlayer_convertToAudioBuffer(message) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_initialized, \"f\") || !__classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\")) {\n            __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, \"Audio player has not been initialized\");\n            return;\n        }\n        const blob = convertBase64ToBlob(message.data);\n        const arrayBuffer = yield blob.arrayBuffer();\n        const audioBuffer = yield __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").decodeAudioData(arrayBuffer);\n        return audioBuffer;\n    });\n}, _EVIWebAudioPlayer_getNextAudioBuffers = function _EVIWebAudioPlayer_getNextAudioBuffers(message, audioBuffer) {\n    var _b, _c;\n    // Prevent prototype pollution by restricting dangerous property names.\n    if (message.id === \"__proto__\" || message.id === \"constructor\" || message.id === \"prototype\") {\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, `Attempted to use a dangerous property name as message ID: ${message.id}`);\n        return [];\n    }\n    //1. Add the current buffer to the queue\n    if (!__classPrivateFieldGet(this, _EVIWebAudioPlayer_chunkBufferQueues, \"f\")[message.id]) {\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_chunkBufferQueues, \"f\")[message.id] = [];\n    }\n    // Ensure message.index is a safe, non-negative integer to prevent prototype pollution.\n    if (!Number.isInteger(message.index) || message.index < 0) {\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, `Attempted to use an invalid index: ${message.index}`);\n        return [];\n    }\n    const queueForCurrMessage = __classPrivateFieldGet(this, _EVIWebAudioPlayer_chunkBufferQueues, \"f\")[message.id] || [];\n    queueForCurrMessage[message.index] = audioBuffer;\n    // 2. Now collect buffers that are ready to be played\n    const lastId = (_b = __classPrivateFieldGet(this, _EVIWebAudioPlayer_lastQueuedChunk, \"f\")) === null || _b === void 0 ? void 0 : _b.id;\n    const buffers = [];\n    // If the current message ID is different from the last one that was added\n    // to the queue, that means that we're playing a new message now, so the first chunk\n    // we play needs to be at index 0.\n    if (message.id !== lastId) {\n        if (queueForCurrMessage[0]) {\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_lastQueuedChunk, { id: message.id, index: 0 }, \"f\");\n            buffers.push({\n                id: message.id,\n                index: 0,\n                buffer: queueForCurrMessage[0],\n            });\n            queueForCurrMessage[0] = undefined;\n        }\n        else {\n            return [];\n        }\n    }\n    // Drain the queue - basically if any chunks were received out of order previously,\n    // and they're now ready to be played because the earlier chunks\n    // have been received, we can add them to the buffers array.\n    let nextIdx = (((_c = __classPrivateFieldGet(this, _EVIWebAudioPlayer_lastQueuedChunk, \"f\")) === null || _c === void 0 ? void 0 : _c.index) || 0) + 1;\n    let nextBuf = queueForCurrMessage[nextIdx];\n    while (nextBuf) {\n        buffers.push({ index: nextIdx, buffer: nextBuf, id: message.id });\n        queueForCurrMessage[nextIdx] = undefined;\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_lastQueuedChunk, { id: message.id, index: nextIdx }, \"f\");\n        nextIdx += 1;\n        nextBuf = queueForCurrMessage[nextIdx];\n    }\n    return buffers;\n}, _EVIWebAudioPlayer_playNextClip = function _EVIWebAudioPlayer_playNextClip() {\n    var _b, _c;\n    if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_clipQueue, \"f\").length === 0 || __classPrivateFieldGet(this, _EVIWebAudioPlayer_isProcessing, \"f\")) {\n        return;\n    }\n    if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\") === null || __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\") === null) {\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_emitError).call(this, \"Audio player is not initialized\");\n        return;\n    }\n    const nextClip = __classPrivateFieldGet(this, _EVIWebAudioPlayer_clipQueue, \"f\").shift();\n    if (!nextClip) {\n        return;\n    }\n    __classPrivateFieldSet(this, _EVIWebAudioPlayer_isProcessing, true, \"f\");\n    __classPrivateFieldSet(this, _EVIWebAudioPlayer_playing, true, \"f\");\n    const bufferSource = __classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").createBufferSource();\n    bufferSource.buffer = nextClip.buffer;\n    if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\")) {\n        bufferSource.connect(__classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\"));\n    }\n    if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\")) {\n        (_b = __classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\")) === null || _b === void 0 ? void 0 : _b.connect(__classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\"));\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_gainNode, \"f\").connect(__classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").destination);\n    }\n    else {\n        (_c = __classPrivateFieldGet(this, _EVIWebAudioPlayer_analyserNode, \"f\")) === null || _c === void 0 ? void 0 : _c.connect(__classPrivateFieldGet(this, _EVIWebAudioPlayer_ctx, \"f\").destination);\n    }\n    __classPrivateFieldSet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, bufferSource, \"f\");\n    __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_startAnalyserPollingIfEnabled).call(this);\n    bufferSource.start(0);\n    if (nextClip.index === 0) {\n        this.dispatchEvent(new CustomEvent(\"play\", { detail: { id: nextClip.id } }));\n    }\n    bufferSource.onended = () => {\n        if (__classPrivateFieldGet(this, _EVIWebAudioPlayer_fftTimer, \"f\")) {\n            clearInterval(__classPrivateFieldGet(this, _EVIWebAudioPlayer_fftTimer, \"f\"));\n            __classPrivateFieldSet(this, _EVIWebAudioPlayer_fftTimer, null, \"f\");\n        }\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_fft, generateEmptyFft(), \"f\");\n        bufferSource.disconnect();\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_isProcessing, false, \"f\");\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_playing, false, \"f\");\n        this.dispatchEvent(new CustomEvent(\"stop\", { detail: { id: nextClip.id } }));\n        __classPrivateFieldSet(this, _EVIWebAudioPlayer_currentlyPlayingAudioBuffer, null, \"f\");\n        __classPrivateFieldGet(this, _EVIWebAudioPlayer_instances, \"m\", _EVIWebAudioPlayer_playNextClip).call(this);\n    };\n};\n/** Default URL of the `audio-worklet.js` processor module, fetched from Hume AI’s CDN. */\n_EVIWebAudioPlayer_DEFAULT_WORKLET_URL = { value: \"https://storage.googleapis.com/evi-react-sdk-assets/audio-worklet-20250506.js\" };\n/** Default FFT size (power-of-two). */\n_EVIWebAudioPlayer_DEFAULT_FFT_SIZE = { value: 2048 };\n/** Default analyser poll interval (16 ms). */\n_EVIWebAudioPlayer_DEFAULT_FFT_INTERVAL = { value: 16 };\n"],"names":[],"mappings":"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"}